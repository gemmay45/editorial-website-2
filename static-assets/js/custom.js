function ObjectIron(e){var t;for(t=[],i=0,len=e.length;i<len;i+=1)t.push(e[i].isRoot?"root":e[i].name);var n=function(e,t){var n;if(null!==e&&null!==t)for(n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]))},r=function(e,t,r){var i,o,a,s,l;if(null!==e&&0!==e.length)for(i=0,o=e.length;o>i;i+=1)a=e[i],t.hasOwnProperty(a.name)&&(r.hasOwnProperty(a.name)?a.merge&&(s=t[a.name],l=r[a.name],"object"==typeof s&&"object"==typeof l?n(s,l):r[a.name]=null!=a.mergeFunction?a.mergeFunction(s,l):s+l):r[a.name]=t[a.name])},o=function(e,t){var n,i,a,s,l,u,d,c=e;if(null!==c.children&&0!==c.children.length)for(n=0,i=c.children.length;i>n;n+=1)if(u=c.children[n],t.hasOwnProperty(u.name))if(u.isArray)for(l=t[u.name+"_asArray"],a=0,s=l.length;s>a;a+=1)d=l[a],r(c.properties,t,d),o(u,d);else d=t[u.name],r(c.properties,t,d),o(u,d)},a=function(n){var r,i,s,l,u,d,c;if(null===n)return n;if("object"!=typeof n)return n;for(r=0,i=t.length;i>r;r+=1)"root"===t[r]&&(u=e[r],d=n,o(u,d));for(l in n)if(n.hasOwnProperty(l)){if(s=t.indexOf(l),-1!==s)if(u=e[s],u.isArray)for(c=n[l+"_asArray"],r=0,i=c.length;i>r;r+=1)d=c[r],o(u,d);else d=n[l],o(u,d);a(n[l])}return n};return{run:a}}function X2JS(e,t,n){function r(e){var t=e.localName;return null==t&&(t=e.baseName),(null==t||""==t)&&(t=e.nodeName),t}function i(e){return e.prefix}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function a(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(o){if(o.nodeType==b.DOCUMENT_NODE){var l,u,d,c=o.firstChild;for(u=0,d=o.childNodes.length;d>u;u+=1)if(o.childNodes[u].nodeType!==b.COMMENT_NODE){c=o.childNodes[u];break}if(n)l=s(c);else{l={};var p=r(c);l[p]=s(c)}return l}if(o.nodeType==b.ELEMENT_NODE){var l=new Object;l.__cnt=0;for(var h=o.childNodes,f=0;f<h.length;f++){var c=h.item(f),p=r(c);if(l.__cnt++,null==l[p])l[p]=s(c),l[p+"_asArray"]=new Array(1),l[p+"_asArray"][0]=l[p];else{if(null!=l[p]&&!(l[p]instanceof Array)){var m=l[p];l[p]=new Array,l[p][0]=m,l[p+"_asArray"]=l[p]}for(var g=0;null!=l[p][g];)g++;l[p][g]=s(c)}}for(var y=0;y<o.attributes.length;y++){var v=o.attributes.item(y);l.__cnt++;for(var S=v.value,T=0,w=e.length;w>T;T++){var k=e[T];k.test.call(this,v.value)&&(S=k.converter.call(this,v.value),l[t+v.name+k.suffix()]=S,S=null)}S&&(l[t+v.name]=S)}var E=i(o);return null!=E&&""!=E&&(l.__cnt++,l.__prefix=E),1==l.__cnt&&null!=l["#text"]&&(l=l["#text"]),null!=l["#text"]&&(l.__text=l["#text"],_&&(l.__text=a(l.__text)),delete l["#text"],delete l["#text_asArray"]),null!=l["#cdata-section"]&&(l.__cdata=l["#cdata-section"],delete l["#cdata-section"],delete l["#cdata-section_asArray"]),(null!=l.__text||null!=l.__cdata)&&(l.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),l}return o.nodeType==b.TEXT_NODE||o.nodeType==b.CDATA_SECTION_NODE?o.nodeValue:o.nodeType==b.COMMENT_NODE?null:void 0}function l(e,t,n,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];i+=" "+a.substr(1)+"='"+s+"'"}return i+=r?"/>":">"}function u(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function d(e,t){return-1!==e.indexOf(t,e.length-t.length)}function c(e,t){return!!(d(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function p(e){var t=0;if(e instanceof Object)for(var n in e)c(e,n)||t++;return t}function h(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf("_")&&t.push(n);return t}function f(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=_?o(e.__text):e.__text),t}function m(e){var t="";return e instanceof Object?t+=f(e):null!=e&&(t+=_?o(e):e),t}function g(e,t,n){var r="";if(0==e.length)r+=l(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=l(e[i],t,h(e[i]),!1),r+=y(e[i]),r+=u(e[i],t);return r}function y(e){var t="",n=p(e);if(n>0)for(var r in e)if(!c(e,r)){var i=e[r],o=h(i);if(null==i||void 0==i)t+=l(i,r,o,!0);else if(i instanceof Object)if(i instanceof Array)t+=g(i,r,o);else{var a=p(i);a>0||null!=i.__text||null!=i.__cdata?(t+=l(i,r,o,!1),t+=y(i),t+=u(i,r)):t+=l(i,r,o,!0)}else t+=l(i,r,o,!1),t+=m(i),t+=u(i,r)}return t+=m(e)}(null===t||void 0===t)&&(t="_"),(null===n||void 0===n)&&(n=!1);var v="1.0.11",_=!1,b={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t;if(window.DOMParser){var n=new window.DOMParser;t=n.parseFromString(e,"text/xml")}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.xml2json=function(e){return s(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return this.xml2json(t)},this.json2xml_str=function(e){return y(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return v},this.escapeMode=function(e){_=e}}var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){!n&&hasProp(e,i)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,a,s,l,u,d,c,p,h,f,m,g=n&&n.split("/"),y=w.map,v=y&&y["*"];if(e&&(e=e.split("/"),d=e.length-1,w.nodeIdCompat&&jsSuffixRegExp.test(e[d])&&(e[d]=e[d].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),t(e),e=e.join("/")),r&&y&&(g||v)){a=e.split("/");e:for(s=a.length;s>0;s-=1){if(u=a.slice(0,s).join("/"),g)for(l=g.length;l>0;l-=1)if(o=getOwn(y,g.slice(0,l).join("/")),o&&(o=getOwn(o,u))){c=o,p=s;break e}!h&&v&&getOwn(v,u)&&(h=getOwn(v,u),f=s)}!c&&h&&(c=h,p=f),c&&(a.splice(0,p,c),e=a.join("/"))}return i=getOwn(w.pkgs,e),i?i:e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===b.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=getOwn(w.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),b.require.undef(e),b.makeRequire(null,{skipMap:!0})([e]),!0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,i){var a,s,l,u,d=null,c=t?t.name:null,p=e,h=!0,f="";return e||(h=!1,e="_@r"+(R+=1)),u=o(e),d=u[0],e=u[1],d&&(d=n(d,c,i),s=getOwn(I,d)),e&&(d?f=s&&s.normalize?s.normalize(e,function(e){return n(e,c,i)}):e.indexOf("!")===-1?n(e,c,i):e:(f=n(e,c,i),u=o(f),d=u[0],f=u[1],r=!0,a=b.nameToUrl(f))),l=!d||s||r?"":"_unnormalized"+(j+=1),{prefix:d,name:f,parentMap:t,unnormalized:!!l,url:a,originalName:p,isDefine:h,id:(d?d+"!"+f:f)+l}}function s(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new b.Module(e)),n}function l(e,t,n){var r=e.id,i=getOwn(k,r);!hasProp(I,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(I[r])}function u(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function d(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(b.defQueueMap[t]=!0),P.push(e)}),globalDefQueue=[])}function c(e){delete k[e],delete E[e]}function p(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(k,o);!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,I[o]),e.check()):p(a,t,n))}),n[r]=!0)}function h(){var e,t,n=1e3*w.waitSeconds,o=n&&b.startTime+n<(new Date).getTime(),a=[],s=[],l=!1,d=!0;if(!v){if(v=!0,eachProp(E,function(e){var n=e.map,u=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&o)i(u)?(t=!0,l=!0):(a.push(u),r(u));else if(!e.inited&&e.fetched&&n.isDefine&&(l=!0,!n.prefix))return d=!1}),o&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=b.contextName,u(e);d&&each(s,function(e){p(e,{},{})}),o&&!t||!l||!isBrowser&&!isWebWorker||T||(T=setTimeout(function(){T=0,h()},50)),v=!1}}function f(e){hasProp(I,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,b.onScriptLoad,"load","onreadystatechange"),m(t,b.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function y(){var e;for(d();P.length;){if(e=P.shift(),null===e[0])return u(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}b.defQueueMap={}}var v,_,b,S,T,w={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},E={},C={},P=[],I={},M={},A={},R=1,j=1;return S={require:function(e){return e.require?e.require:e.require=b.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?I[e.map.id]=e.exports:e.exports=I[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(w.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},_=function(e){this.events=getOwn(C,e.id)||{},this.map=e,this.shim=getOwn(w.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},_.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var e=this.map;return this.shim?void b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;M[e]||(M[e]=!0,b.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){try{i=b.execCb(n,o,r,i)}catch(a){e=a}if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",u(this.error=e);"undefined"!=typeof console&&console.error?console.error(e):req.onError(e)}}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(I[n]=i,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(b,this.map,s)}c(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(b.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),l(r,"defined",bind(this,function(r){var i,o,d,p=getOwn(A,this.map.id),h=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,m=b.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(h=r.normalize(h,function(e){return n(e,f,!0)})||""),o=a(e.prefix+"!"+h,this.map.parentMap),l(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),d=getOwn(k,o.id),void(d&&(this.depMaps.push(o),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()))):p?(this.map.url=b.nameToUrl(p),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&c(e.map.id)}),u(e)}),i.fromText=bind(this,function(n,r){var o=e.name,l=a(o),d=useInteractive;r&&(n=r),d&&(useInteractive=!1),s(l),hasProp(w.config,t)&&(w.config[o]=w.config[t]);try{req.exec(n)}catch(c){return u(makeError("fromtexteval","fromText eval for "+t+" failed: "+c,c,[t]))}d&&(useInteractive=!0),this.depMaps.push(l),b.completeLoad(o),m([o],i)}),void r.load(e.name,m,i,w))})),b.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){E[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(S,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?l(e,"error",bind(this,this.errback)):this.events.error&&l(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=k[n],hasProp(S,n)||!r||r.enabled||b.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&b.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},b={config:w,contextName:e,registry:k,defined:I,urlFetched:M,defQueue:P,defQueueMap:{},Module:_,makeModuleMap:a,nextTick:req.nextTick,onError:u,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=w.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(w[t]||(w[t]={}),mixin(w[t],e,!0,!0)):w[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(A[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=b.makeShimExports(e)),t[n]=e}),w.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(w.paths[n]=e.location),w.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,l){var d,c,p;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?u(makeError("requireargs","Invalid require call"),l):t&&hasProp(S,n)?S[n](k[t.id]):req.get?req.get(b,n,t,o):(c=a(n,t,!1,!0),d=c.id,hasProp(I,d)?I[d]:u(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(y(),b.nextTick(function(){y(),p=s(a(null,t)),p.skipMap=i.skipMap,p.init(n,r,l,{enabled:!0}),h()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return i!==-1&&(!a||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),b.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(I,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(I,e)||hasProp(k,e)}}),t||(o.undef=function(e){d();var n=a(e,t,!0),i=getOwn(k,e);i.undefed=!0,r(e),delete I[e],delete M[n.url],delete C[e],eachReverse(P,function(t,n){t[0]===e&&P.splice(n,1)}),delete b.defQueueMap[e],i&&(i.events.defined&&(C[e]=i.events),c(e))}),o},enable:function(e){var t=getOwn(k,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(w.shim,e)||{},a=o.exports;for(d();P.length;){if(n=P.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(b.defQueueMap={},r=getOwn(k,e),!t&&!hasProp(I,e)&&r&&!r.inited){if(!(!w.enforceDefine||a&&getGlobal(a)))return i(e)?void 0:u(makeError("nodefine","No define call for "+e,null,[e]));f([e,o.deps||[],o.exportsFn])}h()},nameToUrl:function(e,t,n){var r,i,o,a,s,l,u,d=getOwn(w.pkgs,e);if(d&&(e=d),u=getOwn(A,e))return b.nameToUrl(u,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=w.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(a=i.slice(0,o).join("/"),l=getOwn(r,a)){isArray(l)&&(l=l[0]),i.splice(0,o,l);break}s=i.join("/"),s+=t||(/^data\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":w.baseUrl)+s}return w.urlArgs?s+((s.indexOf("?")===-1?"?":"&")+w.urlArgs):s},load:function(e,t){req.load(b,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);b.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!i(t.id)){var n=[];return eachProp(k,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){return e.id===t.id&&n.push(r),!0})}),u(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=getOwn(contexts,a),i||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),i.onNodeCreated&&i.onNodeCreated(r,i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),require.config({baseUrl:"/files/taikooplace/bower_components/",paths:{jquery:"/files/taikooplace/bower_components/jquery/dist/jquery.min","jquery-ui":"/files/taikooplace/js/jquery-ui-1.11.4.custom/jquery-ui.min",bootstrap:"/files/taikooplace/bower_components/bootstrap-sass/assets/javascripts/bootstrap.min","bootstrap-popover":"/files/taikooplace/js/popover.min","bootstrap-tooltip":"/files/taikooplace/js/tooltip.min",dotdotdot:"/files/taikooplace/js/jquery.dotdotdot.min","jquery.cookie":"/files/taikooplace/js/jquery.cookie.min",jscrollpane:"/files/taikooplace/js/jquery.jscrollpane.min","jquery.easing":"/files/taikooplace/bower_components/jquery.easing/js/jquery.easing","jquery.mousewheel":"/files/taikooplace/bower_components/jquery-mousewheel/jquery.mousewheel","jquery.bridget":"/files/taikooplace/js/jquery-bridget.min",imagesloaded:"/files/taikooplace/js/imagesloaded.min",modernizer:"/files/taikooplace/bower_components/modernizer/modernizr",masonry:"/files/taikooplace/bower_components/masonry/dist/masonry.pkgd.min","responsive-toolkit":"/files/taikooplace/bower_components/responsive-bootstrap-toolkit/dist/bootstrap-toolkit.min","slick-carousel":"/files/taikooplace/bower_components/slick-carousel/slick/slick.min",smoothscroll:"/files/taikooplace/js/SmoothScroll/SmoothScroll",waypoints:"/files/taikooplace/bower_components/waypoints/lib/jquery.waypoints.min",iscroll:"/files/taikooplace/js/iscroll.min",magnific:"/files/taikooplace/bower_components/magnific-popup/dist/jquery.magnific-popup.min",selectBoxIt:"/files/taikooplace/js/jquery.selectBoxIt",isotope:"/files/taikooplace/bower_components/isotope/dist/isotope.pkgd.min",icheck:"/files/taikooplace/bower_components/iCheck/icheck.min",scrollto:"/files/taikooplace/bower_components/jquery.scrollTo/jquery.scrollTo.min","vanilla-lazyload":"/files/taikooplace/bower_components/vanilla-lazyload/dist/lazyload.min",footer:"../templates/components/footer/footer.js","header-cookies":"../templates/components/header-cookies/header-cookies.js",header:"../templates/components/header/header.js","header-carousel":"../templates/components/header-carousel/header-carousel.js",navigation:"../templates/components/navigation/navigation.js",search:"../templates/components/search/search.js","standard-header":"../templates/components/standard-header/standard-header.js","sub-menu":"../templates/components/sub-menu/sub-menu.js","filter-dropdown":"../templates/components/filter-dropdown/filter-dropdown.js","full-width":"../templates/components/full-width/full-width.js","half-width":"../templates/components/half-width/half-width.js","three-column-content":"../templates/components/three-column-content/three-column-content.js","four-column-content":"../templates/components/four-column-content/four-column-content.js","four-column-properites":"../templates/components/four-column-properites/four-column-properites.js",global:"scripts/global.js",viewport:"scripts/viewport.js","listing-masonry":"../templates/components/listing-masonry/listing-masonry.js","listing-masonry--filter":"../templates/components/listing-masonry/listing-masonry--filter.js","listing-masonry--slick":"../templates/components/listing-masonry/listing-masonry--slick.js","listing-masonry--stack":"../templates/components/listing-masonry/listing-masonry--stack.js",gallery:"../templates/components/gallery/gallery.js","shop-directory":"../templates/components/shop-directory/shop-directory.js","promo-carousel":"../templates/components/promo-carousel/promo-carousel.js","event-detail":"../templates/components/event-detail/event-detail.js",rsvp:"../templates/components/rsvp/rsvp.js","play-landing":"../templates/components/play-landing/play-landing.js","one-third-width":"../templates/components/one-third-width/one-third-width.js",accordian:"../templates/components/accordian/accordian.js","leasing-enquiries":"../templates/components/leasing-enquiries/leasing-enquiries.js","take-a-closer-look":"../templates/components/take-a-closer-look/take-a-closer-look.js","taxi-queue":"../templates/components/taxi-queue/taxi-queue.js",map:"../templates/components/map/map.js","home-carousel":"../templates/components/home-carousel/home-carousel.js","carousel-logo":"../templates/components/carousel/carousel-logo.js","carousel-simple":"../templates/components/carousel/carousel-simple.js","carousel-responsive":"../templates/components/carousel/carousel-responsive.js",gmap:"../templates/components/map/gmap.js","jquery-private":"scripts/jquery-private.js","shop-detail":"../templates/components/shop-detail/shop-detail.js","download-newsletter":"../templates/components/newsletter/download-newsletter.js","the-mag-detail":"../templates/components/the-mag-detail/the-mag-detail.js","the-mag-landing":"../templates/components/the-mag-landing/the-mag-landing.js",ampvideo:"../templates/components/amp/amp.js"},waitSeconds:0,map:{"*":{jquery:"jquery-private"},"jquery-private":{jquery:"jquery"}},shim:{"slick-carousel":{deps:["jquery"]},"jquery-ui":{deps:["jquery"]},icheck:{deps:["jquery"]},selectBoxIt:{deps:["jquery","jquery-ui"]},bootstrap:{deps:["jquery"]},"bootstrap-popover":{deps:["jquery","bootstrap"]},"bootstrap-tooltip":{deps:["jquery","bootstrap"]},"jquery.cookie":{deps:["jquery"]},"jquery.easing":{deps:["jquery"]},"jquery.mousewheel":{deps:["jquery"]},jscrollpane:{deps:["jquery"]},magnific:{deps:["jquery"]},hammer:{deps:["jquery"]},imagesloaded:{deps:["jquery"]},modernizer:{deps:["jquery"]},masonry:{deps:["jquery","jquery.bridget"]},dotdotdot:{deps:["jquery"]},"responsive-toolkit":{deps:["jquery","bootstrap"]},"responsive-tables":{deps:["jquery"]},parallax:{deps:["jquery"]},waypoints:{deps:["jquery"]},isotope:{deps:["jquery"]},scrollto:{deps:["jquery"]}}}),define("jquery-private",["jquery"],function(e){return jQuery.noConflict()});var AzureHtml5JS;!function(e){!function(e){"use strict";function t(e,t){d(e,3,t)}function n(e,t){d(e,2,t)}function r(e,t){d(e,1,t)}function i(e){h=e}function o(e){void 0===e||null===e?f.forEach(function(e,t,n){n[t]=!0}):f[e]=!0}function a(e){void 0===e||null===e?f.forEach(function(e,t,n){n[t]=!1}):f[e]=!1}function s(e){"undefined"==typeof e&&(e=!0),g=e}function l(e){"undefined"==typeof e&&(e=!0);var t=y;return e&&(y=""),t}function u(e,t){v=e,_=t}function d(e,t,n){if(v&&h>=t)return void v(_,t,p[e]+": "+n);var r=new Date(Date.now());if(h>=t&&f[e]){var i="["+r.getHours()+":"+r.getMinutes()+":"+(r.getSeconds()+r.getMilliseconds()/1e3).toFixed(3)+"] "+c[t]+": "+p[e]+": "+n;g&&(y+="\n"+i)}}!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warning=2]="warning",e[e.verbose=3]="verbose"}(e.Level||(e.Level={}));var c=e.Level;!function(e){e[e.workflowSequencer=0]="workflowSequencer",e[e.workflowCoordinator=1]="workflowCoordinator",e[e.htmlAdapter=2]="htmlAdapter",e[e.videoElementAdapter=3]="videoElementAdapter",e[e.manifestParser=4]="manifestParser",e[e.httpDataRetriever=5]="httpDataRetriever",e[e.dashUrlFormatter=6]="dashUrlFormatter",e[e.azureHTML5=7]="azureHTML5",e[e.heuristics=8]="heuristics",e[e.segmentLocator=9]="segmentLocator",e[e.mediaParser=10]="mediaParser",e[e.mp4Parser=11]="mp4Parser",e[e.encrypted=12]="encrypted",e[e.common=13]="common",e[e.functionalTest=14]="functionalTest",e[e.ad=15]="ad",e[e.ttml=16]="ttml",e[e.context=17]="context",e[e.max=18]="max"}(e.Area||(e.Area={}));var p=e.Area;e.verbose=t,e.warning=n,e.error=r,e.setConsoleOutputByLevel=i,e.enableConsoleOutputByArea=o,e.disableConsoleOutputByArea=a,e.enableMemoryLog=s,e.getMemoryLog=l,e.setLoggerFunction=u;for(var h=0,f=[],m=0;18>m;m++)f.push(!1);var g=!1,y="",v=void 0,_=null;e.enableConsoleOutputByArea(),e.setConsoleOutputByLevel(1)}(e.Log||(e.Log={})),e.Log}(AzureHtml5JS||(AzureHtml5JS={})),Dash=function(){"use strict";return{modules:{},dependencies:{},vo:{},di:{}}}(),Dash.dependencies.DashParser=function(){"use strict";var e=31536e3,t=2592e3,n=86400,r=3600,i=60,o=60,a=1e3,s=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,u=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,d=[{type:"duration",test:function(e){return s.test(e)},converter:function(o){var a=s.exec(o),l=parseFloat(a[2]||0)*e+parseFloat(a[4]||0)*t+parseFloat(a[6]||0)*n+parseFloat(a[8]||0)*r+parseFloat(a[10]||0)*i+parseFloat(a[12]||0);return l=parseFloat(l.toFixed(9))},suffix:function(){return""}},{type:"datetime",test:function(e){return l.test(e)},converter:function(e){var t,n=l.exec(e);if(t=Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10),n[6]&&parseInt(n[6],10)||0,n[7]&&parseFloat(n[7])*a||0),n[9]&&n[10]){var r=parseInt(n[9],10)*o+parseInt(n[10],10);t+=("+"===n[8]?-1:1)*r*i*a}return new Date(t)},suffix:function(){return""}},{type:"numeric",test:function(e){return u.test(e)},converter:function(e){return parseFloat(e)},suffix:function(){return""}},{type:"numeric",test:function(e){return u.test(e)},converter:function(e){return e},suffix:function(){return"_str"}}],c=function(){var e,t,n,r;return r=[{name:"profiles",merge:!1},{name:"width",merge:!1},{name:"height",merge:!1},{name:"sar",merge:!1},{name:"frameRate",merge:!1},{name:"audioSamplingRate",merge:!1},{name:"mimeType",merge:!1},{name:"segmentProfiles",merge:!1},{name:"codecs",merge:!1},{name:"maximumSAPPeriod",merge:!1},{name:"startsWithSap",merge:!1},{name:"maxPlayoutRate",merge:!1},{name:"codingDependency",merge:!1
},{name:"scanType",merge:!1},{name:"FramePacking",merge:!0},{name:"AudioChannelConfiguration",merge:!0},{name:"ContentProtection",merge:!0}],e={},e.name="AdaptationSet",e.isRoot=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=r,t={},t.name="Representation",t.isRoot=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=r,e.children.push(t),n={},n.name="SubRepresentation",n.isRoot=!1,n.isArray=!0,n.parent=t,n.children=[],n.properties=r,t.children.push(n),e},p=function(){var e,t,n,r;return r=[{name:"SegmentBase",merge:!0},{name:"SegmentTemplate",merge:!0},{name:"SegmentList",merge:!0}],e={},e.name="Period",e.isRoot=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=r,t={},t.name="AdaptationSet",t.isRoot=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=r,e.children.push(t),n={},n.name="Representation",n.isRoot=!1,n.isArray=!0,n.parent=t,n.children=[],n.properties=r,t.children.push(n),e},h=function(){var e,t,n,r,i;return i=[{name:"BaseURL",merge:!0,mergeFunction:function(e,t){var n;return n=0===t.indexOf("http://")?t:e+t}}],e={},e.name="mpd",e.isRoot=!0,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="Period",t.isRoot=!1,t.isArray=!0,t.parent=null,t.children=[],t.properties=i,e.children.push(t),n={},n.name="AdaptationSet",n.isRoot=!1,n.isArray=!0,n.parent=t,n.children=[],n.properties=i,t.children.push(n),r={},r.name="Representation",r.isRoot=!1,r.isArray=!0,r.parent=n,r.children=[],r.properties=i,n.children.push(r),e},f=function(){var e=[];return e.push(c()),e.push(p()),e.push(h()),e},m=function(e,t){var n,r=new X2JS(d,"",(!0)),i=new ObjectIron(f()),o=new Date,a=null,s=null;try{n=r.xml_str2json(e),a=new Date,n.hasOwnProperty("BaseURL")?(n.BaseURL=n.BaseURL_asArray[0],0!==n.BaseURL.toString().indexOf("http")&&(n.BaseURL=t+n.BaseURL)):n.BaseURL=t,i.run(n),s=new Date,this.debug.log("Parsing complete: ( xml2json: "+(a.getTime()-o.getTime())+"ms, objectiron: "+(s.getTime()-a.getTime())+"ms, total: "+(s.getTime()-o.getTime())/1e3+"s)")}catch(l){return this.errHandler.manifestError("parsing the manifest failed","parse",e),null}return n};return{debug:void 0,errHandler:void 0,parse:m}},Dash.dependencies.DashParser.prototype={constructor:Dash.dependencies.DashParser},function(){function e(e){function t(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(n.isArrayBuffer(e)||n.isArrayBufferView(e)){var r=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,r)}catch(i){for(var o=0;o<r.length;++o)this.putByte(r[o])}}else(e instanceof t||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}var n=e.util=e.util||{};n.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},n.isArrayBufferView=function(e){return e&&n.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},n.ByteBuffer=t,n.ByteStringBuffer=t;var r=4096;n.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>r&&(this.data.substr(0,1),this._constructedStringLength=0)},n.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},n.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},n.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},n.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),t>>>=1,t>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},n.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},n.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(n.encodeUtf8(e))},n.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},n.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},n.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},n.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},n.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},n.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},n.ByteStringBuffer.prototype.putInt=function(e,t){var n="";do t-=8,n+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(n)},n.ByteStringBuffer.prototype.putSignedInt=function(e,t){return 0>e&&(e+=2<<t-1),this.putInt(e,t)},n.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},n.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},n.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},n.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},n.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},n.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},n.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},n.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},n.ByteStringBuffer.prototype.getInt=function(e){var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t},n.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},n.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},n.ByteStringBuffer.prototype.bytes=function(e){return"undefined"==typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},n.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},n.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},n.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},n.ByteStringBuffer.prototype.copy=function(){var e=n.createBuffer(this.data);return e.read=this.read,e},n.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},n.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},n.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},n.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);16>n&&(e+="0"),e+=n.toString(16)}return e},n.ByteStringBuffer.prototype.toString=function(){return n.decodeUtf8(this.bytes())},n.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=n.encodeUtf8(e)),new n.ByteBuffer(e)},n.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},n.decodeUtf8=function(e){return decodeURIComponent(escape(e))}}return"undefined"==typeof forge&&(forge={}),e(forge)}(),function(){function e(e){e.cipher=e.cipher||{},e.cipher.algorithms=e.cipher.algorithms||{},e.cipher.createDecipher=function(t,n){var r=t;if("string"==typeof r&&(r=e.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new e.cipher.BlockCipher({algorithm:r,key:n,decrypt:!0})},e.cipher.registerAlgorithm=function(t,n){t=t.toUpperCase(),e.cipher.algorithms[t]=n},e.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in e.cipher.algorithms?e.cipher.algorithms[t]:null};var t=e.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};t.prototype.start=function(t){t=t||{};var n={};for(var r in t)n[r]=t[r];n.decrypt=this._decrypt,this._finish=!1,this._input=e.util.createBuffer(),this.output=t.output||e.util.createBuffer(),this.mode.start(n)},t.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},t.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}}return"undefined"==typeof forge&&(forge={}),e(forge)}(),function(){function e(e){function t(t){if("string"==typeof t&&(t=e.util.createBuffer(t)),e.util.isArray(t)&&t.length>4){var n=t;t=e.util.createBuffer();for(var r=0;r<n.length;++r)t.putByte(n[r])}return e.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}e.cipher=e.cipher||{};var n=e.cipher.modes=e.cipher.modes||{};n.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},n.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=t(e.iv),this._prev=this._iv.slice(0)}},n.cbc.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock},n.cbc.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)},n.cbc.prototype.pad=function(e){var t=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(t,t),!0},n.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)}}return"undefined"==typeof forge&&(forge={}),e(forge)}(),function(){function e(e){function t(t,n){var r=function(){return new e.aes.Algorithm(t,n)};e.cipher.registerAlgorithm(t,r)}function n(){d=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;128>t;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;o=new Array(256),a=new Array(256),l=new Array(4),u=new Array(4);for(var t=0;4>t;++t)l[t]=new Array(256),u[t]=new Array(256);for(var n,r,i,c,p,h,f,m=0,g=0,t=0;256>t;++t){c=g^g<<1^g<<2^g<<3^g<<4,c=c>>8^255&c^99,o[m]=c,a[c]=m,p=e[c],n=e[m],r=e[n],i=e[r],h=p<<24^c<<16^c<<8^(c^p),f=(n^r^i)<<24^(m^i)<<16^(m^r^i)<<8^(m^n^i);for(var y=0;4>y;++y)l[y][m]=h,u[y][c]=f,h=h<<24|h>>>8,f=f<<24|f>>>8;0===m?m=g=1:(m=n^e[e[e[n^i]]],g^=e[e[g]])}}function r(e,t){for(var n,r=e.slice(0),i=1,a=r.length,l=a+6+1,d=c*l,p=a;d>p;++p)n=r[p-1],p%a===0?(n=o[n>>>16&255]<<24^o[n>>>8&255]<<16^o[255&n]<<8^o[n>>>24]^s[i]<<24,i++):a>6&&p%a===4&&(n=o[n>>>24]<<24^o[n>>>16&255]<<16^o[n>>>8&255]<<8^o[255&n]),r[p]=r[p-a]^n;if(t){var h,f=u[0],m=u[1],g=u[2],y=u[3],v=r.slice(0);d=r.length;for(var p=0,_=d-c;d>p;p+=c,_-=c)if(0===p||p===d-c)v[p]=r[_],v[p+1]=r[_+3],v[p+2]=r[_+2],v[p+3]=r[_+1];else for(var b=0;c>b;++b)h=r[_+b],v[p+(3&-b)]=f[o[h>>>24]]^m[o[h>>>16&255]]^g[o[h>>>8&255]]^y[o[255&h]];r=v}return r}function i(e,t,n,r){var i,s,d,c,p,h=e.length/4-1;r?(i=u[0],s=u[1],d=u[2],c=u[3],p=a):(i=l[0],s=l[1],d=l[2],c=l[3],p=o);var f,m,g,y,v,_,b;f=t[0]^e[0],m=t[r?3:1]^e[1],g=t[2]^e[2],y=t[r?1:3]^e[3];for(var S=3,T=1;h>T;++T)v=i[f>>>24]^s[m>>>16&255]^d[g>>>8&255]^c[255&y]^e[++S],_=i[m>>>24]^s[g>>>16&255]^d[y>>>8&255]^c[255&f]^e[++S],b=i[g>>>24]^s[y>>>16&255]^d[f>>>8&255]^c[255&m]^e[++S],y=i[y>>>24]^s[f>>>16&255]^d[m>>>8&255]^c[255&g]^e[++S],f=v,m=_,g=b;n[0]=p[f>>>24]<<24^p[m>>>16&255]<<16^p[g>>>8&255]<<8^p[255&y]^e[++S],n[r?3:1]=p[m>>>24]<<24^p[g>>>16&255]<<16^p[y>>>8&255]<<8^p[255&f]^e[++S],n[2]=p[g>>>24]<<24^p[y>>>16&255]<<16^p[f>>>8&255]<<8^p[255&m]^e[++S],n[r?1:3]=p[y>>>24]<<24^p[f>>>16&255]<<16^p[m>>>8&255]<<8^p[255&g]^e[++S]}e.aes=e.aes||{},e.aes.Algorithm=function(e,t){d||n();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return i(r._w,e,t,!1)},decrypt:function(e,t){return i(r._w,e,t,!0)}}}),r._init=!1},e.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var n,i=t.key;if("string"!=typeof i||16!==i.length&&24!==i.length&&32!==i.length){if(e.util.isArray(i)&&(16===i.length||24===i.length||32===i.length)){n=i,i=e.util.createBuffer();for(var o=0;o<n.length;++o)i.putByte(n[o])}}else i=e.util.createBuffer(i);if(!e.util.isArray(i)){n=i,i=[];var a=n.length();if(16===a||24===a||32===a){a>>>=2;for(var o=0;a>o;++o)i.push(n.getInt32())}}if(!e.util.isArray(i)||4!==i.length&&6!==i.length&&8!==i.length)throw new Error("Invalid key parameter.");var s=this.mode.name,l=-1!==["CFB","OFB","CTR","GCM"].indexOf(s);this._w=r(i,t.decrypt&&!l),this._init=!0}},e.aes._expandKey=function(e,t){return d||n(),r(e,t)},e.aes._updateBlock=i,t("AES-CBC",e.cipher.modes.cbc);var o,a,s,l,u,d=!1,c=4}return"undefined"==typeof forge&&(forge={}),e(forge)}(),!function(){var e,t,n,r;!function(){var i={},o={};e=function(e,t,n){i[e]={deps:t,callback:n}},r=n=t=function(e){function n(t){if("."!==t.charAt(0))return t;for(var n=t.split("/"),r=e.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var a=n[i];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(r._eak_seen=i,o[e])return o[e];if(o[e]={},!i[e])throw new Error("Could not find module "+e);for(var a,s=i[e],l=s.deps,u=s.callback,d=[],c=0,p=l.length;p>c;c++)d.push("exports"===l[c]?a={}:t(n(l[c])));var h=u.apply(this,d);return o[e]=a||h}}(),e("promise/all",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to all.");return new t(function(t,n){function r(e){return function(t){o(e,t)}}function o(e,n){s[e]=n,0===--l&&t(s)}var a,s=[],l=e.length;0===l&&t([]);for(var u=0;u<e.length;u++)a=e[u],a&&i(a.then)?a.then(r(u),n):o(u,a)})}var r=e.isArray,i=e.isFunction;t.all=n}),e("promise/asap",["exports"],function(e){"use strict";function t(){return function(){process.nextTick(i)}}function n(){var e=0,t=new l(i),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function r(){return function(){u.setTimeout(i,1)}}function i(){for(var e=0;e<d.length;e++){var t=d[e],n=t[0],r=t[1];n(r)}d=[]}function o(e,t){var n=d.push([e,t]);1===n&&a()}var a,s="undefined"!=typeof window?window:{},l=s.MutationObserver||s.WebKitMutationObserver,u="undefined"!=typeof global?global:void 0===this?window:this,d=[];a="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():l?n():r(),e.asap=o}),e("promise/config",["exports"],function(e){"use strict";function t(e,t){return 2!==arguments.length?n[e]:void(n[e]=t)}var n={instrument:!1};e.config=n,e.configure=t}),e("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";function r(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),o(t)}();t||(e.Promise=i)}var i=e.Promise,o=t.isFunction;n.polyfill=r}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,r,i,o,a,s){"use strict";function l(e){if(!S(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],u(e,this)}function u(e,t){function n(e){f(t,e)}function r(e){g(t,e)}try{e(n,r)}catch(i){r(i)}}function d(e,t,n,r){var i,o,a,s,l=S(n);if(l)try{i=n(r),a=!0}catch(u){s=!0,o=u}else i=r,a=!0;h(t,i)||(l&&a?f(t,i):s?g(t,o):e===M?f(t,i):e===A&&g(t,i))}function c(e,t,n,r){var i=e._subscribers,o=i.length;i[o]=t,i[o+M]=n,i[o+A]=r}function p(e,t){for(var n,r,i=e._subscribers,o=e._detail,a=0;a<i.length;a+=3)n=i[a],r=i[a+t],d(t,n,r,o);e._subscribers=null}function h(e,t){var n,r=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(b(t)&&(r=t.then,S(r)))return r.call(t,function(r){return!!n||(n=!0,void(t!==r?f(e,r):m(e,r)))},function(t){return!!n||(n=!0,void g(e,t))}),!0}catch(i){return!!n||(g(e,i),!0)}return!1}function f(e,t){e===t?m(e,t):h(e,t)||m(e,t)}function m(e,t){e._state===P&&(e._state=I,e._detail=t,_.async(y,e))}function g(e,t){e._state===P&&(e._state=I,e._detail=t,_.async(v,e))}function y(e){p(e,e._state=M)}function v(e){p(e,e._state=A)}var _=e.config,b=(e.configure,t.objectOrFunction),S=t.isFunction,T=(t.now,n.all),w=r.race,k=i.resolve,E=o.reject,C=a.asap;_.async=C;var P=void 0,I=0,M=1,A=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,r=new this.constructor(function(){});if(this._state){var i=arguments;_.async(function(){d(n._state,r,i[n._state-1],n._detail)})}else c(this,r,e,t);return r},"catch":function(e){return this.then(null,e)}},l.all=T,l.race=w,l.resolve=k,l.reject=E,s.Promise=l}),e("promise/race",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to race.");return new t(function(t,n){for(var r,i=0;i<e.length;i++)r=e[i],r&&"function"==typeof r.then?r.then(t,n):t(r)})}var r=e.isArray;t.race=n}),e("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t}),e("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=this;return new t(function(t){t(e)})}e.resolve=t}),e("promise/utils",["exports"],function(e){"use strict";function t(e){return n(e)||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}var i=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t,e.isFunction=n,e.isArray=r,e.now=i}),t("promise/polyfill").polyfill()}();var Uint8ArrayUtil={};!function(){Uint8ArrayUtil.subarray=function(e,t){return this.slice(e,t)},Uint8ArrayUtil.set_=function(e,t){arguments.length<2&&(t=0);for(var n=0,r=e.length;r>n;++n,++t)this[t]=255&e[n]},Uint8ArrayUtil.TypedArray=function(e){var t;if("number"==typeof e){t=new Array(e);for(var n=0;e>n;++n)t[n]=0}else t=e.slice(0);return t.subarray=Uint8ArrayUtil.subarray,t.buffer=t,t.byteLength=t.length,t.set=Uint8ArrayUtil.set_,"object"==typeof e&&e.buffer&&(t.buffer=e.buffer),t}}(),void 0===window.Uint8Array&&(window.Uint8Array=Uint8ArrayUtil.TypedArray);var AzureHtml5JS;!function(e){"use strict";function t(e,t,n){return new r(e,t,n)}e.CreateAzureHtml5=t,function(e){e[e.internalErrStart=0]="internalErrStart",e[e.internalErrDisposed=0]="internalErrDisposed",e[e.internalErrSegmentNotFound=1]="internalErrSegmentNotFound",e[e.internalErrEnd=1048575]="internalErrEnd"}(e.ErrorCode||(e.ErrorCode={}));var n=(e.ErrorCode,function(){function e(){}return e.exception="exception",e.flushvideo="flushvideo",e.audiocodecchanged="audiocodecchanged",e}());e.InternalEventName=n;var r=function(){function t(t,n,r){this._sessionContext=new e.Context.Session(this,t,n,r),this._playerType=null,this._autoplay=!0,this._type="",this._error=null,this._dispose=!1,this._retryAttempt=!1,this._oldPlaybackRateBeforePlay=null,this._passThroughEventNames=[e.EventName.volumechange,e.EventName.ended,e.EventName.timeupdate,e.EventName.pause,e.EventName.play,e.EventName.playing,e.EventName.seeking,e.EventName.seeked,e.EventName.suspend,e.EventName.loadstart,e.EventName.loadeddata,e.EventName.ratechange],this._conditionalEventNames=[e.EventName.waiting,e.EventName.canplaythrough,e.EventName.error],this._registerVideoTagEvents(!0),this._registerInternalEvents(!0)}return t.prototype.setStaleDataTimeLimit=function(e){this._sessionContext.maxBufferBehindCurrentTimeInSec=e},t.prototype.dispose=function(){this._dispose=!0,this._workflowCoordinator&&(this._workflowCoordinator.dispose(),this._workflowCoordinator=null),this._sessionContext&&(this._registerVideoTagEvents(!1),this._registerInternalEvents(!1),this._sessionContext.dispose(),this._sessionContext=null),this._error=null},Object.defineProperty(t.prototype,"currentVideoStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAudioStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.src:this._sessionContext.videoTag.src},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentTime:this._sessionContext.videoTag.currentTime},set:function(t){e.Log.verbose(7,"currentTime: "+t+" sec"),this._workflowCoordinator?this._workflowCoordinator.currentTime=t:this._sessionContext.videoTag.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAbsoluteTime",{get:function(){return this._sessionContext.videoTag.currentTime},set:function(t){e.Log.verbose(7,"currentAbsoluteTime: "+t+" sec"),this._workflowCoordinator?this._workflowCoordinator.currentPresentationTime=t:this._sessionContext.videoTag.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMediaTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentMediaTime:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.presentationTimeOffsetInSec:null},enumerable:!0,configurable:!0}),t.prototype.presentationTimeFromPercentageOfDvrWindow=function(e){return this._workflowCoordinator?this._workflowCoordinator.presentationTimeFromPercentageOfDvrWindow(e):null},Object.defineProperty(t.prototype,"currentDownloadBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.downloadBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPlaybackBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.playbackBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._sessionContext.videoTag.volume},set:function(t){e.Log.verbose(7,"volume: "+t.toString());var n=t;if(NaN!==t&&void 0!==t&&null!==t){0>t?n=0:t>1&&(n=1);try{this._sessionContext.videoTag.volume=n}catch(r){e.Log.warning(7,"set volume() error: "+r)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoplay",{get:function(){return this._autoplay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._sessionContext.videoTag.paused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seeking",{get:function(){return this._sessionContext.videoTag.seeking},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._sessionContext.videoTag.ended},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._sessionContext.videoTag.height},set:function(e){this._sessionContext.videoTag.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._sessionContext.videoTag.width},set:function(e){this._sessionContext.videoTag.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoHeight",{get:function(){return this._sessionContext.videoTag.videoHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoWidth",{get:function(){return this._sessionContext.videoTag.videoWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFullScreen",{get:function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return e===this._sessionContext.videoTag&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLive",{get:function(){return!!this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.duration:this._sessionContext.videoTag.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffered",{get:function(){if(this._workflowCoordinator)return this._workflowCoordinator.buffered;try{return this._sessionContext.videoTag.buffered}catch(t){return e.Log.warning(7,"buffered() error: "+t),new e.Common.TimeRangeSet}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manifestPlayableWindowLength",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?this._sessionContext.commonPresentation.timeShiftBufferDepth:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPlayableWindow",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?new e.Common.TimeRange(this._sessionContext.commonPresentation.playableWindow.startInSec,this._sessionContext.commonPresentation.playableWindow.endInSec):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playableWindowEndInSec",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.playableWindow?this._sessionContext.commonPresentation.playableWindow.endInSec:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"segmentBoundaries",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation?this._sessionContext.commonPresentation.segmentBoundaries:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._workflowCoordinator&&this._workflowCoordinator.error?this._workflowCoordinator.error:this._error},enumerable:!0,configurable:!0}),t.prototype.getWallClockTime=function(e,t,n,r,i){e=e||this.currentAbsoluteTime,t=t||!1,n=n||0,i=i||!1,(null===r||void 0===r)&&(r=!0);var o=null;if(this._sessionContext.commonPresentation){var a=this._sessionContext.commonPresentation.getWallClockTimeAtPresentationTime(e);if(a){var s=null;if(t===!0)s=this.getDetailsFromDateObject(a,"local",r,i);else{if(0!==n){var l=36e5*n;a=new Date(a.getTime()+l)}s=this.getDetailsFromDateObject(a,"utc",r,i)}if(!s||s.length<7)return null;var u=s[0],d=s[1],c=s[2],p=s[3],h=s[4],f=s[5],m=s[6];o=i?p+":"+h+":"+f+" "+m:t===!1&&0===n?u+"-"+d+"-"+c+"T"+p+":"+h+":"+f+"Z":u+"-"+d+"-"+c+"T"+p+":"+h+":"+f+this.getTimezoneTimeOffset(a,t,n)}}return o},t.prototype.getTimezoneTimeOffset=function(e,t,n){var r=t===!0?-1*e.getTimezoneOffset()/60:n,i=r%1*60;r=Math.floor(r);var o=Math.abs(r)>=10?Math.abs(r).toString():"0"+Math.abs(r).toString(),a=0===i?":00":":"+i.toString();return r>=0?"+"+o+a:"-"+o+a},t.prototype.getDetailsFromDateObject=function(e,t,n,r){if("utc"!==t&&"local"!==t)return null;var i={year:e.getUTCFullYear,month:e.getUTCMonth,day:e.getUTCDate,hours:e.getUTCHours,minutes:e.getUTCMinutes,seconds:e.getUTCSeconds},o={year:e.getFullYear,month:e.getMonth,day:e.getDate,hours:e.getHours,minutes:e.getMinutes,seconds:e.getSeconds},a={utc:i,local:o},s=a[t].year.call(e).toString(),l=(a[t].month.call(e)+1).toString();l=1==l.length?"0"+l:l;var u=a[t].day.call(e).toString();u=1==u.length?"0"+u:u;var d=a[t].hours.call(e).toString();d=1==d.length?"0"+d:d;var c=a[t].minutes.call(e).toString();c=1==c.length?"0"+c:c;var p=a[t].seconds.call(e).toString();p=1==p.length?"0"+p:p;var h="";if(n&&r){var f=parseInt(d);h=12>f?"AM":"PM",d=((f+11)%12+1).toString()}return[s,l,u,d,c,p,h]},t.prototype.canPlayType=function(t){return e.PlayerType.getByPresentationType(t,this._sessionContext.videoTag)?"maybe":""},t.prototype.setSrc=function(e,t){this.setSrcInternal(e,t,!1)},t.prototype.setSrcInternal=function(n,r,i){this._playStarted=!1;var o="",a=0;return i?a=t._dtsOffsetToAddForChrome:(this._src=n,this._options=r?r:null,this._retryAttempt=!1),"https:"===window.location.protocol.toLowerCase()&&0===n.toLowerCase().indexOf("http:")?(o="The page was loaded over HTTPS, but the source was set to serve over HTTP. The content must be served over HTTPS. Source URL: "+n+", Page URL: "+window.location.href,e.Log.error(7,o),void this._handleError(new e.Failure.External(1048578,o))):(this._sessionContext.reset(),this._reset(r),this._playerType=e.PlayerType.getByPresentationType(this._type,this._sessionContext.videoTag),this._playerType||(e.Log.verbose(7,"Unable to determine player type by presentation type. Trying the url method..."),this._playerType=e.PlayerType.getByUrl(n,this._sessionContext.videoTag)),e.Log.verbose(7,"src: "+n+" autoplay: "+this._autoplay+" type: "+(this._type&&this._type.length>0?this._type:"unknown")+" player: "+(null===this._playerType?"unknown":e.PlayerDetector.Type[this._playerType])),this._workflowCoordinator&&(this._workflowCoordinator.dispose(),this._workflowCoordinator=null),void(1===this._playerType?(this._sessionContext.videoTag.autoplay=this._autoplay,
this._sessionContext.videoTag.src=n):3===this._playerType?(this._workflowCoordinator=e.Workflow.CreateCoordinator(this._sessionContext),this._workflowCoordinator.dtsOffsetToAdd=a,this._sessionContext.videoTag.autoplay=!1,this._workflowCoordinator.autoplay=this._autoplay,this._workflowCoordinator.src=n):(e.Log.error(7,n+" not supported by AzureHtml5 Video Element"),this._handleError(new e.Failure.External(4194307,n)))))},t.prototype.play=function(){e.Log.verbose(7,"play"),this._oldPlaybackRateBeforePlay=this.playbackRate(),this._workflowCoordinator?this._workflowCoordinator.play():this._sessionContext&&this._sessionContext.videoTag&&e.Common.videoTagPlay(this._sessionContext.videoTag)},t.prototype.pause=function(){e.Log.verbose(7,"pause"),this._workflowCoordinator?this._workflowCoordinator.pause():this._sessionContext&&this._sessionContext.videoTag&&this._sessionContext.videoTag.pause()},t.prototype.requestFullscreen=function(){e.Log.verbose(7,"requestFullscreen");var t=!1;if(!this.isFullScreen){var n=this._sessionContext.videoTag;n.requestFullscreen?(t=!0,n.requestFullscreen()):n.msRequestFullscreen?(t=!0,n.msRequestFullscreen()):n.webkitRequestFullscreen?(t=!0,n.webkitRequestFullscreen()):n.mozRequestFullScreen&&(t=!0,n.mozRequestFullScreen()),t&&this._sessionContext.eventMgr.dispatchEvent(e.EventName.fullscreenchange)}},t.prototype.exitFullscreen=function(){e.Log.verbose(7,"exitFullscreen");var t=!1;this.isFullScreen&&(document.exitFullscreen?(t=!0,document.exitFullscreen()):document.webkitExitFullscreen?(t=!0,document.webkitExitFullscreen()):document.mozCancelFullScreen?(t=!0,document.mozCancelFullScreen()):document.msExitFullscreen&&(t=!0,document.msExitFullscreen()),t&&this._sessionContext.eventMgr.dispatchEvent(e.EventName.fullscreenchange))},t.prototype.playbackRate=function(){return this._sessionContext.videoTag.playbackRate},t.prototype.setPlaybackRate=function(e){this._sessionContext.videoTag.playbackRate=e},t.prototype.addEventListener=function(e,t,n){"undefined"==typeof n&&(n=null),this._sessionContext.eventMgr.addHandler(e,t,n)},t.prototype.removeEventListener=function(e,t){this._sessionContext.eventMgr.removeHandler(e,t)},t.prototype.addKeySystem=function(e){return this._sessionContext.emeManager.addKeySystem(e)},t.prototype.setXmlHttpRequestFactory=function(e){this._sessionContext.setXmlHttpRequestFactory(e)},t.prototype.getAdSignalsAndReset=function(){return this._sessionContext.adManager.getAdSignalsAndReset()},t.prototype.restartCheckMediaWorkflowIfNeeded=function(){this._workflowCoordinator.restartCheckMediaWorkflowIfNeeded()},t.prototype._reset=function(e){function t(e){n._dispose||n._handleError(e)}var n=this;this._playerType=null,this._autoplay=!0,this._type="",this._error=null,e&&(this._type=e.type,"autoPlay"in e&&(this._autoplay=e.autoPlay),"authenticationTokens"in e&&(this._sessionContext.authenticationTokens=e.authenticationTokens),e.userConfig&&this._sessionContext.setUserConfig(e.userConfig),e.headers&&this._sessionContext.setRequestedDownloadHeaders(e.headers)),this._sessionContext.emeManager.setup(t,this._sessionContext.authenticationTokens)},t.prototype._registerVideoTagEvents=function(t){function n(t){o._dispose||o._error||(t.type&&(t.type===e.EventName.play||t.type===e.EventName.playing)&&(o._playStarted=!0,null!==o._oldPlaybackRateBeforePlay&&o._oldPlaybackRateBeforePlay!==o.playbackRate()&&(e.Log.verbose(7,"playback rate changed from: "+o._oldPlaybackRateBeforePlay+" to: "+o.playbackRate()+". Restoring the original playback rate!"),o.setPlaybackRate(o._oldPlaybackRateBeforePlay),o._oldPlaybackRateBeforePlay=null)),t.type===e.EventName.timeupdate&&o._workflowCoordinator&&o._workflowCoordinator.pendingPlay?e.Log.verbose(7,"skip dispatching event: "+t.type+" currentTime: "+o._sessionContext.videoTag.currentTime+" since work flow is in pending play state"):(e.Log.verbose(7,"dispatching event: "+t.type+" currentTime: "+o._sessionContext.videoTag.currentTime),o._sessionContext.eventMgr.dispatchEvent(t.type)))}function r(t){if(!o._dispose&&!o._error)if(e.EventName.error===t.type){if(o._sessionContext.videoTag.readyState===HTMLMediaElement.HAVE_NOTHING)return void e.Log.warning(7,"Ignoring video element error since state is HAVE_NOTHING "+e.Failure.mediaErrorToString(o._sessionContext.videoTag.error));var n=new e.Failure.External;n.translateMediaError(o._sessionContext.videoTag.error),o._handleError(n)}else o._workflowCoordinator||(e.Log.verbose(7,"dispatching event: "+t.type),o._sessionContext.eventMgr.dispatchEvent(t.type))}var i=this,o=this;this._passThroughEventNames.forEach(function(e){t?i._sessionContext.videoTag.addEventListener(e,n):i._sessionContext.videoTag.removeEventListener(e,n)}),this._conditionalEventNames.forEach(function(e){t?i._sessionContext.videoTag.addEventListener(e,r):i._sessionContext.videoTag.removeEventListener(e,r)})},t.prototype._registerInternalEvents=function(t){function r(t){function n(){var n,r=t;throw n=r.message&&r.message.message&&r.message.stack?r.message.message+", "+r.message.stack:r.message,e.Log.error(7,"Throwing error "+n),new Error(n)}i._dispose||t.message&&!i._checkErrorAndRetryPlayback()&&e.Util.setTimeout(n,0)}var i=this;t?this._sessionContext.eventMgr.addHandler(n.exception,r,this):this._sessionContext.eventMgr.removeHandler(n.exception,r)},t.prototype._checkErrorAndRetryPlayback=function(){return!(this._playStarted||!e.Common.isChrome||this._retryAttempt)&&(e.Log.verbose(7,"Retrying Playback with Adjusted DTS"),this._retryAttempt=!0,this.setSrcInternal(this._src,this._options,!0),!0)},t.prototype._handleError=function(t){if(!(this._checkErrorAndRetryPlayback()||this._workflowCoordinator&&this._workflowCoordinator.error)){if(this._error=t,this._workflowCoordinator){var n=new Error;e.Log.verbose(7,"Disposing WorkflowCoordinator b/c "+t.toString()+", "+n.stack),this._workflowCoordinator.dispose(),this._workflowCoordinator=null}e.Log.verbose(7,"dispatching event: "+e.EventName.error),this._sessionContext.eventMgr.dispatchEvent(e.EventName.error)}},t._dtsOffsetToAddForChrome=.1,t}()}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function n(){this._disposed=!1,this._bandwidthTracker=null,this._buffer=null,this._downloadRequested=null,this._downloadCompleted=null,this._downloadDecrypted=null,this._downloadFailed=null,this._downloadTracker=null,this._eventMgr=new e.Events.Manager(null,(!1))}return n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._bandwidthTracker=null,this._buffer=null,this._downloadRequested=null,this._downloadCompleted=null,this._downloadDecrypted=null,this._downloadFailed=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null),this._downloadTracker&&(this._downloadTracker.dispose(),this._downloadTracker=null))},Object.defineProperty(n.prototype,"bufferLevel",{get:function(){return this._disposed||!this._buffer?null:this._buffer.getBufferedAheadOfCurrentTimeInSec()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"perceivedBandwidth",{get:function(){return this._disposed||!this._bandwidthTracker?null:this._bandwidthTracker.perceivedBandwidth()},enumerable:!0,configurable:!0}),n.prototype.updateBuffer=function(e){this._buffer=e},n.prototype.updateBandwidthTracker=function(e){this._bandwidthTracker=e,this._downloadTracker&&this._downloadTracker.dispose(),this._downloadTracker=new t.DownloadTracker},n.prototype.getPlaybackBitrate=function(e){return this._disposed||!this._downloadTracker?-1:this._downloadTracker.findBitrate(e)},Object.defineProperty(n.prototype,"downloadRequested",{get:function(){return this._downloadRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"downloadCompleted",{get:function(){return this._downloadCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"downloadDecrypted",{get:function(){return this._downloadDecrypted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"downloadFailed",{get:function(){return this._downloadFailed},enumerable:!0,configurable:!0}),n.prototype.dispatchDownloadRequested=function(t){this._downloadRequested=t,this._eventMgr.dispatchEvent(e.BufferDataEventName.downloadrequested)},n.prototype.dispatchDownloadCompleted=function(t,n,r){if(this._downloadCompleted=new i(t,n,r),this._eventMgr.dispatchEvent(e.BufferDataEventName.downloadcompleted),this._downloadTracker&&null!=t.mediaTime&&(this._downloadTracker.add(t.mediaTime,t.bitrate),this._buffer.buffered&&this._buffer.buffered.length>0)){var o=this._buffer.buffered.start(0);this._downloadTracker.cleanup(o)}},n.prototype.dispatchDownloadDecrypted=function(t){this._downloadDecrypted=t,this._eventMgr.dispatchEvent(e.BufferDataEventName.downloaddecrypted)},n.prototype.dispatchDownloadFailed=function(t,n,r){"undefined"==typeof r&&(r=""),this._downloadFailed=new o(t,n,r),this._eventMgr.dispatchEvent(e.BufferDataEventName.downloadfailed)},n.prototype.addEventListener=function(e,t,n){this._eventMgr.addHandler(e,t,n)},n.prototype.removeEventListener=function(e,t){this._eventMgr.removeHandler(e,t)},n}();t.BufferData=n;var r=function(){function e(e,t,n,r,i,o,a){this._url=e,this._bitrate=t,this._mediaTime=n,this._data=r,this._presentationTimeOffsetInSec=i,this._timeScale=o,this._durationInSec=a}return Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaTime",{get:function(){return this._mediaTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationTimeOffsetInSec",{get:function(){return this._presentationTimeOffsetInSec},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._timeScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationInSec",{get:function(){return this._durationInSec},enumerable:!0,configurable:!0}),e}();t.MediaDownload=r;var i=function(){function e(e,t,n){this._mediaDownload=e,this._measuredBw=1e3*t.bandwidth,this._bytes=t.responseLengthInBytes,this._downloadTimeMs=t.totalDownloadTimeMs,this._responseHeaders=n}return Object.defineProperty(e.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredBandwidth",{get:function(){return this._measuredBw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalDownloadMs",{get:function(){return this._downloadTimeMs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responseHeaders",{get:function(){return this._responseHeaders},enumerable:!0,configurable:!0}),e}();t.MediaDownloadCompleted=i;var o=function(){function e(e,t,n){this._mediaDownload=e,this._code=t,this._message=n}return Object.defineProperty(e.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),e}();t.MediaDownloadFailed=o;var a=function(e){function t(t,n,r,i,o,a,s,l){e.call(this,t,n,r,i,o,a,s),this._decryptionTimeInMS=l}return __extends(t,e),Object.defineProperty(t.prototype,"decryptionTimeInMS",{get:function(){return this._decryptionTimeInMS},enumerable:!0,configurable:!0}),t}(r);t.MediaDecrypted=a}(e.Context||(e.Context={})),e.Context}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";!function(e){e[e.proceed=0]="proceed",e[e.endOfStream=1]="endOfStream",e[e.retry=2]="retry"}(t.RequestState||(t.RequestState={})),t.RequestState,!function(e){e[e.arraybuffer=0]="arraybuffer",e[e.blob=1]="blob",e[e.document=2]="document",e[e.json=3]="json",e[e.text=4]="text"}(t.ResponseType||(t.ResponseType={})),t.ResponseType,!function(e){e[e.manifest=0]="manifest",e[e.mediaSegment=1]="mediaSegment",e[e.initSegment=2]="initSegment",e[e.initBandwidth=3]="initBandwidth"}(t.RequestType||(t.RequestType={}));var n=(t.RequestType,function(){function n(n,r,i,o){this.maxBufferBehindCurrentTimeInSec=-1,this.azureHtml5=n,this.videoTag=r,this.appConfig=o,this.emeManager=new e.KeySystem.EmeManager(r),this.eventMgr=new e.Events.Manager(n,(!1)),this.emeManager.setEventManager(this.eventMgr),this.adManager=new e.Ad.Manager(this.eventMgr),this.ttmlManager=new e.Ttml.Manager(i),this.workflows=null,this.presentationUrl=null,this.presentationQueryStr=null,this.presentationJson=null,this.commonPresentation=null,this.isLiveToVod=!1,this.videoBufferData=new t.BufferData,this.audioBufferData=new t.BufferData,this.textBufferData=new t.BufferData,this.startPositionInSec=NaN,this.authenticationTokens={},this.heuristicSettings=new e.Settings.Heuristics,this.httpRetryPolicySettings=new e.Settings.HttpRetryPolicy,this.httpDataRetrieverSettings=new e.Settings.HttpDataRetriever,this.decryptionTracker=new e.Heuristics.DecryptionTracker,this._disposed=!1,this._xmlHttpRequestFactory=null}return n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.videoTag=null,this.appConfig=null,this.workflows&&this.workflows.forEach(function(e){e.dispose()}),this.workflows=null,this.presentationUrl=null,this.presentationQueryStr=null,this.presentationJson=null,this.authenticationTokens=null,this._xmlHttpRequestFactory=null,this.azureHtml5=null,this.emeManager&&(this.emeManager.dispose(),this.emeManager=null),this.eventMgr&&(this.eventMgr.dispose(),this.eventMgr=null),this.adManager&&(this.adManager=null),this.ttmlManager&&(this.ttmlManager=null),this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null),this.heuristicSettings=null,this.decryptionTracker=null,this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=null),this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=null),this.textBufferData&&(this.textBufferData.dispose(),this.textBufferData=null))},Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n.prototype.reset=function(){this.presentationUrl=null,this.presentationQueryStr=null,this.presentationJson=null,this.startPositionInSec=NaN,this.authenticationTokens={},this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null),this.emeManager&&this.emeManager.reset(),this.heuristicSettings&&this.heuristicSettings.reset(),this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=new t.BufferData),this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=new t.BufferData),this.textBufferData&&(this.textBufferData.dispose(),this.textBufferData=new t.BufferData),this.adManager&&this.adManager.reset(),this.ttmlManager&&this.ttmlManager.reset()},n.prototype.setRequestedDownloadHeaders=function(e){this.headers=e},n.prototype.setUserConfig=function(e){void 0!==e.maxBufferInWallClockSec&&(this.heuristicSettings.buffer.maxBufferInWallClockSec=e.maxBufferInWallClockSec),void 0!==e.prerollPercent&&(this.heuristicSettings.buffer.prerollPercent=e.prerollPercent),void 0!==e.livePlaybackOffsetPercent&&(this.heuristicSettings.buffer.livePlaybackOffsetPercent=e.livePlaybackOffsetPercent),void 0!==e.windowSizeHeuristicsEnabled&&(this.heuristicSettings.windowSizeHeuristicsEnabled=e.windowSizeHeuristicsEnabled),void 0!==e.useBrowserWindowForWindowSizeRule&&(this.heuristicSettings.useBrowserWindowForWindowSizeRule=e.useBrowserWindowForWindowSizeRule),void 0!==e.minFragmentsForBandwidthAverage&&(this.heuristicSettings.bandwidth.minBandwidthHistoryCount=e.minFragmentsForBandwidthAverage),void 0!==e.bandwidthTestWithTimeThresholdDuringLive&&(this.heuristicSettings.bandwidth.bandwidthTestWithTimeThresholdDuringLive=e.bandwidthTestWithTimeThresholdDuringLive),void 0!==e.useVariableFragmentSizeMode&&(this.heuristicSettings.bandwidth.useVariableFragmentSizeMode=e.useVariableFragmentSizeMode),void 0===e.decryptionTimeHeuristicsEnabled||e.decryptionTimeHeuristicsEnabled||(this.decryptionTracker=null),void 0!==e.preFetchDataEnabled&&(this.heuristicSettings.preFetchDataEnabled=e.preFetchDataEnabled),void 0!==e.maxRetryPerSegment&&(this.httpRetryPolicySettings.maxRetryPerSegment=e.maxRetryPerSegment),void 0!==e.maxSkipSegments&&(this.httpRetryPolicySettings.maxSkipSegments=e.maxSkipSegments),void 0!==e.maxTotalRetries&&(this.httpRetryPolicySettings.maxTotalRetries=e.maxTotalRetries),void 0!==e.infiniteSegmentRetryForPreconditionFailed&&(this.httpRetryPolicySettings.infiniteSegmentRetryForPreconditionFailed=e.infiniteSegmentRetryForPreconditionFailed),void 0!==e.maxRetriesForKeyAcquireFailure&&(this.httpRetryPolicySettings.maxRetriesForKeyAcquireFailure=e.maxRetriesForKeyAcquireFailure),void 0!==e.maxWaitTimeBetweenRetriesForKeyAcquireMS&&(this.httpRetryPolicySettings.maxWaitTimeBetweenRetriesForKeyAcquireMS=e.maxWaitTimeBetweenRetriesForKeyAcquireMS)},n.prototype.maxBufferInWallClockSec=function(){return this.appConfig&&this.appConfig.maxBufferInWallClockSec&&"0"!=this.appConfig.maxBufferInWallClockSec?parseInt(this.appConfig.maxBufferInWallClockSec):this.heuristicSettings.buffer.maxBufferInWallClockSec},n.prototype.maxBufferInSec=function(){return this.maxBufferInWallClockSec()*this.playbackRate()},n.prototype.prerollBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.buffer.prerollPercent},n.prototype.lowBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.vodDowngradeBufferLevelPercent*this.heuristicSettings.buffer.lowBufferPercent},n.prototype.liveStartBufferInSec=function(){return this.maxBufferInSec()*(this.heuristicSettings.buffer.prerollPercent+this.heuristicSettings.buffer.livePlaybackOffsetPercent)},n.prototype.updatePresentation=function(t){if(this.commonPresentation){var n=t.isLive&&null!==t.periods[0].streams.findFirst(function(e){return(0===e.type||1===e.type)&&!e.segments});n?e.Log.verbose(17,"New manifest without segments no presentationUpdate was done."):(this.commonPresentation.isLive&&!t.isLive&&(this.isLiveToVod=!0),this.commonPresentation.transferPresentationState(t),this.presentationJson=t.toJson()),t.dispose()}else this.commonPresentation=t,this.presentationJson=t.toJson()},n.prototype.setXmlHttpRequestFactory=function(e){this._xmlHttpRequestFactory=e},n.prototype.createXmlHttpRequest=function(){return this._xmlHttpRequestFactory?this._xmlHttpRequestFactory():new e.HttpRequest.XMLHttpRequestWrapper},n.prototype.playbackRate=function(){return this.azureHtml5.playbackRate()},n}());t.Session=n;var r=function(){function e(e,t){this.workflowType=e,this.sessionContext=t,this.state=0,this.retryWaitTimeMSec=0,this.currentModuleId=null,this.requestedStream=null,this.urlsToRetrieve=[],this.selectedTrack=null,this.selectedSegment=null,this.heuristicData=null,this.externalFailure=null,this.failTracker=new s,this._disposed=!1}return e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.workflowType=null,this.sessionContext=null,this.state=null,this.currentModuleId=null,this.requestedStream=null,this.urlsToRetrieve.forEach(function(e,t,n){n[t].dispose()}),this.urlsToRetrieve=[],this.selectedTrack=null,this.selectedSegment=null,this.heuristicData&&(this.heuristicData.dispose(),this.heuristicData=null),this.externalFailure&&(this.externalFailure.dispose(),this.externalFailure=null),this.failTracker&&(this.failTracker.dispose(),this.failTracker=null))},e.prototype.reset=function(){this.state=0,this.retryWaitTimeMSec=0,this.currentModuleId=null,this.selectedTrack=null,this.selectedSegment=null,1===this.workflowType&&(this.urlsToRetrieve=[]),this.heuristicData&&this.heuristicData.reset(),this.externalFailure=null},Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e}();t.Request=r;var i=function(){function e(e,t,n,r,i,o,a){"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=4),"undefined"==typeof r&&(r=""),"undefined"==typeof i&&(i=NaN),"undefined"==typeof o&&(o=NaN),"undefined"==typeof a&&(a=NaN),this.url=e,this.httpResponseCode=-1,this.httpResposeContentType="",this.mediaData=null,this.presentationData=null,this.streamId=r,this.bitrate=i,this.presTimeInSec=o,this.durationInSec=a,this.responseType=n,this.requestType=t}return e.prototype.dispose=function(){this.url=null,this.httpResponseCode=null,this.httpResposeContentType="",this.mediaData=null,this.presentationData=null,this.streamId="",this.bitrate=NaN,this.presTimeInSec=NaN,this.durationInSec=NaN,this.responseType=null},e.prototype.clone=function(){var t=new e(this.url,this.requestType,this.responseType,this.streamId,this.bitrate,this.presTimeInSec,this.durationInSec);return t.httpResponseCode=this.httpResponseCode,t.httpResposeContentType=this.httpResposeContentType,t.mediaData=this.mediaData.slice(0),t.presentationData=this.presentationData,t},e}();t.UrlRequest=i;var o=function(){function e(e){var t=[];e.tracks.forEach(function(e){e.streamingInfo.selectable&&t.push(new a(e))}),this.tracksData=t}return e.prototype.dispose=function(){this.tracksData.forEach(function(e,t,n){n[t].dispose()}),this.tracksData=[]},e.prototype.reset=function(){this.tracksData.forEach(function(e,t,n){n[t].reset()})},e}();t.HeuristicData=o;var a=function(){function e(e){this.trackInfo=e,this.selectable=!0,this.dataRetrieverEstimationInWallClockSec=null}return e.prototype.dispose=function(){this.trackInfo=null,this.selectable=null,this.dataRetrieverEstimationInWallClockSec=null},e.prototype.reset=function(){this.selectable=!0,this.dataRetrieverEstimationInWallClockSec=null},e}();t.TrackData=a;var s=function(){function e(){this.reset()}return e.prototype.dispose=function(){this.lastFailure=null,this.lastTrack=null,this.tracksToTry=[]},e.prototype.reset=function(){this.lastFailure=null,this.lastTrack=null,this.lastStreamType=-1,this.totalRetried=0,this.tracksToTry=[],this.trackToTryIdx=0,this.sameRequestRetried=0,this.segmentsSkipped=0,this.noDataReceivedFailure=!1},e.prototype.resetForSegment=function(){this.sameRequestRetried=0,this.trackToTryIdx=0},e.prototype.log=function(e,t,n){this.lastFailure=e,this.lastTrack=t,this.lastStreamType=n},e.prototype.isNone=function(){return null===this.lastFailure},e.prototype.isLastNetworkFail=function(){return this.lastFailure.code>=2097752&&this.lastFailure.code<3145727},e.prototype.isLastNetworkDown=function(){return 2097753===this.lastFailure.code},e.prototype.isLastNotReady=function(){return 2097564===this.lastFailure.code},e.prototype.isLastServerError=function(){return this.lastFailure.code>=2097652&&this.lastFailure.code<=2097751},e.prototype.isLastNotFound=function(){return 2097556===this.lastFailure.code},e.prototype.isSegmentDecryptionError=function(){return 5242885===this.lastFailure.code},e}();t.FailTracker=s}(e.Context||(e.Context={})),e.Context}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._downloads=[]}return t.prototype.dispose=function(){this._downloads=[]},t.prototype.add=function(t,n){if(0===this._downloads.length)return void this._downloads.push({time:t,bitrate:n});var r=this._downloads[this._downloads.length-1];if(t>r.time)return void(n!=r.bitrate&&this._downloads.push({time:t,bitrate:n}));var i=e.Common.binarySearchTimeline(t,this._downloads,this._compareTime);(-1===i||t>this._downloads[i].time)&&i++,this._downloads.splice(i,this._downloads.length-i),this._downloads.push({time:t,bitrate:n})},t.prototype.findBitrate=function(t){var n=e.Common.binarySearchTimeline(t,this._downloads,this._compareTime);return-1===n?-1:this._downloads[n].bitrate},t.prototype.cleanup=function(t){if(!(this._downloads.length>0&&t<=this._downloads[0].time)){var n=e.Common.binarySearchTimeline(t,this._downloads,this._compareTime);n>0&&this._downloads.splice(0,n)}},t.prototype._compareTime=function(e,t,n){var r=0;return n?(e<t.time?r=-1:e>=n.time&&(r=1),r):t.time<=e?0:-1},t}();t.DownloadTracker=n}(e.Context||(e.Context={})),e.Context}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function n(n){var r=this;this._videoElement=n,this._errorHandler=null,this.matchedKeySystem=null,this._audioContentType=null,this._videoContentType=null,this._psshBoxes=[],this._keySystems={},this._laUrls={},this._authenticationTokens={},this._disposed=!1,this._initializedKeySystem=null,this._eventManager=null,this._useEMEv3ForPlayReady="requestMediaKeySystemAccess"in navigator&&e.Common.isChromiumEdge;var i=this._useEMEv3ForPlayReady?new t.PlayReady:new t.PlayReadyLegacy;this.addKeySystem(i);var o=new t.Widevine;this.addKeySystem(o),this._needKeyHandlerWrapper=function(e){r._needKeyHandler(e)},this._encryptedHandlerWrapper=function(e){r._encryptedHandler(e)},this._useEMEv3ForPlayReady||e.EmeUtil.listenToNeedKey(n,this._needKeyHandlerWrapper),e.EmeUtil.listenToEncrypted(n,this._encryptedHandlerWrapper)}return n.prototype.reset=function(){this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null),this._psshBoxes=[],this._laUrls={},this._errorHandler=null,this._audioContentType=null,this._videoContentType=null,this._authenticationTokens={},this._initializedKeySystem=null},n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null),e.EmeUtil.unlistenToNeedKey(this._videoElement,this._needKeyHandlerWrapper),e.EmeUtil.unlistenToEncrypted(this._videoElement,this._encryptedHandlerWrapper),this._needKeyHandlerWrapper=null,this._encryptedHandlerWrapper=null,this._psshBoxes=[],this._keySystems={},this._laUrls={},this._videoElement=null,this._errorHandler=null,this._audioContentType=null,this._videoContentType=null,this._authenticationTokens=null,this._initializedKeySystem=null,this._eventManager=null)},n.prototype.setEventManager=function(e){this._eventManager=e},n.prototype.setup=function(e,t){this._errorHandler=e,this._authenticationTokens=t},n.prototype.setContentTypes=function(e,t){this._audioContentType=e,this._videoContentType=t},n.prototype.addKeySystem=function(t){var n=e.Common.uint8ArrayToHexString(t.systemId);return n&&n.length>0?(this._keySystems[n]&&e.Log.warning(12,"Overwriting "+t.name),this._keySystems[n]=t,t):null},n.prototype.addPsshBoxes=function(t){var n=this;t.forEach(function(t){var r=e.Common.uint8ArrayToHexString(t.systemId);e.Log.verbose(12,"Adding pssh box with system ID "+r),n._psshBoxes.push(t)})},n.prototype.addLaUrl=function(t,n){var r=e.Common.uint8ArrayToHexString(t);return this._keySystems[r]?(this._laUrls[r]&&this._laUrls[r]!==n&&e.Log.warning(12,"Overwriting license acquisition URL for "+this._keySystems[r].name),void(this._laUrls[r]=n)):void e.Log.warning(12,"Cannot set license acquisition URL for system ID "+r)},n.prototype._needKeyHandler=function(t){var n=this;if(!this._disposed){if(e.Log.verbose(12,"Got needKey event"),t.initData){var r=new DataView(t.initData.buffer),i=e.Mp4Util.GetPsshBoxes(r);this.addPsshBoxes(i)}this._findMatchedKeySystem().then(function(t){if(!t||null!=n._initializedKeySystem&&n._initializedKeySystem!=t.type)n._reportKeySystemNotFound();else{null==n._initializedKeySystem&&(n._initializedKeySystem=t.type);for(var r=0;r<n._psshBoxes.length;r++)if(n._psshBoxes[r].systemId.isEqual(t.systemId)){var i=new Uint8Array(n._psshBoxes[r].serialize());e.Log.verbose(12,"needKeyHandler: Sending initData to: "+t.name),t.initData(null,i,n._audioContentType,n._videoContentType)}}},function(){n._reportKeySystemNotFound()})}},n.prototype._encryptedHandler=function(t){var n=this;if(!this._disposed){if(e.Log.verbose(12,"Got encrypted event"),t.initData){var r=new DataView(t.initData),i=e.Mp4Util.GetPsshBoxes(r);this.addPsshBoxes(i)}this._findMatchedKeySystem().then(function(r){if(!r||null!=n._initializedKeySystem&&n._initializedKeySystem!=r.type)n._reportKeySystemNotFound();else{null==n._initializedKeySystem&&(n._initializedKeySystem=r.type);for(var i=e.Common.uint8ArrayToHexString(r.systemId),o=0;o<n._psshBoxes.length;o++)if(n._psshBoxes[o].systemId.isEqual(r.systemId)){var a=new Uint8Array(n._psshBoxes[o].serialize());e.Log.verbose(12,"encryptedHandler: Sending initData to: "+r.name),r.initData(t.initData,a,n._audioContentType,n._videoContentType,n._laUrls[i])}}},function(){n._reportKeySystemNotFound()})}},n.prototype._findMatchedKeySystem=function(){var t=this;return new Promise(function(n,r){function i(){if(o>=t._psshBoxes.length)return void r();var a=e.Common.uint8ArrayToHexString(t._psshBoxes[o].systemId);t._keySystems[a]?t._keySystems[a].isSupported(t._psshBoxes[o].systemId,t._audioContentType,t._videoContentType).then(function(){t.matchedKeySystem=t._keySystems[a],t.matchedKeySystem.activate(t._videoElement,t._errorHandler,t._authenticationTokens[t.matchedKeySystem.type]),t._eventManager&&t._eventManager.dispatchEvent("drmselected"),e.Log.verbose(12,"Matched key system found: "+t.matchedKeySystem.name),n(t.matchedKeySystem)},function(){++o,i()}):(++o,i())}if(t.matchedKeySystem)return void n(t.matchedKeySystem);var o=0;i()})},n.prototype._reportKeySystemNotFound=function(){var t=new e.Failure.External(5242881,"no matching keySystem found");this._errorHandler(t)},n}();t.EmeManager=n}(e.KeySystem||(e.KeySystem={})),e.KeySystem}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this.name="com.microsoft.playready",this.type="PlayReady",this._authenticationToken="",this._errorHandler=null,this._videoElement=null,this._active=!1,t.overrideLicenseAcquisitionUrl=e.KeySystem.PlayReady.overrideLicenseAcquisitionUrl}return Object.defineProperty(t.prototype,"systemId",{get:function(){return t.systemId},enumerable:!0,configurable:!0}),t.prototype.isSupported=function(n,r,i){return n.isEqual(t.systemId)?e.EmeUtil.isTypeSupported(this.name,r,i):new Promise(function(e,t){t()})},t.prototype.activate=function(){},t.prototype.deactivate=function(){},t.prototype.initData=function(){},t.prototype._getPlayReadyLicense=function(n,r){var i=this;return new Promise(function(o,a){var s=null,l=[],u=new DOMParser,d=u.parseFromString(n,"application/xml");if(!d.getElementsByTagName("Challenge")[0])return e.Log.error(12,"Playready: Can not find Challenge in keyMessage"),void a(new e.Failure.External(5242886,"No challenge"));var c=d.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;c&&(s=atob(c));var p=d.getElementsByTagName("name"),h=d.getElementsByTagName("value");if(p.length!=h.length)return e.Log.error(12,"Playready update, invalid header name/value pair in keyMessage"),void a(new e.Failure.External(5242886,"Invalid headers"));for(var f=0;f<p.length;f++)l[f]={name:p[f].childNodes[0].nodeValue,value:h[f].childNodes[0].nodeValue};i._authenticationToken&&i._authenticationToken.length>0&&(l[p.length]={name:e.HttpUtil.authorizationHeader,value:i._authenticationToken}),t.overrideLicenseAcquisitionUrl&&(e.Log.verbose(12,"overriding license acquisition url: "+r+" with: "+t.overrideLicenseAcquisitionUrl),r=t.overrideLicenseAcquisitionUrl),e.HttpUtil.httpRequest(r,"POST","arraybuffer",l,s).then(function(t){e.Log.verbose(12,"Processed license request"),o(new Uint8Array(t))},function(t){var n=new e.Failure.External(5242886,"Http: "+e.Common.toHexString(t.code)+", reponse: "+t.response);
a(n)})})},t.prototype._reportError=function(e){this._errorHandler&&this._errorHandler(e)},t.systemId=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),t}();t.PlayReadyBase=n;var r=function(t){function r(){t.call(this),this._laUrl="",this._session=null,this._initialized=!1}return __extends(r,t),r.prototype.activate=function(e,t,n){this._videoElement=e,this._errorHandler=t,this._authenticationToken=n,this._active=!0},r.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(e.EmeUtil.unlistenToMessage(this._session,this._messageHandler),this._session.close(),this._session=null),this._videoElement&&(this._videoElement.src="",this._videoElement.setMediaKeys(null),this._videoElement=null),this._errorHandler=null,this._laUrl="",this._authenticationToken="",this._initialized=!1)},r.prototype.initData=function(t,r,i,o){function a(e){return e.createMediaKeys()}function s(t){if(e.Log.verbose(12,"creating media key session for PlayReady"),c._session=t.createSession(),!c._session){e.Log.error(12,c.name+" createSession failed");var n=new e.Failure.External(5242881,c.name+" createSession failed");return void c._reportError(n)}e.EmeUtil.listenToMessage(c._session,l),c._session.generateRequest("cenc",r)["catch"](function(){e.Log.error(12,c.name+" generateRequest failed");var t=new e.Failure.External(5242881,c.name+" generateRequest failed");c._reportError(t)}),c._videoElement.setMediaKeys(t)["catch"](function(){e.Log.error(12,c.name+" setMediaKeys failed");var t=new e.Failure.External(5242881,c.name+" setMediaKeys failed");c._reportError(t)})}function l(e){c._messageHandler(e)}function u(t){var n=new window.URL(t);return n&&"https:"!=n.protocol?(e.Log.verbose(12,"Converting url from http to https."),"https:"+n.href.substring(n.protocol.length)):t}function d(){e.Log.verbose(12,"Ensuring license server url uses https."),c._laUrl=u(c._laUrl),n.overrideLicenseAcquisitionUrl&&(e.Log.verbose(12,"Ensuring license server url override uses https."),n.overrideLicenseAcquisitionUrl=u(n.overrideLicenseAcquisitionUrl))}var c=this;if(!this._initialized){this._initialized=!0;for(var p=new DataView(t),h=e.Mp4Util.GetPsshBoxes(p),f=0;f<h.length;f++)if(e.Common.typedArraysAreEqual(h[f].systemId,n.systemId)){this._laUrl=this.getLicenseServerURL(h[f].specificData.buffer),d();break}e.Log.verbose(12,"laUrl "+(this._laUrl?"received":"not received"));var m=e.EmeUtil.createSupportedKeySystem(this.name,i,o);m["catch"](function(){e.Log.error(12,c.name+" createSupportedKeySystem failed");var t=new e.Failure.External(5242882,c.name+" createSupportedKeySystem failed");c._reportError(t)});var g=m.then(a);g["catch"](function(){e.Log.error(12,c.name+" createMediaKeys failed");var t=new e.Failure.External(5242882,c.name+" createMediaKeys failed");c._reportError(t)}),g.then(s)["catch"](function(){e.Log.error(12,c.name+" createKeySession failed");var t=new e.Failure.External(5242882,c.name+" createKeySession failed");c._reportError(t)})}},r.prototype._messageHandler=function(e){var t=this;if("license-request"===e.messageType){var n=new window.TextDecoder("utf-16").decode(e.message);this._getPlayReadyLicense(n,this._laUrl).then(function(e){t._active&&t._session&&t._session.update(e)},function(e){t._active&&t._reportError(e)})}},r.prototype.getLicenseServerURL=function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;n>o;o++){var a=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===a){var l=e.slice(r,r+s),u=String.fromCharCode.apply(null,new Uint16Array(l)),d=i.parseFromString(u,"application/xml");if(d.getElementsByTagName("LA_URL")[0]){var c=d.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(c)return c}if(d.getElementsByTagName("LUI_URL")[0]){var p=d.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(p)return p}}else r+=s}return null},r}(n);t.PlayReady=r;var i=function(t){function n(){t.call(this),this._session=null}return __extends(n,t),n.prototype.activate=function(e,t,n){this._videoElement=e,this._errorHandler=t,this._authenticationToken=n,this._active=!0},n.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(e.EmeUtil.unlistenToKeyMessage(this._session,this._keyMessageHandler),e.EmeUtil.unlistenKeyError(this._session,this._keyErrorHandler),this._session.close(),this._session=null),this._videoElement=null,this._errorHandler=null,this._authenticationToken="")},n.prototype.initData=function(t,n,r,i){function o(e){s._keyMessageHandler(e)}function a(){s._keyErrorHandler()}var s=this;if(!this._session){var l=e.EmeUtil.createMediaKeys(this.name);if(!l){e.Log.error(12,this.name+" createMediaKeys failed");var u=new e.Failure.External(5242881,this.name+" createMediaKeys failed");return void this._reportError(u)}e.EmeUtil.setMediaKeys(this._videoElement,l);var d=i.substr(0,i.length-1);if(r){var c=r.substr(r.indexOf("=")+2);d+=", "+c}if(e.Log.verbose(12,"creating media key session for PlayReady"),this._session=l.createSession(d,n),!this._session){e.Log.error(12,this.name+" createSession failed");var u=new e.Failure.External(5242881,this.name+" createSession failed");return void this._reportError(u)}e.EmeUtil.listenToKeyMessage(this._session,o),e.EmeUtil.listenKeyError(this._session,a)}},n.prototype._keyMessageHandler=function(e){var t=this,n=new Uint16Array(e.message.buffer),r=String.fromCharCode.apply(null,n),i=e.destinationURL;this._getPlayReadyLicense(r,i).then(function(e){t._active&&t._session&&t._session.update(e)},function(e){t._active&&t._reportError(e)})},n.prototype._keyErrorHandler=function(){if(this._active&&this._session.error){var t="MSMediaKeyError code: "+this._session.error.code+", systemCode: "+e.Common.toHexString(this._session.error.systemCode),n=new e.Failure.External(5242880,t);this._reportError(n)}},n}(n);t.PlayReadyLegacy=i}(e.KeySystem||(e.KeySystem={})),e.KeySystem}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(){this.windowSizeHeuristicsEnabled=e._windowSizeHeuristicsEnabledDefault,this.useBrowserWindowForWindowSizeRule=e._useBrowserWindowForWindowSizeRuleDefault,this.preFetchDataEnabled=e._preFetchDataEnabledDefault,this.preFetchDataMiddle=e._preFetchDataMiddleDefault,this.vodStableBufferLevelPercent=e._vodStableBufferLevelPercentDefault,this.vodDowngradeBufferLevelPercent=e._vodDowngradeBufferLevelPercentDefault,this.belowDowngradeBufferLevelDownloadTimeFactor=e._belowDowngradeBufferLevelDownloadTimeFactorDefault,this.bandwidth=null,this.stepRule=null,this.buffer=null,this.bandwidth=new n,this.stepRule=new r,this.buffer=new i}return e.prototype.reset=function(){this.windowSizeHeuristicsEnabled=e._windowSizeHeuristicsEnabledDefault,this.useBrowserWindowForWindowSizeRule=e._useBrowserWindowForWindowSizeRuleDefault,this.preFetchDataEnabled=e._preFetchDataEnabledDefault,this.preFetchDataMiddle=e._preFetchDataMiddleDefault,this.vodStableBufferLevelPercent=e._vodStableBufferLevelPercentDefault,this.vodDowngradeBufferLevelPercent=e._vodDowngradeBufferLevelPercentDefault,this.belowDowngradeBufferLevelDownloadTimeFactor=e._belowDowngradeBufferLevelDownloadTimeFactorDefault,this.bandwidth.reset(),this.stepRule.reset(),this.buffer.reset()},e._windowSizeHeuristicsEnabledDefault=!0,e._useBrowserWindowForWindowSizeRuleDefault=!1,e._preFetchDataEnabledDefault=!0,e._preFetchDataMiddleDefault=!0,e._vodStableBufferLevelPercentDefault=.7,e._vodDowngradeBufferLevelPercentDefault=.15,e._belowDowngradeBufferLevelDownloadTimeFactorDefault=.75,e}();e.Heuristics=t;var n=function(){function e(){this.bandwidthUsabilityPercent=e._bandwidthUsabilityPercentDefault,this.bandwidthDataSizeThresholdInBytes=e._bandwidthDataSizeThresholdInBytesDefault,this.bandwidthEstimationMaxKbps=e._bandwidthEstimationMaxKbpsDefault,this.bandwidthEstimationMinMsec=e._bandwidthEstimationMinMsecDefault,this.maxBandwidthHistoryCount=e._maxBandwidthHistoryCountDefault,this.minBandwidthHistoryCount=e._minBandwidthHistoryCountDefault,this.bandwidthTestWithTimeThresholdDuringLive=e._bandwidthTestWithTimeThresholdDuringLiveDefault,this.useVariableFragmentSizeMode=e._useVariableFragmentSizeModeDefault}return e.prototype.reset=function(){this.bandwidthUsabilityPercent=e._bandwidthUsabilityPercentDefault,this.bandwidthDataSizeThresholdInBytes=e._bandwidthDataSizeThresholdInBytesDefault,this.bandwidthEstimationMaxKbps=e._bandwidthEstimationMaxKbpsDefault,this.bandwidthEstimationMinMsec=e._bandwidthEstimationMinMsecDefault,this.maxBandwidthHistoryCount=e._maxBandwidthHistoryCountDefault,this.minBandwidthHistoryCount=e._minBandwidthHistoryCountDefault,this.bandwidthTestWithTimeThresholdDuringLive=e._bandwidthTestWithTimeThresholdDuringLiveDefault,this.useVariableFragmentSizeMode=e._useVariableFragmentSizeModeDefault},e._bandwidthUsabilityPercentDefault=.85,e._bandwidthDataSizeThresholdInBytesDefault=1e4,e._bandwidthEstimationMaxKbpsDefault=5e5,e._bandwidthEstimationMinMsecDefault=5,e._maxBandwidthHistoryCountDefault=5,e._minBandwidthHistoryCountDefault=1,e._bandwidthTestWithTimeThresholdDuringLiveDefault=!0,e._useVariableFragmentSizeModeDefault=!1,e}();e.Bandwidth=n;var r=function(){function e(){this.minSegmentsBeforeDowngrade=e._minSegmentsBeforeDowngradeDefault,this.minSegmentsBeforeUpgrade=e._minSegmentsBeforeUpgradeDefault,this.maxStepDownInQuality=e._maxStepDownInQualityDefault,this.maxStepUpInQuality=e._maxStepUpInQualityDefault}return e.prototype.reset=function(){this.minSegmentsBeforeDowngrade=e._minSegmentsBeforeDowngradeDefault,this.minSegmentsBeforeUpgrade=e._minSegmentsBeforeUpgradeDefault,this.maxStepDownInQuality=e._maxStepDownInQualityDefault,this.maxStepUpInQuality=e._maxStepUpInQualityDefault},e._minSegmentsBeforeDowngradeDefault=0,e._minSegmentsBeforeUpgradeDefault=1,e._maxStepDownInQualityDefault=10,e._maxStepUpInQualityDefault=3,e}();e.StepRule=r;var i=function(){function e(){this.maxBufferInWallClockSec=e._maxBufferInSecDefault,this.prerollPercent=e._prerollPercentDefault,this.livePlaybackOffsetPercent=e._livePlaybackOffsetPercentDefault,this.leftEdgeBackoffInSec=e._leftEdgeBackoffInSecDefault,this.lowBufferPercent=e._lowBufferPercentDefault}return e.prototype.reset=function(){this.maxBufferInWallClockSec=e._maxBufferInSecDefault,this.prerollPercent=e._prerollPercentDefault,this.lowBufferPercent=e._lowBufferPercentDefault,this.livePlaybackOffsetPercent=e._livePlaybackOffsetPercentDefault,this.leftEdgeBackoffInSec=e._leftEdgeBackoffInSecDefault},e._maxBufferInSecDefault=30,e._prerollPercentDefault=.25,e._lowBufferPercentDefault=.25,e._livePlaybackOffsetPercentDefault=.25,e._leftEdgeBackoffInSecDefault=4,e}();e.Buffer=i;var o=function(){function e(){this.maxTotalRetries=e._maxTotalRetriesDefault,this.maxRetryPerSegment=e._maxRetryPerSegmentDefault,this.maxRetryPresentation=e._maxRetryPresentationDefault,this.maxSkipSegments=e._maxSkipSegmentsDefault,this.retryLowerBitrateOnly=!1,this.retryMediaInMSec=e._retryMediaInMSecDefault,this.retryMediaServerErrorInMSec=e._retryMediaServerErrorInMSecDefault,this.retryPresentationInMSec=e._retryPresentationInMSecDefault,this.retryDueToNetworkErrorInMSec=e._retryDueToNetworkErrorInMSecDefault,this.retryDueTo412InTextTrackInMSecDefault=e._retryDueTo412InTextTrackInMSecDefault,this.infiniteSegmentRetryForPreconditionFailed=!1,this.maxRetriesForKeyAcquireFailure=e._maxRetriesForKeyAcquireFailure,this.maxWaitTimeBetweenRetriesForKeyAcquireMS=e._retryInMSecBetweenKeyAcquireFailures}return e._maxTotalRetriesDefault=50,e._maxRetryPerSegmentDefault=10,e._maxRetryPresentationDefault=5,e._maxSkipSegmentsDefault=30,e._retryMediaInMSecDefault=2e3,e._retryMediaServerErrorInMSecDefault=4e3,e._retryPresentationInMSecDefault=500,e._retryDueToNetworkErrorInMSecDefault=1e3,e._retryDueTo412InTextTrackInMSecDefault=500,e._maxRetriesForKeyAcquireFailure=3,e._retryInMSecBetweenKeyAcquireFailures=500,e}();e.HttpRetryPolicy=o;var a=function(){function e(){this.initBandwidthTimeoutInMSec=e._initBandwidthTimeout,this.noDataTimeoutInMSec=e._noDataTimeoutDefault,this.timeoutInMSec=e._minTimeoutInMSecDefault,this.liveEdgeAdjustmentInSec=e._liveEdgeAdjustmentDefaultInSec}return Object.defineProperty(e.prototype,"maxTimeoutInMSec",{get:function(){return 6e4},enumerable:!0,configurable:!0}),e._minTimeoutInMSecDefault=1e4,e._initBandwidthTimeout=1e3,e._noDataTimeoutDefault=1e3,e._liveEdgeAdjustmentDefaultInSec=-1,e}();e.HttpDataRetriever=a}(e.Settings||(e.Settings={})),e.Settings}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(){return new a}function r(){return!(!window.hasOwnProperty("MediaSource")&&!window.hasOwnProperty("WebKitMediaSource"))}t.CreateAdapter=n,t.supported=r;var i={closed:0,open:1,ended:2},o=function(){function e(e,t,n){this.bufferIndex=e,this.startTime=t,this.endTime=n}return e}(),a=function(){function n(){this._mediaSource=new MediaSource,this._sourceOpenHandler=null,this._adapterSourceBuffers=new s,this._disposed=!1,this._videoTag=null,this._buffered=null}return n.prototype.dispose=function(){if(!this._disposed){if(this._mediaSource){for(var e=this._mediaSource.sourceBuffers.length-1;e>=0;e--)this._mediaSource.removeSourceBuffer(this._mediaSource.sourceBuffers[e]);this._sourceOpenHandler&&(this._mediaSource.removeEventListener("sourceopen",this._sourceOpenHandler),this._sourceOpenHandler=null),this._mediaSource=null}this._adapterSourceBuffers.dispose(),this._adapterSourceBuffers=null,this._videoTag&&(this._videoTag.src&&(URL.revokeObjectURL(this._videoTag.src),this._videoTag.src=null),this._videoTag=null),this._disposed=!0}},Object.defineProperty(n.prototype,"readyState",{get:function(){return this._disposed?0:i[this._mediaSource.readyState]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"durationInSec",{get:function(){return this._disposed?NaN:this._mediaSource.duration},set:function(e){this._disposed||(this._mediaSource.duration=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"adapterBuffers",{get:function(){return this._disposed?null:this._adapterSourceBuffers.adapterBuffers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"buffered",{get:function(){return this._buffered},enumerable:!0,configurable:!0}),n.prototype.setVideoElementSrcAsync=function(e){var t=this;return this._videoTag=e,new Promise(function(n,r){return t._disposed?void r("VideoElementAdapter already disposed"):(t._sourceOpenHandler=function(){return t._disposed?void r("VideoElementAdapter already disposed"):(t._mediaSource.removeEventListener("sourceopen",t._sourceOpenHandler),t._sourceOpenHandler=null,void n())},t._mediaSource.addEventListener("sourceopen",t._sourceOpenHandler),void(e.src=URL.createObjectURL(t._mediaSource)))})},n.prototype.setStartTime=function(t){function r(){!i._disposed&&i._videoTag&&0===i._videoTag.currentTime&&(i._videoTag.readyState!==HTMLMediaElement.HAVE_NOTHING?(i._videoTag.currentTime=t,e.Log.verbose(3,"StartTime set: "+t)):(e.Log.verbose(3,"Video tag not ready, will retry to set StartTime to "+t),e.Util.setTimeout(r,n._setCurrentTimeTimeoutInMSec)))}var i=this;r()},n.prototype.addAdapterBuffer=function(n,r,i,o,a){function s(){d._updateBuffered()}function l(e){i.call(d,e)}if(this._disposed)return null;var u,d=this,c=null;try{u=this._mediaSource.addSourceBuffer(n),c=new t.VideoElementAdapterBuffer(o,a,r,u,s,l,n),this._adapterSourceBuffers.add(c,u),e.Log.verbose(3,"Adapter buffer added: "+n+" Adapter buffer total: "+this._adapterSourceBuffers.length)}catch(p){e.Log.error(3,"Failed to add SourceBuffer to MediaSource: "+p)}if(null!==c&&null!==u&&"audio"===c.mediaType)try{u.changeType(n),c.hasAudioTypeChangeSupport=!0}catch(h){e.Log.verbose(3,"Adapter buffer added: "+n+" does not support type change: "+h)}return c},n.prototype.isTypeSupported=function(e){return MediaSource.isTypeSupported&&MediaSource.isTypeSupported(e)},n.prototype.removeAdapterBuffer=function(t){if(!this._disposed){var n;n=this._adapterSourceBuffers.find(t),-1!==n?(this._mediaSource.removeSourceBuffer(this._adapterSourceBuffers.sourceBuffers[n]),this._adapterSourceBuffers.remove(n),e.Log.verbose(3,"Adapter buffer removed, remaining: "+this._adapterSourceBuffers.length)):e.Log.error(3,"Failed to remove adapter buffer: instance not found")}},n.prototype.changeAdapterBufferType=function(t,n){if(this._disposed)return!1;var r,i=!1;if(r=this._adapterSourceBuffers.find(t),-1!==r)try{this._adapterSourceBuffers.sourceBuffers[r].updating&&this._adapterSourceBuffers.sourceBuffers[r].abort();var o=this._adapterSourceBuffers.sourceBuffers[r];o.changeType(n),e.Log.verbose(3,"Adapter buffer media type succesfully changed to "+n),i=!0}catch(a){e.Log.error(3,"Failed to change source buffer media type")}else e.Log.error(3,"Failed to find the source buffer to change its media type");return i},n.prototype.endOfStream=function(t){function r(){if(!i._disposed)try{o?i._mediaSource.endOfStream(o):i._mediaSource.endOfStream(),e.Log.verbose(3,"End of stream signaled")}catch(t){if(!(t.code===DOMException.INVALID_STATE_ERR&&a++<10))throw e.Log.error(3,"Failed to set end-of-stream: "+t),t;e.Log.warning(3,"MediaSource not ready, will retry: "+t),e.Util.setTimeout(r,n._retryTimeoutInMSec)}}var i=this,o=t,a=0;r()},n.prototype._updateBuffered=function(){if(!this._disposed){for(var t=this._adapterSourceBuffers.adapterBuffers,n=new e.Common.TimeRangeSet,r=this._findUniqueStartTimes(),i=0;i<r.length;i++){for(var o=r[i].startTime,a=r[i].endTime,s=!0,l=0;l<t.length;l++){var u=t[l].buffered;if(l!==r[i].bufferIndex){for(var d=!1,c=0;c<u.length;c++)if(u.start(c)<=o&&o<=u.end(c)){d=!0,u.end(c)<a&&(a=u.end(c));break}if(!d){s=!1;break}}}s&&(e.Log.verbose(3,"Intersecting buffer found ("+r[i].startTime+", "+a+")"),n.addRange(new e.Common.TimeRange(r[i].startTime,a)))}this._buffered=n}},n.prototype._findUniqueStartTimes=function(){for(var e=[],t=this._adapterSourceBuffers.adapterBuffers,n=0;n<t.length;n++)for(var r=t[n].buffered,i=0;i<r.length;i++)-1===e.findIndexOf(function(e){return e.startTime===r.start(i)})&&e.push(new o(n,r.start(i),r.end(i)));return e.sort(function(e,t){return e.startTime-t.startTime}),e},n._setCurrentTimeTimeoutInMSec=500,n._retryTimeoutInMSec=100,n}(),s=function(){function e(){this.adapterBuffers=[],this.sourceBuffers=[]}return e.prototype.dispose=function(){for(var e=this.adapterBuffers.length-1;e>=0;e--)this.adapterBuffers[e].dispose(),this.adapterBuffers[e]=null;for(var e=this.sourceBuffers.length-1;e>=0;e--)this.sourceBuffers[e]=null},Object.defineProperty(e.prototype,"length",{get:function(){if(this.sourceBuffers.length!==this.adapterBuffers.length)throw new Error("AdapterSourceBuffers in invalid state");return this.sourceBuffers.length},enumerable:!0,configurable:!0}),e.prototype.find=function(e){return this.adapterBuffers.indexOf(e)},e.prototype.add=function(e,t){this.adapterBuffers.push(e),this.sourceBuffers.push(t)},e.prototype.remove=function(e){e>=0&&e<this.sourceBuffers.length&&(this.sourceBuffers.splice(e,1),this.adapterBuffers.splice(e,1))},e}()}(e.VideoElementAdapter||(e.VideoElementAdapter={})),e.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(t,n,r,i,o,a,s){function l(){u._notifyBufferUpdated(),u._tryInternalRemove(),u._tryInternalAppend()}var u=this;this._disposed=!1,this._pendingBufferRanges=new e.Common.TimeRangeSet,this._sourceBuffer=i,this._maxAdapterBufferAheadInWallClockSec=t,this._maxAdapterBufferBehindCurrentTimeInSec=n,this._playbackPosFn=r,this._notifyBufferUpdated=o,this._pendingBuffer=[],this._pendingRemove=[],this._submittedRemove=null,this._appendErrorHandler=a,this._mediaType=s.split("/")[0],this._hasAudioTypeChangeSupport=!1,this._sourceBufferUpdated=function(){e.Log.verbose(3,u._decorateLogMessage("SourceBuffer 'update' event completed.")),l()},this._sourceBufferError=function(){e.Log.error(3,u._decorateLogMessage("SourceBuffer append failed with 'error' event.")),l()},this._sourceBuffer.addEventListener("update",this._sourceBufferUpdated),this._sourceBuffer.addEventListener("error",this._sourceBufferError)}return Object.defineProperty(t.prototype,"mediaType",{get:function(){return this._mediaType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAudioTypeChangeSupport",{get:function(){return this._hasAudioTypeChangeSupport},set:function(e){this._hasAudioTypeChangeSupport=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffered",{get:function(){var t,n,r=new e.Common.TimeRangeSet;try{r.addRanges(this._sourceBuffer.buffered),n=r.length>0?r.end(r.length-1):NaN;for(var i=0;i<this._pendingBufferRanges.length;i++){var o=this._pendingBufferRanges.start(i),a=this._pendingBufferRanges.end(i);0===e.Common.diffTimes(o,n)?r.extendLast(a):(t=new e.Common.TimeRange(o,a),r.addRange(t)),n=a}for(var i=0;i<this._pendingRemove.length;i++){var s=this._pendingRemove[i].startInSec,l=this._pendingRemove[i].endInSec;r.removeRange(s,l)}if(this._submittedRemove){var s=this._submittedRemove.startInSec,l=this._submittedRemove.endInSec;r.removeRange(s,l)}}catch(u){e.Log.error(3,this._decorateLogMessage("buffered() threw exception "+u))}return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._sourceBuffer.timestampOffset},set:function(e){this._sourceBuffer.timestampOffset=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this._sourceBuffer.audioTracks},enumerable:!0,configurable:!0}),t.prototype.getBufferedAheadOfCurrentTimeInSec=function(){if(this._disposed)return 0;var e=this.buffered,t=this._playbackPosFn(),n=0;if(0===e.length)return 0;for(var r=0;r<e.length;r++)e.start(r)<=t&&t<e.end(r)?n+=e.end(r)-t:t<e.start(r)&&(n+=e.end(r)-e.start(r));return n},t.prototype.bufferFull=function(e){return this.getBufferedAheadOfCurrentTimeInSec()>this._maxAdapterBufferAheadInWallClockSec*e},t.prototype.contains=function(e){for(var t=this.buffered,n=0;n<t.length;n++)if(t.start(n)<=e&&e<t.end(n))return!0;return!1},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this._sourceBuffer.removeEventListener("update",this._sourceBufferUpdated),this._sourceBuffer.removeEventListener("error",this._sourceBufferError),this._notifyBufferUpdated=null,this._playbackPosFn=null,this._appendErrorHandler=null,this._sourceBufferUpdated=null,this._sourceBufferError=null;for(var e=this._pendingBuffer.length-1;e>=0;e--)this._pendingBuffer[e]=null;this._sourceBuffer=null;for(var e=this._pendingRemove.length-1;e>=0;e--)this._pendingRemove[e]=null;this._submittedRemove&&(this._submittedRemove=null),this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null)}},t.prototype.flushBufferBehindCurrentTime=function(){if(this._maxAdapterBufferBehindCurrentTimeInSec>0)try{var t=this._playbackPosFn()-this._maxAdapterBufferBehindCurrentTimeInSec,n=this.getStartTimeOfCurrentBuffered();NaN!=n&&n>=0&&t>n&&this.flushUntil(t)}catch(r){e.Log.warning(3,this._decorateLogMessage("Ignoring Exception in flushBufferBehindCurrentTim"))}},t.prototype.append=function(t,n,r){this.flushBufferBehindCurrentTime();var i,o,a,s;for(s=0;s<this._pendingBuffer.length&&!(n<this._pendingBuffer[s].presTimeInSec);s++);if(r){if(s>0){o=this._pendingBuffer[s-1];var l=e.Common.diffTimes(n,o.presTimeInSec+o.durationInSec);if(l>0)throw new Error(this._decorateLogMessage("append ("+n+","+r+") failed, overlaps with ("+o.presTimeInSec+","+o.durationInSec+")"))}if(s<this._pendingBuffer.length){a=this._pendingBuffer[s];var l=e.Common.diffTimes(a.presTimeInSec,n+r);if(l>0)throw new Error(this._decorateLogMessage("append ("+n+","+r+") failed, overlaps with ("+a.presTimeInSec+","+a.durationInSec+")"))}}i=new e.Common.SegmentData(t,n,r),this._pendingBuffer.splice(s,0,i),this._updatePendingRanges(),e.Log.verbose(3,this._decorateLogMessage("Appending segment: "+n+" sec "+t.byteLength+" bytes")),this._tryInternalAppend(),this._notifyBufferUpdated()},t.prototype.remove=function(t,n){var r;t=Math.max(t,0),r=new e.Common.TimeRange(t,n),this._pendingRemove.push(r),e.Log.verbose(3,this._decorateLogMessage("Added to remove pending list ["+t+","+n+")")),this._tryInternalRemove()},t.prototype.flushFrom=function(e){var t=this._sourceBuffer.buffered;this._sourceBuffer.updating&&this._sourceBuffer.abort();var n=0,r=0;if(t.length>0&&(n=t.start(0)),this._pendingBuffer.length>0&&(n=Math.min(n,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0){var i=this._pendingBuffer[this._pendingBuffer.length-1];r=i.presTimeInSec+i.durationInSec}if(t.length>0&&(r=Math.max(r,t.end(t.length-1))),void 0!==e&&(n=e),r>n)this.remove(n,r);else if(0!==n||0!==r)throw new Error(this._decorateLogMessage("flush failed, endTime ("+r+") not greater than startime ("+n+")"))},t.prototype.getStartTimeOfCurrentBuffered=function(){var e=this._sourceBuffer.buffered,t=NaN;return e.length>0&&(t=e.start(0)),this._pendingBuffer.length>0&&(t=Math.min(t,this._pendingBuffer[0].presTimeInSec)),t},t.prototype.flushUntil=function(e){var t=this._sourceBuffer.buffered,n=0,r=0;if(t.length>0&&(n=t.start(0)),this._pendingBuffer.length>0&&(n=Math.min(n,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0){var i=this._pendingBuffer[this._pendingBuffer.length-1];r=i.presTimeInSec+i.durationInSec}if(t.length>0&&(r=Math.max(r,t.end(t.length-1))),r=Math.min(r,e),r>n)this.remove(n,r);else if(0!==n||0!==r)throw new Error(this._decorateLogMessage("flush failed, endTime ("+r+") not greater than startime ("+n+")"))},t.prototype._tryInternalAppend=function(){if(this._pendingBuffer&&this._sourceBuffer&&0!==this._pendingBuffer.length&&!this._sourceBuffer.updating)try{this._sourceBuffer.appendBuffer(this._pendingBuffer[0].data),e.Log.verbose(3,this._decorateLogMessage("Appended segment to SourceBuffer: "+this._pendingBuffer[0].presTimeInSec+" sec "+this._pendingBuffer[0].data.byteLength+" bytes")),this._pendingBuffer.splice(0,1),this._updatePendingRanges()}catch(t){switch(t.code){case DOMException.INVALID_STATE_ERR:case DOMException.QUOTA_EXCEEDED_ERR:e.Log.error(3,this._decorateLogMessage("Failed to append segment to SourceBuffer, will retry: "+t)),this._appendErrorHandler&&this._appendErrorHandler(this._sourceBuffer);break;default:throw e.Log.error(3,this._decorateLogMessage("Failed to append segment to SourceBuffer: "+t)),t}}},t.prototype._tryInternalRemove=function(){if(this._sourceBuffer&&(this._sourceBuffer.updating||(this._submittedRemove=null),this._pendingBuffer&&this._pendingRemove))for(;0!==this._pendingRemove.length&&!this._sourceBuffer.updating;){var t;t=this._pendingRemove[0];for(var n=this._pendingBuffer.length-1;n>=0;n--){var r,i,o;r=this._pendingBuffer[n],i=r.presTimeInSec,o=r.durationInSec,i>=t.startInSec&&i<t.endInSec&&(i+o<=t.endInSec?(this._pendingBuffer.splice(n,1),this._updatePendingRanges(),this._notifyBufferUpdated(),e.Log.verbose(3,this._decorateLogMessage("Segment removed: "+t.startInSec))):e.Log.verbose(3,this._decorateLogMessage("Failed to remove range ("+t.startInSec+", "+t.endInSec+") from \r\n                            segment ("+i+", "+(i+o)+") - range ends mid - segment")))}try{this._sourceBuffer.remove(t.startInSec,t.endInSec),this._submittedRemove=this._pendingRemove.splice(0,1)[0],e.Log.verbose(3,this._decorateLogMessage("Removing range from SourceBuffer: ["+t.startInSec+","+t.endInSec+")"))}catch(a){switch(a.code){case DOMException.INVALID_ACCESS_ERR:case DOMException.INVALID_STATE_ERR:e.Log.error(3,this._decorateLogMessage("Failed to remove segment from SourceBuffer, will retry: "+a));break;default:throw e.Log.error(3,this._decorateLogMessage("Failed to remove segment from SourceBuffer: "+a)),a}}}},t.prototype._updatePendingRanges=function(){var t,n=this,r=NaN;this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null),this._pendingBufferRanges=new e.Common.TimeRangeSet,this._pendingBuffer.forEach(function(i){0===e.Common.diffTimes(i.presTimeInSec,r)?n._pendingBufferRanges.extendLast(i.endTimestampInSec):(t=new e.Common.TimeRange(i.presTimeInSec,i.endTimestampInSec),n._pendingBufferRanges.addRange(t)),r=i.endTimestampInSec})},t.prototype._decorateLogMessage=function(e){return this._mediaType+": "+e},t}();t.VideoElementAdapterBuffer=n}(e.VideoElementAdapter||(e.VideoElementAdapter={})),e.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function n(){this.name="com.widevine.alpha",this.type="Widevine",this._videoElement=null,this._errorHandler=null,this._laUrl="",this._session=null,this._active=!1,this._authenticationToken=""}return Object.defineProperty(n.prototype,"systemId",{get:function(){return n.systemId},enumerable:!0,configurable:!0}),n.prototype.isSupported=function(t,r,i){return t.isEqual(n.systemId)?e.EmeUtil.isTypeSupported(this.name,r,i):new Promise(function(e,t){t()})},n.prototype.activate=function(e,t,n){this._videoElement=e,this._errorHandler=t,this._authenticationToken=n,this._active=!0},n.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(e.EmeUtil.unlistenToMessage(this._session,this._messageHandler),this._session.close(),this._session=null),this._videoElement&&(this._videoElement.src="",this._videoElement.setMediaKeys(null),this._videoElement=null),this._errorHandler=null,this._laUrl="",this._authenticationToken="")},n.prototype.initData=function(t,n,r,i,o){function a(e){return e.createMediaKeys()}function s(t){if(e.Log.verbose(12,"creating media key session for Widevine"),u._session=t.createSession(),!u._session){e.Log.error(12,u.name+" createSession failed");var r=new e.Failure.External(5242881,u.name+" createSession failed");return void u._reportError(r)}e.EmeUtil.listenToMessage(u._session,l),u._session.generateRequest("cenc",n)["catch"](function(){e.Log.error(12,u.name+" generateRequest failed");var t=new e.Failure.External(5242881,u.name+" generateRequest failed");u._reportError(t)}),u._videoElement.setMediaKeys(t)["catch"](function(){e.Log.error(12,u.name+" setMediaKeys failed");var t=new e.Failure.External(5242881,u.name+" setMediaKeys failed");u._reportError(t)})}function l(e){u._messageHandler(e)}var u=this;if(o&&!this._laUrl){this._laUrl=o;var d=e.EmeUtil.createSupportedKeySystem(this.name,r,i);d["catch"](function(){e.Log.error(12,u.name+" createSupportedKeySystem failed");var t=new e.Failure.External(5242882,u.name+" createSupportedKeySystem failed");u._reportError(t)});var c=d.then(a);c["catch"](function(){e.Log.error(12,u.name+" createMediaKeys failed");var t=new e.Failure.External(5242882,u.name+" createMediaKeys failed");u._reportError(t)}),c.then(s)["catch"](function(){e.Log.error(12,u.name+" createKeySession failed");var t=new e.Failure.External(5242882,u.name+" createKeySession failed");u._reportError(t)})}},n.prototype._messageHandler=function(e){var t=this;"license-request"===e.messageType&&this._getWidevineLicense(e.message,this._laUrl).then(function(e){t._active&&t._session&&t._session.update(e)},function(e){t._active&&t._reportError(e)})},n.prototype._getWidevineLicense=function(r,i){var o=this;return new Promise(function(a,s){var l=[];o._authenticationToken&&o._authenticationToken.length>0&&l.push({name:t.WidevineCustomAuthorizationHeader||e.HttpUtil.authorizationHeader,value:o._authenticationToken}),n.overrideLicenseAcquisitionUrl&&(e.Log.verbose(12,"overriding license acquisition url: "+i+" with: "+n.overrideLicenseAcquisitionUrl),i=n.overrideLicenseAcquisitionUrl),e.HttpUtil.httpRequest(i,"POST","arraybuffer",l,r).then(function(e){a(new Uint8Array(e))},function(t){var n=new e.Failure.External(5242886,"Http: "+e.Common.toHexString(t.code)+", reponse: "+t.response);s(n)})})},n.prototype._reportError=function(e){this._errorHandler&&this._errorHandler(e)},n.systemId=new Uint8Array([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),n}();t.Widevine=n,t.WidevineCustomAuthorizationHeader="";
}(e.KeySystem||(e.KeySystem={})),e.KeySystem}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(e){return new r(e)}t.CreateCoordinator=n;var r=function(){function n(r){var i=this;this._sessionContext=r,this._workflowSeq=t.CreateSequencer(this._sessionContext),this._mediaSource=null,this._lastPresentation=new Date(0),this._pendingPresentation=new Date,this._disposed=!1,this._pendingPlay=!0,this._pendingTryMediaRequestCount=0,this._prerollMet=!1,this._error=null,this._playbackPosInSec=null,this._pendingPlaybackPosInSec=null,this._seekingForward=!0,this._lastDuration=0,this._videoStreamList=null,this._audioStreamList=null,this._healthCheckLastTime=0,this._healthCheckPeriodInMSec=n._healthCheckPeriodMinInMSec,this._healthCheckId=e.Util.setTimeout(this._periodicHealthCheck,this._healthCheckPeriodInMSec,this),this._healthCheckRetries=0,this._dtOffsetToAdd=0,this._lastPlaybackBitrate=null,this._lastDownloadBitrate=null,this._manifestRefreshed=!1,this._registerInternalEvents(!0),this.timeBeforeSettingVideoElementSrcInMs=0,this._seekStartTime=0,this._canPlayThroughEvent=function(){i._disposed||i._pendingPlay&&i._buffersAbovePreroll()&&i._startPlayback()},this._durationChangeEvent=function(){if(!i._disposed){var t=i._sessionContext;t.eventMgr.dispatchEvent(e.EventName.durationchange),t.commonPresentation&&t.commonPresentation.isLive&&e.Util.setTimeout(o,n._durationChangeMinIntervalInMSec)}};var o=function(){if(!i._disposed){var t=i._sessionContext;t.commonPresentation&&t.commonPresentation.isLive&&(i._lastDuration!==i.duration?(i._lastDuration=i.duration,t.eventMgr.dispatchEvent(e.EventName.durationchange),e.Util.setTimeout(o,n._durationChangeMinIntervalInMSec)):0===i._lastDuration&&e.Util.setTimeout(o,n._durationChangeMinIntervalInMSec))}};this._resetHealthCheckTimeHandler=function(){i._resetHealthCheckTime()},this._resetSeekStartTimeHandler=function(){i._seekStartTime=0},this._checkPlaybackBitrate=function(){if(!i._disposed){var t=i._sessionContext.videoBufferData,n=t.getPlaybackBitrate(i.currentMediaTime);n!=i._lastPlaybackBitrate&&(i._lastPlaybackBitrate=n,i._sessionContext.eventMgr.dispatchEvent(e.EventName.playbackbitratechanged))}}}return n.prototype.dispose=function(){this._disposed||(this._registerInternalEvents(!1),this._registerVideoTagEvents(!1),this._disposed=!0,this._sessionContext=null,this._lastPresentation=null,this._pendingPresentation=null,this._canPlayThroughEvent=null,this._durationChangeEvent=null,this._resetHealthCheckTimeHandler=null,this._checkPlaybackBitrate=null,this._manifestRefreshed=!1,this._mediaSource&&(this._mediaSource.dispose(),this._mediaSource=null),this._workflowSeq&&(this._workflowSeq.dispose(),this._workflowSeq=null),this._videoStreamList&&(this._videoStreamList.dispose(),this._videoStreamList=null),this._audioStreamList&&(this._audioStreamList.dispose(),this._audioStreamList=null),this.timeBeforeSettingVideoElementSrcInMs=0,e.Util.clearTimeout(this._healthCheckId))},Object.defineProperty(n.prototype,"videoStreamList",{get:function(){return this._videoStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"audioStreamList",{get:function(){return this._audioStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"videoBufferData",{get:function(){return this._sessionContext.videoBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"audioBufferData",{get:function(){return this._sessionContext.audioBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{get:function(){return this._sessionContext.presentationUrl},set:function(t){function r(t){function r(){return null!==a._playbackPosInSec&&a._sessionContext.videoTag.seeking?a._playbackPosInSec:a._sessionContext.videoTag.currentTime}function i(t){if(this._mediaSource){for(var n=this._mediaSource.sourceBuffers,r=!1,i=0;i<n.length;i++)if(n[i]===t){r=!0;break}r||a._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,"SourceBuffer has been removed from MediaSource")}}function o(){if(e.Log.verbose(1,"_setVideoElementSrcResolved"),a._sessionContext.eventMgr.dispatchEvent(e.EventName.mediaSourceSrcSetResolved),e.Common.isChrome){var o=Date.now();o-a.timeBeforeSettingVideoElementSrcInMs>n._timeSpentSettingVideoElementSrcThresholdInMs&&(e.Log.verbose(1,"Adjusting playable window because we spent too much time setting video element source."),l.adjustPlayableWindowForChromeSourceDelay(o))}if(!a._disposed){var s=!1;l.periods[0].streams.forEach(function(n){if(!s&&n.streamingInfo.selected&&2!==n.type){if(n.streamingInfo.sourceBuffer=a._mediaSource.addAdapterBuffer(n.codec,r,i,t.sessionContext.maxBufferInWallClockSec(),t.sessionContext.maxBufferBehindCurrentTimeInSec),!n.streamingInfo.sourceBuffer){a._error=new e.Failure.External(4194307,"presentationWorkflowResolved: Failed to create source buffer for stream "+e.Presentation.StreamType[n.type]+", codec "+n.codec),t.sessionContext.eventMgr.dispatchEvent(e.EventName.error),s=!0;var o=n.tracks;return void(o&&o.length>0&&o.forEach(function(t){var n='video/mp4;codecs="'+t._codecs+'"';e.Log.verbose(1,"MediaSource.isTypeSupported() for "+n+"= "+a._mediaSource.isTypeSupported(n))}))}0===n.type?a._sessionContext.videoBufferData.updateBuffer(n.streamingInfo.sourceBuffer):1===n.type&&a._sessionContext.audioBufferData.updateBuffer(n.streamingInfo.sourceBuffer),n.streamingInfo.sourceBuffer.presentationTimeOffsetInSec=n.presentationTimeOffsetInSec+a._dtOffsetToAdd}}),s||(a._updateStartPosition(),a._updateDuration(),a._registerVideoDownloadedEvents(),a._registerVideoTagEvents(!0),a._checkMediaWorkflow(),a._tryTimeUpdateEvent()),t.dispose()}}function s(e){throw new Error(e)}if(!a._disposed){var l=null;if(e.Log.verbose(1,"presentationWorkflowResolved"),null===t.sessionContext.commonPresentation)throw new Error("presentationWorkflowResolved: unexpected null values");l=t.sessionContext.commonPresentation,a._videoStreamList=new e.Presentation.VideoStreamList(a._sessionContext,l.periods[0].streams),a._audioStreamList=new e.Presentation.AudioStreamList(a._sessionContext,l.periods[0].streams);var u=null;a._audioStreamList&&a._audioStreamList.streams&&a._audioStreamList.streams.length>0&&a._audioStreamList.enabledIndices.length>0&&(e.assert(1==a._audioStreamList.enabledIndices.length,"Current implementation only allows one enabled stream at a time"),u=a._audioStreamList.streams[a._audioStreamList.enabledIndices[0]].codec);var d=null;a._videoStreamList&&a._videoStreamList.streams&&a._videoStreamList.streams.length>0&&-1!==a._videoStreamList.selectedIndex&&(d=a._videoStreamList.streams[a._videoStreamList.selectedIndex].codec),a._sessionContext.emeManager.setContentTypes(u,d),a._sessionContext.eventMgr.dispatchEvent(e.EventName.loadedmetadata),a._mediaSource=e.VideoElementAdapter.CreateAdapter(),a.timeBeforeSettingVideoElementSrcInMs=Date.now(),a._mediaSource.setVideoElementSrcAsync(t.sessionContext.videoTag).then(o,s)["catch"](function(t){a._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,t)})}}function i(t){a._disposed||(e.Log.error(1,"presentationWorkflowRejected:  module: "+t.currentModuleId),t.externalFailure&&e.Failure.isExternalError(t.externalFailure.code)&&(a._error=new e.Failure.External(t.externalFailure.code,t.externalFailure.message),e.Log.error(1,"Dispatching error: "+a.error.toString()),t.sessionContext.eventMgr.dispatchEvent(e.EventName.error)),t.dispose())}e.Log.verbose(1,"src("+t+")");var o,a=this;this._sessionContext.presentationUrl=t,o=t.indexOf("?"),-1!==o&&(this._sessionContext.presentationQueryStr=t.slice(o)),this._presentationWorkflowAsync(r,i)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dtsOffsetToAdd",{get:function(){return this._dtOffsetToAdd},set:function(e){this._dtOffsetToAdd=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pendingPlay",{get:function(){return this._pendingPlay},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPresentationTime",{set:function(t){e.Log.verbose(1,"currentPresentationTime("+t.toFixed(3)+")"),this.setCurrentTimeInternal(t,!0)},enumerable:!0,configurable:!0}),n.prototype.setCurrentTimeInternal=function(t,n){var r=this._sessionContext,i=r.commonPresentation.periods[0].streams,o=!1,a=0,s=0,l=this.duration;if(r.commonPresentation.isLive){var u=r.commonPresentation.timeShiftBufferDepth||1/0,d=r.heuristicSettings.buffer.leftEdgeBackoffInSec,c=u-d;a=r.liveStartBufferInSec(),s=c>l?0:d}if(n){var p=this._fromPresentationTime(t),h=Math.max(p,s);h=Math.min(h,l-a),p!==h&&(t=this._toPresentationTime(h))}else e.Log.verbose(1,"timeInSec: "+t+", leftEdgeBackoff: "+s),t=Math.max(t,s),e.Log.verbose(1,"timeInSec: "+t+", duration: "+l+", rightEdgeBackoff: "+a),t=Math.min(t,l-a),s>t&&(e.Log.warning(1,"timeInSec: "+t+"is less than leftEdgeBackoff. Seeking to leftEdgeBackoff"),t=s),e.Log.verbose(1,"timeInSec: "+t),t=this._toPresentationTime(t);e.Log.verbose(1,"seeking from presentation time "+r.videoTag.currentTime.toFixed(3)+" to "+t.toFixed(3));for(var f=t,m=0;m<i.length;m++)if(i[m].streamingInfo.selected){var g=i[m].segments.getByInSegmentTimestamp(t);if(g)continue;g=i[m].segments.getByInDiscontinuityTimestamp(t),g&&(f=Math.max(f,g.segmentInfo.presTimeInSec))}f!==t&&(e.Log.verbose(1,"skipping discontinuity from presentation time "+t+" to "+f),t=f),this._seekingForward=t>r.videoTag.currentTime,this._playbackPosInSec=t,r.videoTag.currentTime=t,this._pendingPlaybackPosInSec=null,e.Common.diffTimes(r.videoTag.currentTime,t)&&(e.Log.verbose(1,"set currentTime failed to update videoTag: requested="+t+", actual="+r.videoTag.currentTime),this._pendingPlaybackPosInSec=t);for(var m=0;m<i.length;m++)i[m].streamingInfo.selected&&(i[m].streamingInfo.sourceBuffer?!1===i[m].streamingInfo.sourceBuffer.contains(t)?(i[m].streamingInfo.pendingSeekPositionInSec=t,i[m].streamingInfo.abortCurrentRequest=!0,i[m].streamingInfo.sourceBuffer.flushFrom(),o=!0,2===i[m].streamingInfo.workflowState&&(i[m].streamingInfo.workflowState=0),this._seekStartTime=Date.now(),e.Log.verbose(1,"Seeked position not in current buffers: "+t)):e.Log.verbose(1,"Found seeked position in current buffers"):2===i[m].type&&(i[m].streamingInfo.pendingSeekPositionInSec=t,i[m].streamingInfo.abortCurrentRequest=!0,2===i[m].streamingInfo.workflowState&&(i[m].streamingInfo.workflowState=0)));this._checkMediaWorkflow(),o||this._buffersAbovePreroll()||this._endOfSelectedStreams()||(o=!0),o&&(r.videoTag.paused||(this._pendingPlay=!0,r.eventMgr.dispatchEvent(e.EventName.waiting),r.videoTag.pause()))},n.prototype.presentationTimeFromPercentageOfDvrWindow=function(t){if(!this._sessionContext.commonPresentation)return null;var n=this._sessionContext,r=n.commonPresentation.periods[0].streams,i=0,o=0,a=this.duration;if(n.commonPresentation.isLive){var s=n.commonPresentation.timeShiftBufferDepth||1/0,l=n.heuristicSettings.buffer.leftEdgeBackoffInSec,u=s-l;i=n.liveStartBufferInSec(),o=u>a?0:l}var d=t*a;d=Math.max(d,o),d=Math.min(d,a-i),o>d&&(d=o);for(var c=this._toPresentationTime(d),p=c,h=0;h<r.length;h++)if(r[h].streamingInfo.selected){var f=r[h].segments.getByInSegmentTimestamp(c);if(f)continue;f=r[h].segments.getByInDiscontinuityTimestamp(c),f&&(p=Math.max(p,f.segmentInfo.presTimeInSec))}return p!==c&&(c=p),e.Log.verbose(1,"From percentage of window time "+Math.round(100*t)+"% return presentation time "+c.toFixed(3)+" seconds"),c},Object.defineProperty(n.prototype,"currentTime",{get:function(){var e=this._sessionContext.videoTag,t=0;return this._sessionContext.commonPresentation&&(t=null!==this._pendingPlaybackPosInSec?this._manifestRefreshed?e.currentTime:this._pendingPlaybackPosInSec:e.currentTime,t=Math.max(this._fromPresentationTime(t),0)),t},set:function(t){e.Log.verbose(1,"currentTime("+t.toFixed(3)+")"),this.setCurrentTimeInternal(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presentationTimeOffsetInSec",{get:function(){var e=0;if(this._sessionContext.commonPresentation){var t=this._sessionContext.commonPresentation.periods[0].streams;t&&t[0]&&(e=t[0].presentationTimeOffsetInSec)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentMediaTime",{get:function(){var e=this._sessionContext.videoTag,t=0;return this._sessionContext.commonPresentation&&(t=null!==this._pendingPlaybackPosInSec?this._pendingPlaybackPosInSec:e.currentTime,t-=this.presentationTimeOffsetInSec),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"downloadBitrate",{get:function(){return this._lastDownloadBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playbackBitrate",{get:function(){return this._lastPlaybackBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoplay",{set:function(t){e.Log.verbose(1,"autoplay("+t+")"),this._pendingPlay=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"duration",{get:function(){var e=this._sessionContext,t=e.commonPresentation,n=1/0;if(t){var r=t.playableWindow;n=r.endInSec-r.startInSec}return Math.min(e.videoTag.duration||0,n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"buffered",{get:function(){var t=null;if(this._mediaSource){var n=this._sessionContext.commonPresentation.playableWindow;t=new e.Common.TimeRangeSet,t.addRanges(this._mediaSource.buffered),t.rebase(n.startInSec)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),n.prototype.play=function(){e.Log.verbose(1,"play()");var t=this._sessionContext,n=t.heuristicSettings.buffer.leftEdgeBackoffInSec,r=t.videoTag;if(!this._mediaSource)return void(this._pendingPlay=!0);0===this._mediaSource.readyState&&r.load();var i;t.commonPresentation&&t.commonPresentation.isLive&&r.paused&&!r.seeking&&(i=this._fromPresentationTime(r.currentTime))<n&&(e.Log.verbose(1,"play: skipping from "+r.currentTime+"(playable window time: "+i+") to left edge: "+n+", playable window start: "+t.commonPresentation.playableWindow.startInSec),this.currentTime=0),r.paused&&e.Common.diffTimes(r.currentTime,r.duration)<=0&&(this.currentTime=0),this._buffersAbovePreroll()||this._endOfSelectedStreams()?this._startPlayback():(this._pendingPlay=!0,t.eventMgr.dispatchEvent(e.EventName.waiting)),this._resetHealthCheckTime()},n.prototype.pause=function(){var t=this._sessionContext;e.Log.verbose(1,"pause()"),this._pendingPlay&&(this._pendingPlay=!1),t.videoTag.pause(),this._tryTimeUpdateEvent()},n.prototype._presentationWorkflowAsync=function(t,r){function i(){s._disposed||(!s._sessionContext.commonPresentation||s._sessionContext.commonPresentation.isLive)&&s._workflowSeq.presentationRequestAsync().then(o,a)["catch"](function(t){s._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,t)})}function o(o){if(s._disposed)return void(r&&r(o));e.Log.verbose(1,"presentationRequestResolved");var a=o.sessionContext.commonPresentation;if(null===a)throw new Error("presentationRequestResolved: unexpected null values");s._updateDuration();var l=new Date;if(a.isLive&&a.minimumUpdatePeriodInSec>0&&s._pendingPresentation<=l){var u=Math.max(n._minPresentationUpdatePeriodInMSec,1e3*a.minimumUpdatePeriodInSec);s._pendingPresentation.setTime(l.getTime()+u),e.Util.setTimeout(i,u)}s._lastPresentation=l,s._manifestRefreshed=!0,t&&(t(o),t=null)}function a(t){s._disposed||e.Log.error(1,"presentationRequestRejected:  module: "+t.currentModuleId),r&&r(t)}var s=this,l=0,u=Date.now()-s._lastPresentation.getTime();u<n._minPresentationUpdatePeriodInMSec&&(l=n._minPresentationUpdatePeriodInMSec-u),e.Util.setTimeout(i,l)},n.prototype.restartCheckMediaWorkflowIfNeeded=function(){0===this._pendingTryMediaRequestCount?(e.Log.verbose(1,"restartCheckMediaWorkflowIfNeeded: restart needed"),this._checkMediaWorkflow()):e.Log.verbose(1,"restartCheckMediaWorkflowIfNeeded: restart not needed")},n.prototype._checkMediaWorkflow=function(){function t(){if(!o._disposed){e.Log.verbose(1,"_doCheckMediaWorkflow"),o._pendingTryMediaRequestCount--,a.videoTag.paused||o._endOfSelectedStreams()||!o._buffersNearEmpty()?o._buffersAbovePreroll()&&(o._dispatchCanPlayThroughEvent(),o._pendingPlay&&(e.Log.verbose(1,"_doCheckMediaWorkflow: we have a pending play. Starting the playback."),o._startPlayback())):(e.Log.verbose(1,"_doCheckMediaWorkflow: pausing play because the buffer is close to empty"),o._pendingPlay=!0,a.videoTag.pause(),a.eventMgr.dispatchEvent(e.EventName.waiting));for(var s=!1,l=0;l<a.commonPresentation.periods[0].streams.length;l++){var u=a.commonPresentation.periods[0].streams[l];if(u.streamingInfo.selected&&0===u.streamingInfo.workflowState){var d=u.streamingInfo.sourceBuffer,c=o._isBufferAheadOtherStreams(u),p=d&&u.streamingInfo.sourceBuffer.bufferFull(o._sessionContext.playbackRate()),h=o._buffersAtLiveEdge(u);d&&!c&&!p&&!h||2===u.type&&!c&&!o._textStreamTooFarAheadOfCurrentTimeDuringLive(u)?(e.Log.verbose(1,"starting media workflow "+e.Presentation.StreamType[u.type]),u.streamingInfo.workflowState=1,o._workflowSeq.mediaRequestAsync(u).then(r,i)["catch"](function(t){a.eventMgr.dispatchEvent(e.InternalEventName.exception,t)})):(e.Log.verbose(1,"_doCheckMediaWorkflow: need to retry. Stream type: "+e.Presentation.StreamType[u.type]+", sourcebuffer:"+d+", buffer is ahead of other streams: "+c+", buffer is full: "+p+", buffer is at live edge: "+h),s=!0)}else e.Log.verbose(1,"_doCheckMediaWorkflow: Stream skipped. Stream type: "+e.Presentation.StreamType[u.type]+", selected: "+u.streamingInfo.selected+", workflowState: "+u.streamingInfo.workflowState)}s&&0===o._pendingTryMediaRequestCount&&(o._pendingTryMediaRequestCount++,e.Log.verbose(1,"_doCheckMediaWorkflow: schedule try again. Pending try count = "+o._pendingTryMediaRequestCount),e.Util.setTimeout(t,n._mediaSegmentTimeoutInMSec))}}function r(t){if(!o._disposed){o._manifestRefreshed=!1;var n=t.requestedStream;n.streamingInfo.workflowState=0,1===t.state&&null===n.streamingInfo.pendingSeekPositionInSec&&(e.Log.verbose(1,"mediaRequestResolved: "+e.Presentation.StreamType[n.type]+" end of stream"),n.streamingInfo.workflowState=2,o._endOfSelectedStreams()&&(e.Log.verbose(1,"End of selected streams"),o._mediaSource.endOfStream(),o._dispatchCanPlayThroughEvent(),o._pendingPlay&&o._startPlayback()));for(var r=0;r<t.urlsToRetrieve.length;r++){if(null===t.urlsToRetrieve[r].mediaData)throw new Error("mediaRequestResolved: data is null url: "+t.urlsToRetrieve[r].url);if(n.streamingInfo){if(!n.streamingInfo.selected||null!==n.streamingInfo.pendingSeekPositionInSec){e.Log.verbose(1,"mediaRequestResolved discarding,"+(n.streamingInfo.selected?"seek in progress":"stream no longer selected ")+"url: "+t.urlsToRetrieve[r].url+"("+t.urlsToRetrieve[r].httpResposeContentType+", "+t.urlsToRetrieve[r].mediaData.byteLength+")");break}var i=t.urlsToRetrieve[r].presTimeInSec+t.urlsToRetrieve[r].durationInSec;e.Log.verbose(1,"mediaRequestResolved appending url: "+t.urlsToRetrieve[r].url+"("+t.urlsToRetrieve[r].httpResposeContentType+", "+t.urlsToRetrieve[r].mediaData.byteLength+" bytes, end time="+i+")"),2!==n.type?n.streamingInfo.sourceBuffer.append(t.urlsToRetrieve[r].mediaData,t.urlsToRetrieve[r].presTimeInSec,t.urlsToRetrieve[r].durationInSec):2===t.urlsToRetrieve[r].requestType?t.sessionContext.ttmlManager.parseInitSegment(t.urlsToRetrieve[r].mediaData)&&(t.sessionContext.ttmlManager.normalizedPresentationTimeInSeconds=n.presentationTimeOffsetInSec):t.sessionContext.ttmlManager.processTtml(n.id,t.urlsToRetrieve[r].mediaData)}}if(null!==o._pendingPlaybackPosInSec){for(var s=a.videoTag.buffered,l=!1,r=0;r<s.length;r++)if(s.start(r)<=o._pendingPlaybackPosInSec&&o._pendingPlaybackPosInSec<s.end(r)){l=!0;break}l&&(a.videoTag.currentTime=o._pendingPlaybackPosInSec,e.Common.diffTimes(a.videoTag.currentTime,o._pendingPlaybackPosInSec)&&(o._pendingPlaybackPosInSec>a.videoTag.currentTime&&o._seekingForward||o._pendingPlaybackPosInSec<a.videoTag.currentTime&&!o._seekingForward)?e.Log.verbose(1,"mediaRequestResolved failed to update videoTag currentTime: pending="+o._pendingPlaybackPosInSec+", actual="+a.videoTag.currentTime+", _seekingForward="+o._seekingForward):o._pendingPlaybackPosInSec=null)}o._checkMediaWorkflow(),t.dispose()}}function i(t){function n(t){if(!o._disposed){if(e.Log.verbose(1,"refreshPresentationWorkflowResolved"),null===t.sessionContext.commonPresentation)throw new Error("refreshPresentationWorkflowResolved: unexpected null values");i.streamingInfo.workflowState=0,o._checkMediaWorkflow(),t.dispose()}}function r(t){o._disposed||(e.Log.error(1,"refreshPresentationWorkflowRejected:  module: "+t.currentModuleId),t.externalFailure&&e.Failure.isExternalError(t.externalFailure.code)&&(o._error=new e.Failure.External(t.externalFailure.code,t.externalFailure.message),e.Log.error(1,"Dispatching error: "+o.error.toString()),t.sessionContext.eventMgr.dispatchEvent(e.EventName.error)),t.dispose())}if(!o._disposed){o._manifestRefreshed=!1;var i=t.requestedStream;if(e.Log.error(1,"mediaRequestRejected: "+e.Presentation.StreamType[t.requestedStream.type]+" module: "+t.currentModuleId),t.externalFailure){if((2097556===t.externalFailure.code||1===t.externalFailure.code||5242885===t.externalFailure.code)&&t.sessionContext.commonPresentation.isLive&&0===t.sessionContext.commonPresentation.minimumUpdatePeriodInSec&&t.failTracker.isNone())return void o._presentationWorkflowAsync(n,r);e.Failure.isExternalError(t.externalFailure.code)&&(o._error=new e.Failure.External(t.externalFailure.code,t.externalFailure.message),e.Log.error(1,"Dispatching error: "+o.error.toString()),a.eventMgr.dispatchEvent(e.EventName.error))}t.dispose()}}var o=this,a=o._sessionContext;this._pendingTryMediaRequestCount++,e.Util.setTimeout(t,0)},n.prototype._updateStartPosition=function(){var e=this._sessionContext,t=e.commonPresentation,n=e.liveStartBufferInSec(),r=1/0;t&&isNaN(e.startPositionInSec)&&(r=t.isLive?Math.max(t.playableWindow.startInSec,t.playableWindow.endInSec-n):t.playableWindow.startInSec,0!==r&&(this._mediaSource.setStartTime(r),e.startPositionInSec=r))},n.prototype._updateDuration=function(){var t,n=this._sessionContext.commonPresentation;if(n&&this._mediaSource){if(n.isLive)t=1/0;else if(this._sessionContext.isLiveToVod){if(t=n.playableWindow.endInSec,e.Common.isChrome){var r=Math.floor(1e6*t)/1e6;t=parseFloat(r.toFixed(6)),e.Log.verbose(1,"newDuration: "+t)}}else t=n.durationInSec;if(this._mediaSource.durationInSec!==t)try{this._mediaSource.durationInSec=t}catch(i){e.Log.warning(1,"ignoring set durationInSec error: "+i)}}},n.prototype._toPresentationTime=function(e){var t=this._sessionContext.commonPresentation.playableWindow.startInSec;return e+t},n.prototype._fromPresentationTime=function(e){var t=this._sessionContext.commonPresentation.playableWindow.startInSec;return e-t},n.prototype._endOfSelectedStreams=function(){if(!this._sessionContext.commonPresentation)return!1;for(var e=this._sessionContext.commonPresentation.periods[0].streams,t=0;t<e.length;t++)if(e[t].streamingInfo.selected&&2!==e[t].streamingInfo.workflowState)return!1;return!0},n.prototype._buffersAbovePreroll=function(){var e=!0,t=this._sessionContext.videoTag;if(!this._sessionContext.commonPresentation)return!1;var n=this._sessionContext.commonPresentation.periods[0].streams;if(t.readyState<t.HAVE_METADATA)e=!1;else for(var r=0;r<n.length;r++)if(n[r].streamingInfo.selected&&2!==n[r].type&&n[r].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.prerollBufferInSec()){e=!1;break}return e},n.prototype._buffersNearEmpty=function(){for(var e=this._sessionContext.commonPresentation.periods[0].streams,t=0;t<e.length;t++)if(e[t].streamingInfo.selected&&2!==e[t].type&&e[t].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.lowBufferInSec())return!0;return!1},n.prototype._isBufferAheadOtherStreams=function(e){for(var t=0,r=1/0,i=null,o=0,a=this._sessionContext.commonPresentation.periods[0].streams,s=0;s<a.length;s++)if(a[s].streamingInfo.selected&&2!==a[s].type&&2!==a[s].streamingInfo.workflowState){t++;var l=a[s].streamingInfo.sourceBuffer.buffered;l.length>0&&l.end(l.length-1)<r&&(r=l.end(l.length-1),i=a[s],o=a[s].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec())}if(2===e.type){if(e.streamingInfo&&e.streamingInfo.currentSegment){var u=e.streamingInfo.pendingSeekPositionInSec?e.streamingInfo.pendingSeekPositionInSec:e.streamingInfo.currentSegment.segmentInfo.presTimeInSec;return u-r>n._bufferTooFarAheadInSec}return!1}var l=e.streamingInfo.sourceBuffer.buffered;return 1!==t&&i!==e&&0!==l.length&&(e.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()>o&&l.end(l.length-1)-r>n._bufferTooFarAheadInSec)},n.prototype._buffersAtLiveEdge=function(e){var t,n,r,i=this._sessionContext.commonPresentation;return!!e.streamingInfo.currentSegment&&(t=e.streamingInfo.currentSegment.segmentInfo,n=t.presTimeInSec+t.durationInSec,r=i.playableWindow.endInSec,i.isLive&&0===i.minimumUpdatePeriodInSec&&n>=r)},n.prototype._textStreamTooFarAheadOfCurrentTimeDuringLive=function(e){if(!(this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive&&2===e.type&&e.streamingInfo.currentSegment&&e.streamingInfo.currentSegment.segmentInfo))return!1;var t=e.streamingInfo.pendingSeekPositionInSec?e.streamingInfo.pendingSeekPositionInSec:e.streamingInfo.currentSegment.segmentInfo.presTimeInSec+e.maxSegmentDuration;return t-this._sessionContext.videoTag.currentTime>n._textStreamTooFarAheadOfCurrentTimeThresholdInSec},n.prototype._startPlayback=function(){var t=this._sessionContext.videoTag,r=this._dtOffsetToAdd;t.buffered&&t.buffered.length>0&&t.currentTime<t.buffered.start(0)&&(e.Common.isSafari&&e.Common.isOSXElCapitanOrEarlier()&&(r+=n._startTimeThresholdInSecForSafari),t.currentTime=t.buffered.start(0)+r,e.Log.verbose(1,"_startPlayback: skipping over missing data at the beginning. currentTime: "+t.currentTime+", buffer start: "+t.buffered.start(0))),this._pendingPlay=!1,e.Common.videoTagPlay(this._sessionContext.videoTag)},n.prototype._dispatchCanPlayThroughEvent=function(){this._prerollMet||(e.Log.verbose(7,"dispatching event: canplaythrough"),this._prerollMet=!0,this._sessionContext.eventMgr.dispatchEvent(e.EventName.canplaythrough))},n.prototype._registerVideoDownloadedEvents=function(){function t(){if(!n._disposed){var t=r.downloadCompleted.mediaDownload.bitrate;t!=this._lastDownloadBitrate&&(this._lastDownloadBitrate=t,this._sessionContext.eventMgr.dispatchEvent(e.EventName.downloadbitratechanged))}}var n=this,r=this._sessionContext.videoBufferData;r.addEventListener(e.BufferDataEventName.downloadcompleted,t,this)},n.prototype._registerVideoTagEvents=function(t){var n=this._sessionContext.videoTag;t?(n.addEventListener(e.EventName.canplaythrough,this._canPlayThroughEvent),n.addEventListener(e.EventName.durationchange,this._durationChangeEvent),n.addEventListener(e.EventName.playing,this._resetHealthCheckTimeHandler),n.addEventListener(e.EventName.seeked,this._resetHealthCheckTimeHandler),n.addEventListener(e.EventName.seeked,this._resetSeekStartTimeHandler),n.addEventListener(e.EventName.timeupdate,this._checkPlaybackBitrate)):(n.removeEventListener(e.EventName.canplaythrough,this._canPlayThroughEvent),n.removeEventListener(e.EventName.durationchange,this._durationChangeEvent),n.removeEventListener(e.EventName.playing,this._resetHealthCheckTimeHandler),n.removeEventListener(e.EventName.seeked,this._resetHealthCheckTimeHandler),n.removeEventListener(e.EventName.seeked,this._resetSeekStartTimeHandler),n.removeEventListener(e.EventName.timeupdate,this._checkPlaybackBitrate))},n.prototype._registerInternalEvents=function(t){t?(this._sessionContext.eventMgr.addHandler(e.InternalEventName.flushvideo,this._flushVideoToPreroll,this),this._sessionContext.eventMgr.addHandler(e.InternalEventName.audiocodecchanged,this._handleAudioCodecChanged,this)):(this._sessionContext.eventMgr.removeHandler(e.InternalEventName.flushvideo,this._flushVideoToPreroll),this._sessionContext.eventMgr.removeHandler(e.InternalEventName.audiocodecchanged,this._handleAudioCodecChanged))},n.prototype._periodicHealthCheck=function(t){if(t._sessionContext&&t._sessionContext.videoTag){var r=t._sessionContext.videoTag;if(t._healthCheckLastTime)if(r.paused||r.seeking||r.ended||t._healthCheckLastTime!==r.currentTime)t._healthCheckRetries=0,t._healthCheckPeriodInMSec=n._healthCheckPeriodMinInMSec;else{e.Log.verbose(1,"Health Check: currentTime stopped"),t._sessionContext.eventMgr.dispatchEvent(e.EventName.playbackstalled);var i,o=r.currentTime,a=-1,s=new e.Common.TimeRangeSet;if(s.addRanges(r.buffered),i=s.getIndexByInRangeTimestamp(o),i>=0&&(s.beforeDiscontinuity(o,i)?(a=s.start(i+1),e.Log.verbose(1,"Health Check: skipping over discontinuity")):s.atOrAfterDiscontinuity(o,i)&&(a=s.start(i),e.Log.verbose(1,"Health Check: resetting on discontinuity"))),0>a&&(a=o+n._healthCheckSkipInSec,e.Log.verbose(1,"Health Check: skipping "+n._healthCheckSkipInSec+" seconds ahead"),t._healthCheckPeriodInMSec+=n._healthCheckPeriodIncrementInMSec,t._healthCheckPeriodInMSec=Math.min(t._healthCheckPeriodInMSec,n._healthCheckPeriodMaxInMSec)),e.Log.verbose(1,"Health Check: seeking from "+o+" to "+a),r.currentTime=a,-2===i){t._healthCheckRetries++;var l=t._sessionContext.commonPresentation.isLive;(!l||l&&t._healthCheckRetries>=n._healthCheckMaxRetries)&&t.pause()}}if(t._healthCheckLastTime=r.currentTime,t._seekStartTime){var u=Date.now()-t._seekStartTime;u>n._timeSpentSeekingThresholdInMs&&(e.Log.warning(1,"Spent too much time in a seek: "+u+"ms.  Trying to get the player to resume playing."),t._seekStartTime=0,t.play())}}t._healthCheckId=e.Util.setTimeout(t._periodicHealthCheck,t._healthCheckPeriodInMSec,t)},n.prototype._resetHealthCheckTime=function(){this._disposed||(this._healthCheckLastTime=0)},n.prototype._flushVideoToPreroll=function(){function t(t,n){var r=n.prerollBufferInSec(),i=n.videoTag.currentTime+Math.max(r,1.5*t.maxSegmentDuration),a=null;o.flushStream=!1;var s=t.segments.getByInSegmentTimestamp(i);s?a=s.segmentInfo.presTimeInSec:(s=t.segments.getByInDiscontinuityTimestamp(i),s&&(a=s.segmentInfo.presTimeInSec)),null!=a&&o.sourceBuffer&&o.sourceBuffer.contains(a)&&(e.Log.verbose(7,"flushing at "+a+" from track selection"),o.sourceBuffer.flushFrom(a),o.pendingSeekPositionInSec=a,2===t.streamingInfo.workflowState&&(t.streamingInfo.workflowState=0))}if(e.Common.isChromiumEdge&&this._sessionContext&&this._sessionContext.emeManager&&this._sessionContext.emeManager.matchedKeySystem&&"PlayReady"===this._sessionContext.emeManager.matchedKeySystem.type)return void e.Log.warning(7,"Ignoring flush video request.  See code comment for the reason.");var n=this._sessionContext.commonPresentation.periods[0].streams,r=n.filter(function(e){return e.streamingInfo.flushStream===!0});0===r.length&&(r=n);for(var i=0;i<r.length;i++){var o=r[i].streamingInfo;0===r[i].type&&o.selected&&t(r[i],this._sessionContext)}this._checkMediaWorkflow()},n.prototype._handleAudioCodecChanged=function(){if(e.Log.verbose(1,"_handleAudioCodecChanged"),this._disposed)return!1;for(var t=(this._sessionContext.commonPresentation,this._sessionContext.commonPresentation.periods[0].streams),n=0;n<t.length;n++)if(t[n].streamingInfo.selected&&t[n].streamingInfo.audioTrackSwitched)return this._mediaSource.changeAdapterBufferType(t[n].streamingInfo.sourceBuffer,t[n].codec);return!1},n.prototype._tryTimeUpdateEvent=function(){function t(){r.disposed||r.videoTag.paused&&r.commonPresentation&&r.commonPresentation.isLive&&(r.eventMgr.dispatchEvent(e.EventName.timeupdate),e.Util.setTimeout(t,n._timeupdateLivePausedIntervalInMSec))}if(!this._disposed){var r=this._sessionContext;t()}},n._mediaSegmentTimeoutInMSec=2e3,n._minPresentationUpdatePeriodInMSec=1e3,n._bufferTooFarAheadInSec=4,n._textStreamTooFarAheadOfCurrentTimeThresholdInSec=2,n._timeupdateLivePausedIntervalInMSec=1e3,
n._durationChangeMinIntervalInMSec=1e3,n._healthCheckPeriodMinInMSec=1e3,n._healthCheckPeriodMaxInMSec=5e3,n._healthCheckPeriodIncrementInMSec=2e3,n._healthCheckSkipInSec=.5,n._healthCheckMaxRetries=2,n._startTimeThresholdInSecForSafari=.2,n._timeSpentSettingVideoElementSrcThresholdInMs=100,n._timeSpentSeekingThresholdInMs=8e3,n}()}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},AzureHtml5JS;!function(e){!function(t){"use strict";function n(){return new o}function r(){return new a}t.CreatePresentation=n,t.CreateMedia=r;var i=function(){function t(t){this._eventManager=new e.Events.Manager,this._eventsOrdered=t,this._stepList=[]}return t.prototype.dispose=function(){this._eventManager.dispose(),this._eventManager=null,this._eventsOrdered=null,this._stepList=null},t.prototype.addHandler=function(e,t,n){this._eventManager.addHandler(e,t,n)},t.prototype.createSteps=function(){var e=this,t=0;for(var n in this._eventsOrdered){var r=this._eventManager.getHandlers(this._eventsOrdered[n]);r.forEach(function(n){e._stepList[t++]=n})}},Object.defineProperty(t.prototype,"stepList",{get:function(){return this._stepList},enumerable:!0,configurable:!0}),t}(),o=function(e){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(i),a=function(e){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(i)}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(e){return new r(e)}t.CreateSequencer=n;var r=function(){function n(t){this._disposed=!1,this._sessionContext=t,this._orderedModules=[new e.DataRetriever.HttpRetryPolicy,new e.SegmentLocator.Dash,new e.Heuristics.InitialBandwidthDataUrlFormatter,new e.Heuristics.WindowSizeRule,new e.Heuristics.StepRule,new e.Heuristics.Engine,new e.UrlBuilder.DashUrlFormatter,new e.DataRetriever.HttpDataRetriever(t),new e.DashPresentation.Parser,new e.ContentProtection.PlayReady,new e.ContentProtection.Widevine,new e.ContentProtection.AesHandler,new e.DashMediaSegment.Parser,new e.Presentation.InitialStreamSelector,new e.Ad.AdHandler],this._createWorkflows(t)}return n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._orderedModules.forEach(function(e){e.dispose()}),this._orderedModules=null,this._sessionContext=null)},n.prototype.presentationRequestAsync=function(){var t=this,n=this;return new Promise(function(r,i){var o=new e.Context.Request(0,n._sessionContext);o.urlsToRetrieve.push(new e.Context.UrlRequest(n._sessionContext.presentationUrl)),t._processSteps(o,r,i)})},n.prototype.mediaRequestAsync=function(t){var n=this;return new Promise(function(r,i){var o=new e.Context.Request(1,n._sessionContext);o.requestedStream=t,o.heuristicData=new e.Context.HeuristicData(t),n._processSteps(o,r,i)})},n.prototype._processSteps=function(t,n,r){function i(){if(s._disposed||t.disposed||t.sessionContext.disposed)return void r();if(l===t.sessionContext.workflows[t.workflowType].stepList.length)return 1===t.workflowType?e.Log.verbose(0,"Finished process steps for "+e.Presentation.StreamType[t.requestedStream.type]+" media workflow"):e.Log.verbose(0,"Finished process steps for presentation workflow"),void n(t);var i=t.sessionContext.workflows[t.workflowType].stepList[l],u=i.functionHandler.call(i.callerInstance,t);l++,u.then(o,a)}function o(){switch(t.state){case 0:e.Util.setTimeout(i,0);break;case 2:l=0,e.Util.setTimeout(i,t.retryWaitTimeMSec),t.reset();break;case 1:n(t);break;default:throw new Error("processSteps unexpected state"+t.state)}}function a(n){if(null===t.externalFailure)return void t.sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,n);var i="stepRejected: "+t.externalFailure.toString();n&&(i+="err: "+n),e.Log.error(0,i),r(t)}var s=this;1===t.workflowType?e.Log.verbose(0,"Starting process steps for "+e.Presentation.StreamType[t.requestedStream.type]+" media workflow"):e.Log.verbose(0,"Starting process steps for presentation workflow");var l=0;e.Util.setTimeout(i,0)},n.prototype._createWorkflows=function(e){e.workflows=[t.CreatePresentation(),t.CreateMedia()],this._orderedModules.forEach(function(t){t.init(e)}),this._sessionContext.workflows.forEach(function(e){e.createSteps()})},n}()}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){"use strict";var t=function(){function e(){}return e.volumechange="volumechange",e.ended="ended",e.timeupdate="timeupdate",e.durationchange="durationchange",e.pause="pause",e.play="play",e.playing="playing",e.seeking="seeking",e.seeked="seeked",e.suspend="suspend",e.loadstart="loadstart",e.loadedmetadata="loadedmetadata",e.loadeddata="loadeddata",e.fullscreenchange="fullscreenchange",e.waiting="waiting",e.canplaythrough="canplaythrough",e.error="error",e.playbackstalled="playbackstalled",e.downloadbitratechanged="downloadbitratechanged",e.playbackbitratechanged="playbackbitratechanged",e.ratechange="ratechange",e.spliceWaiting="splicewaiting",e.emsgAvailable="emsgAvailable",e.decryptorInitialized="decryptorInitialized",e.aesKeyFetchCompleted="aesKeyFetchCompleted",e.decryptionFailed="decryptionFailed",e.manifestFetchCompleted="manifestFetchCompleted",e.initialBandwidthEstimationCompleted="initialBandwidthEstimationCompleted",e.mediaSourceSrcSetResolved="mediaSourceSrcSetResolved",e}();e.EventName=t;var n=function(){function e(){}return e.trackselected="trackselected",e}();e.StreamEventName=n;var r=function(){function e(){}return e.streamselected="streamselected",e.streamindexinvalid="streamindexinvalid",e.streamselectnotsupported="streamselectnotsupported",e}();e.StreamListEventName=r;var i=function(){function e(){}return e.downloadrequested="downloadrequested",e.downloadcompleted="downloadcompleted",e.downloaddecrypted="downloaddecrypted",e.downloadfailed="downloadfailed",e}();e.BufferDataEventName=i,function(e){e[e.abortedErrStart=1048576]="abortedErrStart",e[e.abortedErrUnknown=1048576]="abortedErrUnknown",e[e.abortedErrNotImplemented=1048577]="abortedErrNotImplemented",e[e.abortedErrHttpMixedContentBlocked=1048578]="abortedErrHttpMixedContentBlocked",e[e.abortedErrEnd=2097151]="abortedErrEnd",e[e.networkErrStart=2097152]="networkErrStart",e[e.networkErrUnknown=2097152]="networkErrUnknown",e[e.networkErrHttpResponseBegin=2097552]="networkErrHttpResponseBegin",e[e.networkErrHttpBadUrlFormat=2097552]="networkErrHttpBadUrlFormat",e[e.networkErrHttpUserAuthRequired=2097553]="networkErrHttpUserAuthRequired",e[e.networkErrHttpUserForbidden=2097555]="networkErrHttpUserForbidden",e[e.networkErrHttpUrlNotFound=2097556]="networkErrHttpUrlNotFound",e[e.networkErrHttpNotAllowed=2097557]="networkErrHttpNotAllowed",e[e.networkErrHttpGone=2097562]="networkErrHttpGone",e[e.networkErrHttpPreconditionFailed=2097564]="networkErrHttpPreconditionFailed",e[e.networkErrHttpInternalServerFailure=2097652]="networkErrHttpInternalServerFailure",e[e.networkErrHttpBadGateway=2097654]="networkErrHttpBadGateway",e[e.networkErrHttpServiceUnavailable=2097655]="networkErrHttpServiceUnavailable",e[e.networkErrHttpGatewayTimeout=2097656]="networkErrHttpGatewayTimeout",e[e.networkErrHttpResponseEnd=2097751]="networkErrHttpResponseEnd",e[e.networkErrTimeout=2097752]="networkErrTimeout",e[e.networkErrError=2097753]="networkErrError",e[e.networkErrAbort=2097754]="networkErrAbort",e[e.networkErrNoInternet=2097755]="networkErrNoInternet",e[e.networkErrEnd=3145727]="networkErrEnd",e[e.decodeErrStart=3145728]="decodeErrStart",e[e.decodeErrUnknown=3145728]="decodeErrUnknown",e[e.decodeErrEnd=4194303]="decodeErrEnd",e[e.srcErrStart=4194304]="srcErrStart",e[e.srcErrUnknown=4194304]="srcErrUnknown",e[e.srcErrParsePresentation=4194305]="srcErrParsePresentation",e[e.srcErrParseSegment=4194306]="srcErrParseSegment",e[e.srcErrUnsupportedPresentation=4194307]="srcErrUnsupportedPresentation",e[e.srcErrInvalidSegment=4194308]="srcErrInvalidSegment",e[e.srcErrLiveNoChunks=4194309]="srcErrLiveNoChunks",e[e.srcErrEnd=5242879]="srcErrEnd",e[e.encryptErrStart=5242880]="encryptErrStart",e[e.encryptErrUnknown=5242880]="encryptErrUnknown",e[e.encryptErrDecrypterNotFound=5242881]="encryptErrDecrypterNotFound",e[e.encryptErrDecrypterInit=5242882]="encryptErrDecrypterInit",e[e.encryptErrDecrypterNotSupported=5242883]="encryptErrDecrypterNotSupported",e[e.encryptErrKeyAcquire=5242884]="encryptErrKeyAcquire",e[e.encryptErrDecryption=5242885]="encryptErrDecryption",e[e.encryptErrLicenseAcquire=5242886]="encryptErrLicenseAcquire",e[e.encryptErrCertAcquire=5242887]="encryptErrCertAcquire",e[e.encryptErrEnd=6291455]="encryptErrEnd"}(e.ErrorCode||(e.ErrorCode={})),e.ErrorCode}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";!function(e){e[e.video=0]="video",e[e.audio=1]="audio",e[e.text=2]="text"}(e.StreamType||(e.StreamType={})),e.StreamType,!function(e){e[e.playReadySpecificData=0]="playReadySpecificData",e[e.widevineSpecificData=1]="widevineSpecificData",e[e.seaEncryptionSystemId=2]="seaEncryptionSystemId",e[e.seaKeyUri=3]="seaKeyUri",e[e.seaIV=4]="seaIV"}(e.ContentProtectionDataType||(e.ContentProtectionDataType={})),e.ContentProtectionDataType}(e.Presentation||(e.Presentation={})),e.Presentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";!function(e){e[e.closed=0]="closed",e[e.open=1]="open",e[e.ended=2]="ended"}(e.ReadyState||(e.ReadyState={})),e.ReadyState}(e.VideoElementAdapter||(e.VideoElementAdapter={})),e.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";!function(e){e[e.presentation=0]="presentation",e[e.media=1]="media",e[e.max=2]="max"}(e.Type||(e.Type={})),e.Type}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="AdHandler"}return t.prototype.dispose=function(){},t.prototype.init=function(e){var t=e.workflows[0],n=e.workflows[1];t.addHandler(t.stepEvents.requestEnd,this.onParseScte35InMpd,this),n.addHandler(n.stepEvents.dataRetrieved,this.onGetMediaData,this)},t.prototype.onParseScte35InMpd=function(e){e.currentModuleId=this._moduleId;var t=this;return new Promise(function(n){var r=e.sessionContext.presentationJson;if(t._adSignaledInMpd=!1,r&&r.Period&&r.Period.EventStream_asArray){var i=[];r.Period.EventStream_asArray.forEach(function(e){var n=t.extractAdSignal(e);i=i.concat(n)}),i.length>0&&(t._adSignaledInMpd=!0,t.sendAdSignals(e.sessionContext,i))}n()})},t.prototype.onGetMediaData=function(n){n.currentModuleId=this._moduleId;var r=this;return new Promise(function(i){var o=n.urlsToRetrieve.findFirst(function(e){return 1===e.requestType});if(!o||!o.mediaData)throw new Error(o.url+": no media segment data found");if(n.sessionContext.commonPresentation.isLive){var a=new DataView(o.mediaData),s=e.Mp4Util.GetEmsgBoxes(a);if(s){var l=[];s.forEach(function(r){if(r.schemeIdUrl===t._schemeIdUriScte35||r.schemeIdUrl===t._schemeIdUriSimple){var i=(r.timescale*o.presTimeInSec+r.presentationTimeDelta+n.requestedStream.rawPresentationTimeOffset)/r.timescale;if(e.Log.verbose(15,"ADSIGNAL: id: "+r.id+", mediaRequest.presTimeInSec: "+o.presTimeInSec+", presentationTimeDelta: "+r.presentationTimeDelta+", rawPresentationTimeOffset: "+n.requestedStream.rawPresentationTimeOffset+", presentationTime = "+i*r.timescale),r.schemeIdUrl===t._schemeIdUriScte35&&r.messageData){for(var a=new DataView(r.messageData.buffer),s="",u=0;u<r.messageData.length;u+=2){var d=a.getUint16(u,!0);if(0==d)break;s+=String.fromCharCode(d)}r.presentationTimeDelta>0?l.push({scteSignal:{signalInString:s,presentationTimeOverride:i}}):e.Log.verbose(15,"ADSIGNAL: skipping this one.")}else r.presentationTimeDelta>0?l.push({simpleSignal:{id:r.id,presentationTime:i,duration:r.eventDuration/r.timescale}}):e.Log.verbose(15,"ADSIGNAL: skipping this one.")}}),l.length>0&&r.sendAdSignals(n.sessionContext,l)}}i()})},t.prototype.extractAdSignal=function(n){var r=[],i=n.timescale;return n.schemeIdUri===t._schemeIdUriScte35?n.Event_asArray.forEach(function(t){var n=t.__text;if(n){var o=t.presentationTime;o&&(o/=i),r.push({scteSignal:{signalInString:n,presentationTimeOverride:o}}),e.Log.verbose(15,"ADSIGNAL mpd: presentationTime: "+o)}}):n.schemeIdUri===t._schemeIdUriSimple&&n.Event_asArray.forEach(function(t){var n=t.presentationTime;n&&(n/=i);var o=t.duration/i,a=t.id;r.push({simpleSignal:{id:a,presentationTime:n,duration:o}}),e.Log.verbose(15,"ADSIGNAL mpd: id: "+a+", presentationTime: "+n+", duration: "+o)}),r},t.prototype.sendAdSignals=function(e,t){e.adManager.addAdSignals(t)},t._schemeIdUriScte35="urn:scte:scte35:2013a:bin",t._schemeIdUriSimple="urn:com:adobe:dpi:simple:2015",t}();t.AdHandler=n}(e.Ad||(e.Ad={})),e.Ad}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="AesHandler",this._disposed=!1,this._decryptor=new e.WebCryptoUtil.Decryptor}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._decryptor&&(this._decryptor.dispose(),this._decryptor=null))},t.prototype.init=function(e){var t=e.workflows[0],n=e.workflows[1];t.addHandler(t.stepEvents.requestEnd,this.onDownloadKey,this),n.addHandler(n.stepEvents.dataRetrieved,this.onDecrypt,this)},t.prototype.onDownloadKey=function(n){var r=this;return n.currentModuleId=this._moduleId,new Promise(function(i,o){function a(){d<u.length?e.Util.setTimeout(s,0,u[d++]):i()}function s(r){if(l._disposed)return e.Failure.attachFailureToRequest(n,n.currentModuleId,0),void o();if(l._decryptor.isInitialized(r.streamingInfo.aes))return void a();var i=t._getAesContentProtectionIndex(r);if(isNaN(i))return void a();var s=r.contentProtections[i],d=s.data(3),c=s.data(4);if(!d||!c)return e.Failure.attachFailureToRequest(n,n.currentModuleId,5242883,"Missing IV or keyUrl"),void o();var p=l._findExistingAesInfo(u,r,d,c);if(p)return r.streamingInfo.aes=p,void a();var h=n.sessionContext.authenticationTokens[t._tokenId];if(!e.AesUtil.verifyKeyUrlWithToken(d,h))return e.Failure.attachFailureToRequest(n,n.currentModuleId,5242883,"verify AMS hostname failed"),void o();var f=[];h&&h.length>0&&(f[0]={name:e.HttpUtil.authorizationHeader,value:h});var m={maxRetries:n.sessionContext.httpRetryPolicySettings.maxRetriesForKeyAcquireFailure,maxWaitTimeBetweenRetriesMS:n.sessionContext.httpRetryPolicySettings.maxWaitTimeBetweenRetriesForKeyAcquireMS},g=Date.now();e.Log.verbose(12,"Starting AES key acquisition"),e.HttpUtil.httpRequestWithRetryConfig(d,"POST","arraybuffer",m,f).then(function(t){n.sessionContext.eventMgr.dispatchEvent(e.EventName.aesKeyFetchCompleted),l._decryptor.initialize(r.streamingInfo.aes,t,e.Common.hexStringToUint8Array(c)).then(function(){e.Log.verbose(12,"AES key acquisition in "+(Date.now()-g)+" ms"),n.sessionContext.eventMgr.dispatchEvent(e.EventName.decryptorInitialized,l._decryptor.type),a()},function(t){e.Log.error(12,"Failed to initialize decryptor: "),e.Failure.attachFailureToRequest(n,n.currentModuleId,5242882,"AES: "+t),o()})},function(t){e.Log.error(12,"Failed to download AES key url: "+d+", "+e.Common.toHexString(t.code)),e.Failure.attachFailureToRequest(n,n.currentModuleId,5242884,"Http: "+e.Common.toHexString(t.code)+", response: "+t.response),o()})}var l=r,u=n.sessionContext.commonPresentation.periods[0].streams,d=0;a()})},t.prototype.onDecrypt=function(t){var n=this;return t.currentModuleId=this._moduleId,new Promise(function(r,i){function o(){l<t.urlsToRetrieve.length?e.Util.setTimeout(a,0,t.urlsToRetrieve[l++]):r()}function a(n){if(s._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i();if(!n.mediaData)return void o();var a=new DataView(n.mediaData),l=e.Mp4Util.GetBoxByType(a,"moof");l&&e.Log.error(12,"Found moof box in supposedly encrypted fragment: "+n.url);var d=Date.now();s._decryptor.decrypt(u,n.mediaData).then(function(r){var i=Date.now()-d;e.Log.verbose(12,"AES decrypt data in "+i+" ms, bytes: "+n.mediaData.byteLength+" url: "+n.url),n.mediaData=r;var a=e.StreamUtil.getBufferData(t);a.dispatchDownloadDecrypted(s._createMediaDecrypted(t,n,i)),t.sessionContext.decryptionTracker&&t.sessionContext.decryptionTracker.updateDecryptionSpeedInfo(n.mediaData.byteLength,i/1e3),o()},function(i){t.sessionContext.eventMgr.dispatchEvent(e.EventName.decryptionFailed,n.url);var o="Failed to AES decrypt url: "+n.url+" "+JSON.stringify(i);e.Log.error(12,o),t.state=2,t.failTracker.log(new e.Failure.Record(t.currentModuleId,5242885,o),t.selectedTrack),t.failTracker.noDataReceivedFailure=!1,t.retryWaitTimeMSec=0,r()})}var s=n,l=0,u=t.requestedStream.streamingInfo.aes;return s._decryptor.isInitialized(u)?void o():void r()})},t._getAesContentProtectionIndex=function(e){for(var n=e.contentProtections,r=0;r<n.length;r++){var i=n[r].data(2);if(i===t._aesCbc128SystemId)return r}return NaN},t.prototype._findExistingAesInfo=function(e,t,n,r){for(var i=0;i<e.length;i++)if(e[i]!==t)for(var o=e[i].contentProtections,a=0;a<o.length;a++){var s=o[a].data(3),l=o[a].data(4);if(s===n&&l===r&&this._decryptor.isInitialized(e[i].streamingInfo.aes))return e[i].streamingInfo.aes}return null},t.prototype._createMediaDecrypted=function(t,n,r){var i=t.requestedStream.presentationTimeOffsetInSec,o=t.requestedStream.streamingInfo.currentSegment.segmentInfo,a=2===n.requestType?null:o.mediaTimestamp/o.timescale;return new e.Context.MediaDecrypted(n.url,t.selectedTrack.bitrate,a,n.mediaData,i,o.timescale,o.durationInSec,r)},t._aesCbc128SystemId="urn:mpeg:dash:sea:aes128-cbc:2013",t._tokenId="AES",t}();t.AesHandler=n}(e.ContentProtection||(e.ContentProtection={})),e.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(t,n){this._bandwidthSettings=t,this._decryptionTracker=n,this._averageCalc=new e.Util.AverageCalculator(this._bandwidthSettings.minBandwidthHistoryCount,this._bandwidthSettings.maxBandwidthHistoryCount)}return Object.defineProperty(t.prototype,"averageBandwidthInKbps",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latestInKbps",{get:function(){return this._averageCalc.latest},enumerable:!0,configurable:!0}),t.prototype.perceivedBandwidth=function(){var e=1e3*this._averageCalc.average;return e*this._bandwidthSettings.bandwidthUsabilityPercent},t.prototype.updateBandwidthInfo=function(t,n,r,i){if(e.Log.verbose(5,"updateBandWidthInfo - analyzing bandwidth data: received size="+t.responseLengthInBytes+" bytes, download time="+t.downloadTimeMs+" ms, TOTAL download time="+t.totalDownloadTimeMs+" ms, "+(this._bandwidthSettings.useVariableFragmentSizeMode?"(default mode) ":"")+"bandwidth = "+t.bandwidth+" kbps"),t.responseLengthInBytes<this._bandwidthSettings.bandwidthDataSizeThresholdInBytes)return void e.Log.verbose(5,"Ignoring bandwidth data, retrieved size "+t.responseLengthInBytes+" is less than the limit "+this._bandwidthSettings.bandwidthDataSizeThresholdInBytes+" bytes");if((!n||this._bandwidthSettings.bandwidthTestWithTimeThresholdDuringLive)&&t.downloadTimeMs<this._bandwidthSettings.bandwidthEstimationMinMsec)return e.Log.verbose(5,"Ignoring bandwidth estimation, download time "+Math.floor(t.downloadTimeMs)+" ms is less than configured min "+this._bandwidthSettings.bandwidthEstimationMinMsec+" ms"),void this._averageCalc.dropOldestKeepAtLeastOne();if(t.bandwidth>this._bandwidthSettings.bandwidthEstimationMaxKbps)return e.Log.verbose(5,"Ignoring bandwidth estimation "+Math.floor(t.bandwidth)+" Kbps, greater than configured max "+this._bandwidthSettings.bandwidthEstimationMaxKbps+" Kbps"),void this._averageCalc.dropOldestKeepAtLeastOne();var o;if(this._bandwidthSettings.useVariableFragmentSizeMode){var a=i.requestedStream.streamingInfo.currentSegment?e.StreamUtil.getSegmentDuration(i):r.durationInSec,s=r.bitrate;if(isNaN(s)||0>=s||isNaN(a)||0>=a||t.responseLengthInBytes<=0)return void e.Log.verbose(5,"Ignoring bandwidth estimation, supplied bitrate: "+s+", supplied chunk duration: "+a+", downloaded fragment size: "+t.responseLengthInBytes);var l=s*a,u=t.totalDownloadTimeMs-t.downloadTimeMs,d=u+l/(8*t.responseLengthInBytes)*t.downloadTimeMs;o=l/d,e.Log.verbose(5,"updateBandWidthInfo - vfsMode On, vfs bandwidth="+o+"kbps")}else o=t.bandwidth;var c=t.totalDownloadTimeMs;this._averageCalc.addValue(o),e.Log.verbose(5,"updateBandWidthInfo -  currentBw: "+Math.floor(this._averageCalc.latest)+" Kbps averageBw: "+Math.floor(this._averageCalc.average)+" Kbps size: "+t.responseLengthInBytes+" bytes time-taken: "+c+" ms")},t.prototype.reportHeuristicsData=function(t,n){var r=this.perceivedBandwidth(),i=this._decryptionTracker?this._decryptionTracker.averageDecryptionSpeed:1/0;if(e.Log.verbose(5,"averageBW reporting: "+Math.round(r/1e3)+" Kbps decryptionBW: "+Math.round(i/1e3)+" Kbps, chunk duration: "+n),!n)throw new Error("reportHeuristicsData failed, invalid chunkDuration");for(var o=0;o<t.tracksData.length;o++)if(t.tracksData[o].selectable){var a=t.tracksData[o].trackInfo.bitrate*n;if(r){var s=a/r,l=i?a/i:0;t.tracksData[o].dataRetrieverEstimationInWallClockSec=s+l,e.Log.verbose(5,"Estimated time to download "+a+" bits = "+t.tracksData[o].dataRetrieverEstimationInWallClockSec+" s")}else t.tracksData[o].dataRetrieverEstimationInWallClockSec=1/0}},t}();t.BandwidthTracker=n;var r=function(){function t(){this.requestStartTimeInMS=(new Date).getTime(),this.responseStartTimeInMS=null,this.responseEndTimeInMS=null,this.responseLengthInBytes=0}return Object.defineProperty(t.prototype,"totalDownloadTimeMs",{get:function(){return e.assert(this.responseEndTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.totalDownloadTimeMs: unexpected values:"+this.responseEndTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseEndTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latencyTimeMs",{get:function(){return e.assert(this.responseStartTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.latencyTimeMs: unexpected values:"+this.responseStartTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseStartTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downloadTimeMs",{get:function(){return e.assert(this.responseEndTimeInMS>=this.responseStartTimeInMS,"BandwidthInfo.downloadTimeMs: unexpected values:"+this.responseEndTimeInMS+" should not be < "+this.responseStartTimeInMS),this.responseEndTimeInMS-this.responseStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bandwidth",{get:function(){return e.assert(this.totalDownloadTimeMs>0,"BandwidthInfo.bandwidth: unexpected value:"+this.totalDownloadTimeMs+" should be > 0"),8*this.responseLengthInBytes/this.totalDownloadTimeMs},enumerable:!0,configurable:!0}),t}();t.BandwidthInfo=r}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="playReady",this._disposed=!1,this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var n=this;return t.currentModuleId=this._moduleId,new Promise(function(r,i){var o=[],a=t.sessionContext.commonPresentation;if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("Disposed");if(!n._initial)return void r();if(!a)throw new Error("CommonPresentation is empty");a.periods[0].streams.forEach(function(t){for(var n=0;n<t.contentProtections.length;n++){var r=t.contentProtections[n].data(0);if(r){var i=new e.Mp4Util.PsshBox;i.systemId=e.KeySystem.PlayReadyBase.systemId,i.specificData=e.Common.stringToUint8Array(atob(r)),o.push(i)}}}),o.length>0&&t.sessionContext.emeManager.addPsshBoxes(o),n._initial=!1,r()})},t}();t.PlayReady=n}(e.ContentProtection||(e.ContentProtection={})),e.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="widevine",this._disposed=!1,this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var n=this;return t.currentModuleId=this._moduleId,new Promise(function(r,i){var o=[],a=t.sessionContext.commonPresentation;if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("Disposed");if(!n._initial)return void r();if(!a)throw new Error("CommonPresentation is empty");a.periods[0].streams.forEach(function(n){for(var r=0;r<n.contentProtections.length;r++){var i=n.contentProtections[r].data(1);if(i){var a=e.Common.stringToUint8Array(atob(i)),s=new DataView(a.buffer),l=e.Mp4Util.GetPsshBoxes(s);if(1!=l.length)throw new Error("Each cenc:pssh element should contain a 'pssh' box");o.push(l[0])}n.contentProtections[r].laUrl&&t.sessionContext.emeManager.addLaUrl(e.KeySystem.Widevine.systemId,n.contentProtections[r].laUrl)}}),o.length>0&&t.sessionContext.emeManager.addPsshBoxes(o),n._initial=!1,r()})},t}();t.Widevine=n}(e.ContentProtection||(e.ContentProtection={})),e.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="DashMediaSegmentParser"}return t.prototype.dispose=function(){},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.dataRetrieved,this.onGetData,this)},t.prototype.onGetData=function(t){function n(t){var n=t.urlsToRetrieve.findFirst(function(e){return 1===e.requestType});if(n&&n.mediaData){var r=new DataView(n.mediaData),i=e.Mp4Util.GetEmsgBoxes(r);i&&i.length>0&&t.sessionContext.eventMgr.dispatchEvent(e.EventName.emsgAvailable,null,i)}}function i(){var n,i,a,s,l,u,d,c;c=t.requestedStream.streamingInfo.currentSegment;var p=t.urlsToRetrieve.findFirst(function(e){return 1===e.requestType});if(!p||!p.mediaData)throw new Error(p.url+": no media segment data found");if(n=new DataView(p.mediaData),i=e.Mp4Util.GetBoxByType(n,"moof"),!i)return new r(4194306,"moof not found");if(a=e.Mp4Util.GetBoxByType(i.data,"traf"),!a)return new r(4194306,"traf not found");if(s=e.Mp4Util.GetTfhdBox(a.data),!s)return new r(4194306,"tfhd not found");if(l=e.Mp4Util.GetTrunBox(a.data),!l)return new r(4194306,"trun not found");if(u=e.Mp4Util.GetTfdtBox(a.data),!u)return new r(4194306,"tfdt not found");if(e.Common.diffTimes(u.baseMediaDecodeTime,c.segmentInfo.mediaTimestamp))throw new Error("Segment mismatch, requested: "+c.segmentInfo.mediaTimestamp+" got: "+u.baseMediaDecodeTime);if(d=o(s,l),0===d)return new r(4194308,"failed to derive segment duration");e.Log.verbose(10,"Segment duration: "+d);var h=t.requestedStream.segments.updateSegmentDuration(c.segmentInfo.presTimeInSec,d);return h?(c.segmentInfo.mediaDuration=d,p.durationInSec=c.segmentInfo.durationInSec,null):new r(4194308,"failed to update segment duration in container")}function o(t,n){var r=0;return n.flags&e.Mp4Util.TrunBox.flags_sampleDurationPresent?n.sampleInfoArray.forEach(function(e){r+=e.sampleDuration}):t.defaultSampleDuration?r=t.defaultSampleDuration*n.sampleCount:e.Log.warning(10,"Cannot calculate segment duration from 'tfhd' and 'trun'"),r}function a(){var n=t.requestedStream,r=n.streamingInfo.currentSegment,i=r.segmentInfo,o=n.segments;i.mediaDuration&&o.addMediaSegmentInfo(i.index+1,e.Timestamp.add(i.mediaTimestampStr,i.mediaDuration),NaN,i.presentationOffset,i.timescale)}return t.currentModuleId=this._moduleId,new Promise(function(r,o){n(t);var s;if(s=t.requestedStream.streamingInfo.currentSegment,!t.sessionContext.commonPresentation.isLive||t.sessionContext.commonPresentation.minimumUpdatePeriodInSec||s.next)return void r();if(!s.segmentInfo.mediaDuration){var l=i();if(l)return e.Failure.attachFailureToRequest(t,t.currentModuleId,l.errorCode,l.message),void o()}a(),r()})},t}();t.Parser=n;var r=function(){function e(e,t){this.errorCode=e,this.message=t}return e}()}(e.DashMediaSegment||(e.DashMediaSegment={})),e.DashMediaSegment}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},AzureHtml5JS;!function(e){!function(t){"use strict";function n(e){var t;if(!("schemeIdUri"in e))throw new Error("ContentProtection missing @schemeIdUri");return t=e.schemeIdUri,t.toLowerCase()===d.schemeIdUri?new d(e):t.toLowerCase()===c.schemeIdUri?new c(e):t.toLowerCase()===p.schemeIdUri?new p(e):new h(e)}var r=function(){function t(){this._moduleId="DashPresentationParser"}return t.prototype.dispose=function(){},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.dataRetrieved,this.onParse,this)},t.prototype.onParse=function(n){return n.currentModuleId=this._moduleId,new Promise(function(r,o){var a,s,l;if(!n.urlsToRetrieve[0].presentationData)throw new Error(n.urlsToRetrieve[0].url+": no presentation data found");a=n.sessionContext;var u=t._getPublishTime(n.urlsToRetrieve[0].presentationData);if(u&&a.commonPresentation&&a.commonPresentation.publishTime&&a.commonPresentation.publishTime.getTime()>=Date.parse(u))return e.Log.verbose(4,"skipping MPD parse, not newer than last parsed: "+n.urlsToRetrieve[0].url),void r();if(s=t._getBaseURL(a.presentationUrl),l=new i(n.urlsToRetrieve[0].presentationData,s),!l||!l.periods)return e.Failure.attachFailureToRequest(n,n.currentModuleId,4194305,n.urlsToRetrieve[0].url+": failed to generate DASH presentation"),void o("failed to generate DASH presentation");if(!t._validPresentation(l))return e.Failure.attachFailureToRequest(n,n.currentModuleId,4194307,n.urlsToRetrieve[0].url+": unsupported presentation"),void o("unsupported presentation");for(var d=l.periods[0].streams,c=0;c<l.periods[0].streams.length;c++)2!==d[c].type||d[c].segments||(d.splice(c,1),e.Log.warning(4,"Text stream "+c+" has empty segments.  Ignoring the text stream."));var p=l.isLive,h=p&&null!==l.periods[0].streams.findFirst(function(e){return(0===e.type||1===e.type)&&!e.segments});return a.updatePresentation(l),e.Log.verbose(4,"MPD updated. Streaming type: "+(p?"Live":"VOD")),h?(e.Failure.attachFailureToRequest(n,n.currentModuleId,4194309,n.urlsToRetrieve[0].url+": no chunks in the live manifest"),void o("no chunks in this presentation")):void r()})},t._removeAudioOrVideoTracks=function(e,t){var n;do n=e.periods[0].streams.findIndexOf(function(e){return e.type===t}),-1!==n&&e.periods[0].streams.splice(n,1);while(-1!==n);return e},t._validPresentation=function(t){if(0===t.periods.length||t.periods.length>1)return e.Log.error(4,"invalid period count: "+(t.periods?t.periods.length.toString():"undefined")),!1;if(!t.periods[0].streams)return e.Log.error(4,"no streams found"),!1;for(var n=0;n<t.periods[0].streams.length;n++)e.Log.verbose(4,"Stream: "+t.periods[0].streams[n].codec);return!0;
},t._getPublishTime=function(e){var t,n,r="";return e&&(t=e.match(/<MPD[^>]*>/i),t&&t.length>0&&(n=t[0].match(/publishTime="[^"]*/i),n&&n.length>0&&(r=n[0].slice(13)))),r},t._getBaseURL=function(e){var t,n=e;if(t=n.indexOf("?"),-1!==t&&(n=n.slice(0,t)),t=n.lastIndexOf("/"),-1===t)throw new Error(e+": could not derive base URL");return n=n.slice(0,t+1)},t}();t.Parser=r;var i=function(){function t(e,t){var n,r=this,i=[];if(this._lastRetrievalTime=new Date,n=Dash.dependencies.DashParser(),n.debug=new m,n.errHandler=new g,this._manifest=n.parse(e,t),this._manifest){if("Period_asArray"in this._manifest&&this._manifest.Period_asArray.length>0&&this._manifest.Period_asArray.forEach(function(e){i.push(new o(e,r.publishTime,r.isLive))}),this._periods=i,i.length>1)throw new Error("Error parsing MPD: multiple periods not supported");"dynamic"===this._manifest.type&&0===this._manifest.minimumUpdatePeriod&&(this._timeShiftTracker=new f(i,this._manifest.timeShiftBufferDepth))}}return Object.defineProperty(t.prototype,"segmentBoundaries",{get:function(){var e=[];if(this.periods&&this.periods.length>0&&this.periods[0].streams&&this.periods[0].streams.length>0)for(var t=0;t<this.periods[0].streams.length;t++)if(0===this.periods[0].streams[t].type&&this.periods[0].streams[t].segments){for(var n=this.periods[0].streams[t].segments.first;n;)e.push(n.segmentInfo.presTimeInSec),n=n.next;break}return e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._periods&&(this._periods.forEach(function(e){e.dispose()}),this._periods=[]),this._manifest=null,this._lastRetrievalTime=null},Object.defineProperty(t.prototype,"startTime",{get:function(){var e=null;return"availabilityStartTime"in this._manifest&&(e=new Date(this._manifest.availabilityStartTime)),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publishTime",{get:function(){var e;return e="publishTime"in this._manifest?new Date(this._manifest.publishTime):this._lastRetrievalTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLive",{get:function(){return"dynamic"===this._manifest.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumUpdatePeriodInSec",{get:function(){return this._manifest.minimumUpdatePeriod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationInSec",{get:function(){var e=0;return"mediaPresentationDuration"in this._manifest&&(e=this._manifest.mediaPresentationDuration),e},enumerable:!0,configurable:!0}),t.prototype.getWallClockTimeAtPresentationTime=function(e){var t=null;if(this._periods&&this._periods.length>0&&this._periods[0].streams&&this._periods[0].streams.length>0&&this._periods[0].streams[0].segments&&this._periods[0].streams[0].segments.first&&this._periods[0].streams[0].producerReferenceTime){var n=this._periods[0].streams[0],r=n.segments.first.segmentInfo.timescale,i=0;if(this.isLive){var o=n.producerReferenceTime.presentationTime/r,a=n.rawPresentationTimeOffset/r;i=e+a-o}else{var s=n.segments.first.segmentInfo.presTimeInSec;i=e-s}var l=n.producerReferenceTime.wallClockTime,t=new Date(l.getTime()+1e3*i)}return t},Object.defineProperty(t.prototype,"timeShiftBufferDepth",{get:function(){return this._manifest.timeShiftBufferDepth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playableWindow",{get:function(){return new e.Common.TimeRange(this._playWindowLeftEdge(),this._playWindowLiveEdge())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var e=0;return this._periods.forEach(function(t){e=Math.max(e,t.maxSegmentDuration)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"periods",{get:function(){return this._periods},enumerable:!0,configurable:!0}),t.prototype.toJson=function(){return this._manifest},t.prototype.transferPresentationState=function(t){var n=t,r=[],i=[];this._manifest=n._manifest,this._lastRetrievalTime=n._lastRetrievalTime,this._timeShiftTracker=n._timeShiftTracker,this.periods.forEach(function(e){r.push(e)}),n.periods.forEach(function(e){i.push(e)});for(var o=0;o<i.length;o++)for(var a=0;a<r.length;a++)if(r[a]&&i[o].startInSec===r[a].startInSec){r[a].transferPeriodState(i[o]),i[o]=null,r[a]=null;break}r=r.filter(function(e){return!!e}),i=i.filter(function(e){return!!e}),r.length>0&&e.Log.verbose(4,"Periods removed from MPD: "+r.length),i.length>0&&e.Log.verbose(4,"Periods added to MPD: "+i.length)},t.prototype.adjustPlayableWindow=function(e){this._timeShiftTracker&&this._timeShiftTracker.adjust(e)},t.prototype.adjustPlayableWindowForChromeSourceDelay=function(e){this._timeShiftTracker&&this._timeShiftTracker.adjustForChromeSourceDelay(e)},t.prototype._playWindowLeftEdge=function(){var e,t=0;return this._timeShiftTracker?this._timeShiftTracker.leftEdge:this._periods&&this._periods.length?(e=this._periods[0].streams,e&&e.length?(e.forEach(function(e){2!==e.type&&e.segments&&e.segments.first&&(t=Math.max(t,e.segments.first.segmentInfo.presTimeInSec))}),t):0):0},t.prototype._playWindowLiveEdge=function(){var e,t=1/0;return this._timeShiftTracker?this._timeShiftTracker.liveEdge:this._periods&&this._periods.length?(e=this._periods[0].streams,e&&e.length?(e.forEach(function(e){if(2!==e.type&&e.segments&&e.segments.last){var n=e.segments.last.segmentInfo;t=Math.min(t,n.presTimeInSec+(n.durationInSec||0))}}),t):0):0},t}();t.Mpd=i;var o=function(){function t(e,t,n){var r=this,i=[];this.startInSec="start"in e?e.start:0,"AdaptationSet_asArray"in e&&e.AdaptationSet_asArray.length>0&&e.AdaptationSet_asArray.forEach(function(e){i.push(new a(e,t,n,r.startInSec))}),this._streams=i}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var e=0;return this._streams.forEach(function(t){e=Math.max(e,t.maxSegmentDuration)}),e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._streams&&(this._streams.forEach(function(e){e.dispose()}),this._streams=[])},t.prototype.transferPeriodState=function(t){var n=[],r=[];this.streams.forEach(function(e){n.push(e)}),t.streams.forEach(function(e){r.push(e)});for(var i=0;i<r.length;i++)for(var o=0;o<n.length;o++)if(n[o]&&r[i].id===n[o].id){n[o].transferStreamState(r[i]),r[i]=null,n[o]=null;break}n=n.filter(function(e){return!!e}),r=r.filter(function(e){return!!e}),n.length>0&&e.Log.verbose(4,"Adaptation Sets removed from period: "+n.length),r.length>0&&e.Log.verbose(4,"Adaptation Sets added to period: "+r.length)},t}();t.Period=o;var a=function(){function t(t,r,i,o){var a=[],u=[];if(this._adaptationSet=t,this.streamingInfo=new e.Presentation.MediaStreamStreamingInfo,"SegmentTemplate"in t&&(this._segmentTemplate=t.SegmentTemplate,"SegmentTimeline"in this._segmentTemplate)){var d,c,p,h;if(d=this._segmentTemplate.SegmentTimeline,c=this._segmentTemplate.timescale?this._segmentTemplate.timescale:1,p=o*c,this._rawPresentationTimeOffset=this._segmentTemplate.presentationTimeOffset?this._segmentTemplate.presentationTimeOffset:0,p-=this._rawPresentationTimeOffset,this._normalizedPtoInSec=p/c,h=new e.Presentation.MediaSegmentInfoContainer(c,p,r,i),"S_asArray"in d){var f,m="0";f=this._segmentTemplate.startNumber?this._segmentTemplate.startNumber:0;for(var g=0;g<d.S_asArray.length;g++){var y,v,_,b;y=d.S_asArray[g],v="t"in y?y.t_str:m,_="r"in y?y.r:0,b=new e.Presentation.SegmentRunEntry(f,v,y.d,p,c,_);var S=h.addMediaSegmentRun(b);f+=S,m=e.Timestamp.add(v,y.d*S)}this.segments=h}}"Representation"in t&&t.Representation_asArray.forEach(function(e){a.push(new s(e))}),this._tracks=a.sort(function(e,t){return e.bitrate-t.bitrate}),"ContentProtection"in t&&t.ContentProtection_asArray.forEach(function(e){u.push(n(e))}),this._contentProtections=u,"ProducerReferenceTime"in t&&(this._producerReferenceTime=new l(t.ProducerReferenceTime))}return t.prototype.dispose=function(){this._tracks&&(this._tracks.forEach(function(e){e.dispose()}),this._tracks=[]),this._contentProtections&&(this._contentProtections.forEach(function(e){e.dispose()}),this._contentProtections=[]),this.segments&&(this.segments.dispose(),this.segments=null),this.streamingInfo&&(this.streamingInfo.dispose(),this.streamingInfo=null),this._adaptationSet=null,this._segmentTemplate=null},Object.defineProperty(t.prototype,"codec",{get:function(){function e(){var e=t.codecs;if(!e)for(var n=0;n<t.Representation_asArray.length;n++)if(t.Representation_asArray[n].codecs){e=t.Representation_asArray[n].codecs;break}return e}var t=this._adaptationSet;return t.mimeType+';codecs="'+e()+'"'},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;switch(this._adaptationSet.contentType){case"video":t=0;break;case"audio":t=1;break;case"text":t=2;break;default:e.Log.error(4,"Stream type not supported: "+this._adaptationSet.contentType)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){var e=null;return"id"in this._adaptationSet?e=this._adaptationSet.id.toString():(e=this._adaptationSet.codecs,"lang"in this._adaptationSet&&(e+=this._adaptationSet.lang)),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=null;return"lang"in this._adaptationSet&&(e=this._adaptationSet.lang),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initUrlTemplate",{get:function(){var e=null;return"initialization"in this._segmentTemplate&&(e=this._adaptationSet.BaseURL+this._segmentTemplate.initialization),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaUrlTemplate",{get:function(){var e=null;return"media"in this._segmentTemplate&&(e=this._adaptationSet.BaseURL+this._segmentTemplate.media),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._normalizedPtoInSec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawPresentationTimeOffset",{get:function(){return this._rawPresentationTimeOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentProtections",{get:function(){return this._contentProtections},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"producerReferenceTime",{get:function(){return this._producerReferenceTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){return this.segments.maxSegmentDuration},enumerable:!0,configurable:!0}),t.prototype.transferStreamState=function(t){var n=[],r=[];this.tracks.forEach(function(e){n.push(e)}),t.tracks.forEach(function(e){r.push(e)});for(var i=0;i<r.length;i++)for(var o=0;o<n.length;o++)if(n[o]&&r[i].id===n[o].id){r[i]=null,n[o]=null;break}n=n.filter(function(e){return!!e}),r=r.filter(function(e){return!!e}),n.length>0&&e.Log.verbose(4,"Representations removed from MPD: "+n.length),r.length>0&&e.Log.verbose(4,"Representations added to MPD: "+r.length),this.segments.update(t.segments)},t}();t.AdaptationSet=a;var s=function(){function t(t){if(!("id"in t))throw new Error("Representation missing @id");if(this._id=t.id,!("bandwidth"in t))throw new Error("Representation missing @bandwidth");this._bitrate=t.bandwidth,this._height=t.height,this._width=t.width,this._codecs=t.codecs,this.streamingInfo=new e.Presentation.MediaTrackStreamingInfo}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codecs",{get:function(){return this._codecs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){},t}();t.Representation=s;var l=function(){function e(e){if(!("id"in e))throw new Error("ProducerReferenceTime missing @id");if(this._id=e.id,!("presentationTime"in e))throw new Error("ProducerReferenceTime missing @presentationTime");if(this._presentationTime=e.presentationTime,!("type"in e))throw new Error("ProducerReferenceTime missing @type");if(this._type=e.type,!("wallClockTime"in e))throw new Error("ProducerReferenceTime missing @wallClockTime");this._wallClockTime=e.wallClockTime}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationTime",{get:function(){return this._presentationTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wallClockTime",{get:function(){return this._wallClockTime},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e}();t.ProducerReferenceTime=l;var u=function(){function e(e){if(!("schemeIdUri"in e))throw new Error("ContentProtection missing @schemeIdUri");this.schemeIdUri=e.schemeIdUri,"value_str"in e?this._value=e.value_str:"value"in e&&(this._value=e.value),"id"in e&&(this._id=e.id)}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e}();t.BaseContentProtection=u;var d=function(e){function t(t){e.call(this,t),"pro"in t&&(this._specificData=t.pro.__text)}return __extends(t,e),t.prototype.data=function(e){return 0===e?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",t}(u);t.PlayReadyContentProtection=d;var c=function(e){function t(t){e.call(this,t),"pssh"in t&&(this._specificData=t.pssh.__text),"laurl"in t&&(this._laUrl=t.laurl.licenseUrl)}return __extends(t,e),Object.defineProperty(t.prototype,"laUrl",{get:function(){return this._laUrl},enumerable:!0,configurable:!0}),t.prototype.data=function(e){return 1===e?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t}(u);t.WidevineContentProtection=c;var p=function(e){function t(t){if(e.call(this,t),"SegmentEncryption"in t&&(this._seaEncryptionSystemId=t.SegmentEncryption.schemeIdUri,"CryptoPeriod"in t)){var n=t.CryptoPeriod;"keyUriTemplate"in n&&(this._keyUri=n.keyUriTemplate),"IV"in n&&(this._iv=n.IV)}}return __extends(t,e),t.prototype.data=function(e){switch(e){case 2:return this._seaEncryptionSystemId;case 3:return this._keyUri;case 4:return this._iv;default:return null}},t.prototype.dispose=function(){},t.schemeIdUri="urn:mpeg:dash:sea:2012",t}(u);t.SegmentEncryptionContentProtection=p;var h=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.data=function(){return null},t.prototype.dispose=function(){},t}(u);t.GenericContentProtection=h;var f=function(){function t(t,n){var r,i=0,o=1/0;t.length&&(r=t[0].streams,r&&r.length&&(r.forEach(function(e){2!==e.type&&e.segments&&e.segments.first&&e.segments.last&&(i=Math.max(i,e.segments.first.segmentInfo.presTimeInSec),o=Math.min(o,e.segments.last.segmentInfo.presTimeInSec+e.segments.last.segmentInfo.durationInSec))}),e.Log.verbose(4,"TimeShiftBufferTracker: leftEdge: "+i+" liveEdge: "+o+" duration: "+(o-i)),this._dvrWindowLenInSec=n?n:1/0,this._leftEdgeReferenceInPresentation=i,this._liveEdgeReferenceInPresentation=o,this._liveEdgeReferenceLocalTime=Date.now()))}return Object.defineProperty(t.prototype,"liveEdge",{get:function(){var e=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3;return this._liveEdgeReferenceInPresentation+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftEdge",{get:function(){var e=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3,t=this._liveEdgeReferenceInPresentation+e;return t-this._leftEdgeReferenceInPresentation<this._dvrWindowLenInSec?this._leftEdgeReferenceInPresentation:t-this._dvrWindowLenInSec},enumerable:!0,configurable:!0}),t.prototype.adjust=function(t){var n=this._liveEdgeReferenceInPresentation+t;return 0>=n?void e.Log.warning(4,"TimeShiftBufferTracker error, ignoring invalid adjustment: "+t):(e.Log.verbose(4,"Adjusting TimeShiftBufferTracker: "+t),void(this._liveEdgeReferenceInPresentation=n))},t.prototype.adjustForChromeSourceDelay=function(t){this._liveEdgeReferenceLocalTime=t,e.Log.verbose(4,"Adjusting TimeShiftBufferTracker: _liveEdgeReferenceLocalTime to "+t)},t}(),m=function(){function t(){this.log=function(t){e.Log.verbose(4,t)}}return t}(),g=function(){function t(){this.manifestError=function(t){e.Log.error(4,t)}}return t}()}(e.DashPresentation||(e.DashPresentation={})),e.DashPresentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="DashUrlFormatter"}return t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onUrlFormat,this)},t.prototype.dispose=function(){},t.prototype.onUrlFormat=function(t){return t.currentModuleId=this._moduleId,new Promise(function(n){if(!t.selectedTrack)throw new Error("Selected Track not set");var r=t.requestedStream.id;if(!r)throw new Error("stream id not set");var i=t.selectedTrack.bitrate;if(null===i||void 0===i)throw new Error("incorrect bitrate");var o=t.requestedStream.streamingInfo.currentSegment;if(!o)throw new Error("current segment not selected.");var a=o.segmentInfo.presTimeInSec;if(t.requestedStream.streamingInfo.fetchInitSegment){var s=t.requestedStream.initUrlTemplate;if(!s)throw new Error("initialization url template is not set for the stream");var l=e.Util.UrlFormatter.FormatDashInitUrl(s,i.toString(),t.sessionContext.presentationQueryStr);t.requestedStream.streamingInfo.fetchInitSegment=!1;var u=new e.Context.UrlRequest(l,2,0,r,i,a);t.urlsToRetrieve.push(u)}var d=t.requestedStream.mediaUrlTemplate;if(!d)throw new Error("media url template is not set for the stream");var c=o.segmentInfo.mediaTimestampStr,p=e.Util.UrlFormatter.FormatDashMediaUrl(d,i.toString(),c,t.sessionContext.presentationQueryStr);t.urlsToRetrieve.push(new e.Context.UrlRequest(p,1,0,r,i,a,o.segmentInfo.durationInSec)),n()})},t}();t.DashUrlFormatter=n}(e.UrlBuilder||(e.UrlBuilder={})),e.UrlBuilder}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._averageCalc=new e.Util.AverageCalculator(0,t._maxHistoryCount)}return Object.defineProperty(t.prototype,"averageDecryptionSpeed",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),t.prototype.updateDecryptionSpeedInfo=function(e,t){var n=8*e/t;this._averageCalc.addValue(n)},t._maxHistoryCount=3,t}();t.DecryptionTracker=n}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="heuristics.Engine",this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onGetIndex,this)},t.prototype.onGetIndex=function(t){function n(){t.selectedTrack!==t.requestedStream.streamingInfo.lastDownloadedTrack&&(t.requestedStream.streamingInfo.fetchInitSegment=!0)}function r(n){var r=t.heuristicData.tracksData;if(!n)throw new Error("findHighestTrack failed, invalid timeEstimationThresholdInSec");e.Log.verbose(8,"Time we have for fragment download: "+n+"s");for(var i=r.length-1;i>=0;i--)if(r[i].selectable&&r[i].dataRetrieverEstimationInWallClockSec*t.sessionContext.playbackRate()<n)return r[i].trackInfo;return null}function i(){for(var e=t.heuristicData.tracksData,n=1/0,r=e.length-1;r>=0;r--){var i=e[r];i.selectable&&(n=Math.min(n,i.dataRetrieverEstimationInWallClockSec))}return n}function o(e){for(var n=t.heuristicData.tracksData,r=null,i=n.length-1;i>=0;i--){var o=n[i];o.selectable&&o.trackInfo.bitrate>e&&(!r||o.trackInfo.bitrate<r.bitrate)&&(r=o.trackInfo)}return r}var a=this;return e.Log.verbose(8,"OnGetIndex"),t.currentModuleId=this._moduleId,new Promise(function(s,l){function u(){n(),s()}if(a._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void l("object is already disposed.");if(t.selectedTrack)return void u();if(0!==t.requestedStream.type)return t.selectedTrack=t.requestedStream.tracks[0],void u();var d=t.heuristicData.tracksData.findFirst(function(e){return e.selectable===!0});if(!d)return t.selectedTrack=t.heuristicData.tracksData[0].trackInfo,void u();t.selectedTrack=d.trackInfo;var c=t.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec(),p=5*t.sessionContext.playbackRate();if(!t.requestedStream.streamingInfo.currentSegment)return void u();p=e.StreamUtil.getSegmentDuration(t);var h=t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodStableBufferLevelPercent,f=t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodDowngradeBufferLevelPercent;f>c&&!t.sessionContext.videoTag.paused&&(p*=t.sessionContext.heuristicSettings.belowDowngradeBufferLevelDownloadTimeFactor);var m=r(p);!m&&i()===1/0&&t.requestedStream.streamingInfo.lastDownloadedTrack&&(m=o(t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate)),(!m||c>h&&m.bitrate<t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate)&&t.heuristicData.tracksData.findFirst(function(e){return e.trackInfo===t.requestedStream.streamingInfo.lastDownloadedTrack&&e.selectable})&&(m=t.requestedStream.streamingInfo.lastDownloadedTrack),m&&(e.Log.verbose(8,"Selected bitrate: "+m.bitrate),t.selectedTrack=m),u()})},t}();t.Engine=n}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="stepRule",this._disposed=!1,this._currentTrackSegmentCount=0,this._previousTrackSelected=null,this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0,this._previousTrackSelected=null,this._currentSelectedVideoStream=null},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunStepRule,this)},t.prototype.onRunStepRule=function(t){var n=this;e.Log.verbose(8,"onRunStepRule"),t.currentModuleId=this._moduleId;var r=this;return new Promise(function(i,o){if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");if(t.selectedTrack||null===t.requestedStream.streamingInfo.lastDownloadedTrack||0!==t.requestedStream.type)return void i();t.requestedStream!==n._currentSelectedVideoStream&&(r._currentSelectedVideoStream=t.requestedStream,r._previousTrackSelected=null),t.requestedStream.streamingInfo.lastDownloadedTrack===r._previousTrackSelected?r._currentTrackSegmentCount++:(r._previousTrackSelected=t.requestedStream.streamingInfo.lastDownloadedTrack,r._currentTrackSegmentCount=1);var a=r._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeDowngrade,s=r._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeUpgrade,l=t.requestedStream.tracks.indexOf(r._previousTrackSelected),u=l,d=l;a&&t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality>0&&(u=Math.max(0,l-t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality)),s&&t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality>0&&(d=Math.min(t.heuristicData.tracksData.length-1,l+t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality));for(var c=0;c<t.heuristicData.tracksData.length;c++)(c>d||u>c)&&(t.heuristicData.tracksData[c].selectable=!1);i()})},t}();t.StepRule=n}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="windowSizeRule",this._disposed=!1,this._windowHeight=0,this._windowWidth=0,this._highestTrackIndexAllowed=0,this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0,this._currentSelectedVideoStream=null},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunWindowSizeRule,this)},t.prototype.onRunWindowSizeRule=function(t){e.Log.verbose(8,"onRunWindowSizeRule"),t.currentModuleId=this._moduleId;var n=!1,r=this;return new Promise(function(i,o){if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");if(t.selectedTrack||!t.sessionContext.heuristicSettings.windowSizeHeuristicsEnabled||0!==t.requestedStream.type)return void i();t.requestedStream!==r._currentSelectedVideoStream&&(r._currentSelectedVideoStream=t.requestedStream,r._highestTrackIndexAllowed=0);var a,s;if(t.sessionContext.heuristicSettings.useBrowserWindowForWindowSizeRule?(a=window.innerWidth,s=window.innerHeight):(a=Math.max(t.sessionContext.videoTag.scrollWidth,t.sessionContext.videoTag.width),s=Math.max(t.sessionContext.videoTag.scrollHeight,t.sessionContext.videoTag.height)),0===s||0===a)return e.Log.warning(8,"Ignoring window size heuristic rule, as one of the window dimensions is 0."),void i();(r._windowWidth!==a||r._windowHeight!==s)&&((r._windowWidth<a||r._windowHeight<s)&&(n=!0),r._windowWidth=a,r._windowHeight=s,r._highestTrackIndexAllowed=0);for(var l=t.heuristicData.tracksData,u=!1,d=0,c=0,p=r._highestTrackIndexAllowed;p<l.length;p++)l[p].selectable&&l[p].trackInfo.width>a&&l[p].trackInfo.height>s&&(u?l[p].trackInfo.width==d&&l[p].trackInfo.height==c?r._highestTrackIndexAllowed=p:l[p].selectable=!1:(u=!0,r._highestTrackIndexAllowed=p,d=l[p].trackInfo.width,c=l[p].trackInfo.height));u||(r._highestTrackIndexAllowed=l.length-1),n&&t.requestedStream.streamingInfo.lastDownloadedTrack&&l[r._highestTrackIndexAllowed].trackInfo.bitrate>t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate&&t.sessionContext.eventMgr.dispatchEvent(e.InternalEventName.flushvideo),i()})},t}();t.WindowSizeRule=n}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n;!function(e){e[e.success=200]="success",e[e.notFound=404]="notFound",e[e.badGateway=502]="badGateway"}(n||(n={}));var r=function(){function t(t){this._moduleId="httpDataRetriever",this._requestList=[],this._disposed=!1,this._bandwidthRequest=null,this._bandwidthData=new e.Heuristics.BandwidthTracker(t.heuristicSettings.bandwidth,t.decryptionTracker),t.videoBufferData.updateBandwidthTracker(this._bandwidthData)}return t.prototype.dispose=function(){for(;this._requestList.length>0;){var e=this._requestList.pop();e.request=null,e=null}this._bandwidthRequest=null,this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0],n=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onGetData,this),t.addHandler(t.stepEvents.requestEnd,this.onGetData,this),n.addHandler(n.stepEvents.requestBegin,this.onReportHeuristicData,this),n.addHandler(n.stepEvents.requestSend,this.onGetData,this)},t.prototype.onReportHeuristicData=function(t){e.Log.verbose(5,"onReportHeuristicData"),t.currentModuleId=this._moduleId;var n=this;return new Promise(function(r,i){return n._disposed?(e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("object is already disposed.")):0!==t.requestedStream.type?void r():(n._bandwidthData.reportHeuristicsData(t.heuristicData,e.StreamUtil.getSegmentDuration(t)),void r())})},t.prototype.getResponseHeaders=function(e,t){for(var n=t.sessionContext.headers||[],r={},i=0;i<n.length;i++)r[n[i]]=e.getResponseHeader(n[i]);return r},t.prototype.onGetData=function(n){e.Log.verbose(5,"onGetData"),n.currentModuleId=this._moduleId;var r=this;return new Promise(function(a,s){function l(){if(e.assert(null!=n.urlsToRetrieve[v],"Failed to start the download as urlToRetrieve at index "+v+" is null"),e.assert(null!=n.urlsToRetrieve[v].url&&n.urlsToRetrieve[v].url.length>0,"Failed to start the download as urlToRetrieve at index "+v+" is empty"),n.requestedStream&&(n.requestedStream.streamingInfo.abortCurrentRequest=!1),r._bandwidthRequest&&r._bandwidthRequest.req.streamId===n.urlsToRetrieve[v].streamId&&r._bandwidthRequest.req.presTimeInSec===n.urlsToRetrieve[v].presTimeInSec){var i=n.heuristicData.tracksData.findFirst(function(e){return e.trackInfo.bitrate===r._bandwidthRequest.req.bitrate});i&&r._bandwidthRequest.req.bitrate>=n.urlsToRetrieve[v].bitrate?2===n.urlsToRetrieve[v].requestType?r._bandwidthRequest.req.bitrate!==n.urlsToRetrieve[v].bitrate&&(e.Log.verbose(5,"Switching init segment request "+n.urlsToRetrieve[v].url+" to "+r._bandwidthRequest.req.bitrate),n.urlsToRetrieve[v].bitrate=r._bandwidthRequest.req.bitrate,n.urlsToRetrieve[v].url=e.Util.UrlFormatter.FormatDashInitUrl(n.requestedStream.initUrlTemplate,r._bandwidthRequest.req.bitrate.toString(),n.sessionContext.presentationQueryStr),n.selectedTrack=i.trackInfo):(e.Log.verbose(5,"Reusing bandwidth request "+r._bandwidthRequest.req.url),n.urlsToRetrieve[v].dispose(),n.urlsToRetrieve[v]=r._bandwidthRequest.req,1===n.workflowType&&e.StreamUtil.getBufferData(n).dispatchDownloadCompleted(m(v),r._bandwidthRequest.info,r._bandwidthRequest.headers),r._bandwidthRequest=null):(r._bandwidthRequest.req.dispose(),r._bandwidthRequest=null)}if(0===n.urlsToRetrieve[v].responseType&&null!=n.urlsToRetrieve[v].mediaData||4===n.urlsToRetrieve[v].responseType&&null!=n.urlsToRetrieve[v].presentationData){if(4===n.urlsToRetrieve[v].responseType&&null!=n.sessionContext.commonPresentation){var a=n.sessionContext.httpDataRetrieverSettings,s=1e3*n.sessionContext.commonPresentation.maxSegmentDuration;a.timeoutInMSec=Math.max(a.timeoutInMSec,2*s),a.timeoutInMSec=Math.min(a.timeoutInMSec,a.maxTimeoutInMSec),e.Log.verbose(5,"Setting data retriever timeout: "+a.timeoutInMSec+" ms")}v++,v>=n.urlsToRetrieve.length?g(null):l()}else{1===n.workflowType&&e.StreamUtil.getBufferData(n).dispatchDownloadRequested(m(v));var f=n.sessionContext.createXmlHttpRequest();f.open("GET",n.urlsToRetrieve[v].url),f.onreadystatechange=u,f.onprogress=d,f.onload=c,f.onerror=p,f.ontimeout=h,f.onabort=p,0===n.urlsToRetrieve[v].responseType&&(f.responseType=e.Context.ResponseType[0]),f.msCaching&&(f.msCaching="disabled"),f.timeout=n.sessionContext.httpDataRetrieverSettings.timeoutInMSec;var y=new o(n.urlsToRetrieve[v],f);if(n.requestedStream&&0==n.requestedStream.type&&n.selectedTrack?e.Log.verbose(5,"HeuristicInfo: SuggestedBr: "+n.selectedTrack.bitrate+" CurrentBw: "+Math.floor(1e3*r._bandwidthData.latestInKbps)+" AverageBw: "+Math.floor(1e3*r._bandwidthData.averageBandwidthInKbps)+" BufferSize: "+n.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()+" StreamType: "+e.Presentation.StreamType[n.requestedStream.type]+" StreamName: "+n.requestedStream.language+" Index: "+n.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" TimeInMS: "+n.requestedStream.streamingInfo.currentSegment.segmentInfo.presTimeInSec+" MediaTimeStamp: "+n.requestedStream.streamingInfo.currentSegment.segmentInfo.mediaTimestamp+" Index: "+n.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" Duration: "+(n.requestedStream.streamingInfo.currentSegment.segmentInfo.durationInSec||0)+" Url: "+n.urlsToRetrieve[v].url+" TimeoutInMS: "+n.sessionContext.httpDataRetrieverSettings.timeoutInMSec):0===n.workflowType&&e.Log.verbose(5,"Getting "+n.urlsToRetrieve[v].url),r._requestList.push(y),e.Common.isEdge){var _=function(n){if(!r._disposed&&n.urlRequest.url){var i=Date.now();e.Log.verbose(5,"Network req check: time since last progress: "+(i-n.lastProgressTimestamp)+" ,"+n.networkRequestCheckTimerId+", "+n.urlRequest.url),
i-n.lastProgressTimestamp>f.timeout?(e.Log.verbose(5,"Stale http request with failed timeout. Aborting request: "+n.networkRequestCheckTimerId+", "+n.urlRequest.url),n.abortRequest()):n.networkRequestCheckTimerId=e.Util.setTimeout(_,t._networkRequestCheckPeriodInMSec,n)}};1===n.workflowType&&(y.networkRequestCheckTimerId=e.Util.setTimeout(_,t._networkRequestCheckPeriodInMSec,y))}f.send()}}function u(){var t=this;if(!r._disposed){var n=r._requestList.findFirst(function(e){return e.request===t});e.assert(null!=n,"cannot find the request in the request queue"),n.request.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!n.bandwidthInfo.responseStartTimeInMS&&(n.bandwidthInfo.responseStartTimeInMS=Date.now(),n.request.onreadystatechange=null)}}function d(t){var i=this;if(!r._disposed){var o=Date.now(),a=r._requestList.findFirst(function(e){return e.request===i});if(e.assert(null!=a,"cannot find the request in the request queue"),a.lastProgressTimestamp=o,!(e.Common.isSafari&&e.Common.isOSXElCapitanOrEarlier()&&a.getIsAbortInProgress())){if(a.request.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!a.bandwidthInfo.responseStartTimeInMS&&(a.bandwidthInfo.responseStartTimeInMS=o),n.requestedStream&&n.requestedStream.streamingInfo.abortCurrentRequest&&a.request.readyState<4)return a.abortRequest(),void e.Log.verbose(5,"Aborting request: "+a.urlRequest.url);if(0===t.loaded){var s=a.bandwidthInfo.responseStartTimeInMS,l=n.sessionContext.httpDataRetrieverSettings.noDataTimeoutInMSec;if(o-s>l)return a.abortRequest(),void e.Log.verbose(5,"Aborting request after timeout with no data received: "+a.urlRequest.url)}if(3===a.urlRequest.requestType){var s=a.bandwidthInfo.responseStartTimeInMS,l=n.sessionContext.httpDataRetrieverSettings.initBandwidthTimeoutInMSec;if(o-s>l){a.bandwidthInfo.responseLengthInBytes=t.loaded,a.bandwidthInfo.responseEndTimeInMS=o;var u=n.sessionContext&&n.sessionContext.commonPresentation&&n.sessionContext.commonPresentation.isLive;r._bandwidthData.updateBandwidthInfo(a.bandwidthInfo,u,a.urlRequest,n),a.abortRequest(),e.Log.verbose(5,"Aborting init bandwidth request due to timeout: "+a.urlRequest.url)}}}}}function c(){var t=this;if(!r._disposed){var o=r._requestList.findFirst(function(e){return e.request===t});e.assert(null!=o,"cannot find the request in the request queue"),o.bandwidthInfo.responseEndTimeInMS=Date.now(),r.stopNetworkRequestCheck(o);var a=n.urlsToRetrieve.indexOf(o.urlRequest);if(n.urlsToRetrieve[a].httpResposeContentType=this.getResponseHeader("Content-Type"),n.urlsToRetrieve[a].httpResponseCode=this.status,200===this.status){switch(r._requestList.removeFirst(function(e){return e.request===t}),o.urlRequest.responseType){case 0:n.urlsToRetrieve[a].mediaData=this.response,o.bandwidthInfo.responseLengthInBytes=n.urlsToRetrieve[a].mediaData.byteLength;var s=r.getResponseHeaders(this,n);1===n.workflowType?e.StreamUtil.getBufferData(n).dispatchDownloadCompleted(m(a),o.bandwidthInfo,s):(r._bandwidthRequest=new i(n.urlsToRetrieve[a].clone(),o.bandwidthInfo,s),r._bandwidthRequest.req.requestType=1,n.sessionContext.eventMgr.dispatchEvent(e.EventName.initialBandwidthEstimationCompleted));break;case 4:n.urlsToRetrieve[a].presentationData=this.response,o.bandwidthInfo.responseLengthInBytes=n.urlsToRetrieve[a].presentationData.length,n.sessionContext.eventMgr.dispatchEvent(e.EventName.manifestFetchCompleted);break;default:e.assert(!1,"Unexpected response Type in the request Context")}var u=this.getResponseHeader("Content-Length");if(null===u&&(u="unknown"),e.Log.verbose(5,"Download Finished for : "+o.urlRequest.url+" with bytes: "+o.bandwidthInfo.responseLengthInBytes+", contentLength: "+u),n.requestedStream){var d=n.sessionContext&&n.sessionContext.commonPresentation&&n.sessionContext.commonPresentation.isLive;r._bandwidthData&&0===n.requestedStream.type&&r._bandwidthData.updateBandwidthInfo(o.bandwidthInfo,d,o.urlRequest,n),n.requestedStream.streamingInfo.lastDownloadedTrack=n.selectedTrack}if(v++,e.Log.verbose(5,"index="+v+", urlsToRetrieve.length="+n.urlsToRetrieve.length),v>=n.urlsToRetrieve.length)return void g(o);e.Log.verbose(5,"Next request to process: "+n.urlsToRetrieve[v].url),l()}else e.Log.error(5,o.urlRequest.url+" failed, httpStatus: "+this.status),f.call(this,e.Failure.translateHttpStatusToCode(this.status))}}function p(t){if(!r._disposed){var n=2097152;"error"===t.type?n=e.Common.clientIsOffline()?2097755:2097753:"abort"===t.type&&(n=2097754),f.call(this,n,"http: "+t.type)}}function h(t){var i=this;if(!r._disposed){var o=r._requestList.findFirst(function(e){return e.request===i});if(e.assert(null!=o,"cannot find the request in the request queue"),t.loaded&&1===o.urlRequest.requestType){var a=n.sessionContext&&n.sessionContext.commonPresentation&&n.sessionContext.commonPresentation.isLive;o.bandwidthInfo.responseLengthInBytes=t.loaded,o.bandwidthInfo.responseEndTimeInMS=Date.now(),r._bandwidthData.updateBandwidthInfo(o.bandwidthInfo,a,o.urlRequest,n)}f.call(this,2097752,"http timed out")}}function f(t,i){var o=this,a=r._requestList.removeFirst(function(e){return e.request===o});!e.Common.isFirefox&&e.Common.isSafari&&e.Common.isOSXElCapitanOrEarlier()||e.assert(null!=a,"cannot find the request in the request queue");var s=!1;n.requestedStream&&n.requestedStream.streamingInfo.abortCurrentRequest&&(n.requestedStream.streamingInfo.abortCurrentRequest=!1,s=!0);var l=null!=a?a.urlRequest.url:"no details info";i&&(l+=", "+i);var u=new e.Failure.Record(n.currentModuleId,t,l);if(e.Log.error(5,u.toString()),null!=a)if(n.requestedStream){-1!==n.urlsToRetrieve.findIndexOf(function(e){return 2===e.requestType})&&(n.requestedStream.streamingInfo.fetchInitSegment=!0);var d=n.urlsToRetrieve.indexOf(a.urlRequest);if(1===n.workflowType&&e.StreamUtil.getBufferData(n).dispatchDownloadFailed(m(d),t,i),2097556===t&&n.sessionContext.commonPresentation.isLive&&n.requestedStream.streamingInfo&&n.requestedStream.streamingInfo.currentSegment&&!n.requestedStream.streamingInfo.currentSegment.next){var c=n.requestedStream.streamingInfo.currentSegment.segmentInfo,p=c?c.presTimeInSec:null;n.requestedStream.streamingInfo.currentSegment=n.requestedStream.streamingInfo.currentSegment.prev,n.failTracker.reset(),e.Log.verbose(5,"hit past live edge with 404: "+(i?i+", ":"")+"presTimeInSec: "+p+" "+a.urlRequest.url),n.externalFailure=u,y(a)}else if(2097564===t&&n.sessionContext.commonPresentation.isLive&&n.requestedStream.streamingInfo&&n.requestedStream.streamingInfo.currentSegment&&!n.requestedStream.streamingInfo.currentSegment.next){if(n.state=2,n.retryWaitTimeMSec=n.sessionContext.httpRetryPolicySettings.retryMediaInMSec,n.failTracker.log(u,n.selectedTrack,n.requestedStream.type),2!==n.requestedStream.type){var h=n.sessionContext.httpDataRetrieverSettings.liveEdgeAdjustmentInSec;n.sessionContext.commonPresentation.adjustPlayableWindow(h)}else n.retryWaitTimeMSec=n.sessionContext.httpRetryPolicySettings.retryDueTo412InTextTrackInMSecDefault;var c=n.requestedStream.streamingInfo.currentSegment.segmentInfo,p=c?c.presTimeInSec:null;e.Log.verbose(5,"hit past live edge with 412: "+(i?i+", ":"")+"presTimeInSec: "+p+" "+a.urlRequest.url),g(a)}else 0!==n.workflowType&&a&&a.urlRequest&&3!==a.urlRequest.requestType&&(n.state=2,n.failTracker.log(u,n.selectedTrack),n.failTracker.noDataReceivedFailure=!a.bandwidthInfo.responseLengthInBytes,n.retryWaitTimeMSec=n.failTracker.isLastServerError()?n.sessionContext.httpRetryPolicySettings.retryMediaServerErrorInMSec:2097753===t||2097755===t?n.sessionContext.httpRetryPolicySettings.retryDueToNetworkErrorInMSec:0),e.Log.error(5,"failed to download: "+(i?i+", ":"")+a.urlRequest.url),g(a)}else 0!==n.workflowType||2097556!==t&&2097752!==t&&2097753!==t&&2097755!==t?(n.externalFailure=u,e.Log.error(5,"failed to download: "+(i?i+", ":"")+a.urlRequest.url),y(a)):(n.state=2,n.retryWaitTimeMSec=2097556===t?n.sessionContext.httpRetryPolicySettings.retryPresentationInMSec:2097753===t||2097755===t?n.sessionContext.httpRetryPolicySettings.retryDueToNetworkErrorInMSec:0,n.failTracker.log(u),e.Log.error(5,"failed to download: "+(i?i+", ":"")+a.urlRequest.url),g(a));s&&n.failTracker.reset()}function m(t){var r=n.urlsToRetrieve[t],i=n.requestedStream.presentationTimeOffsetInSec,o=n.requestedStream.streamingInfo.currentSegment.segmentInfo,a=2===r.requestType?null:o.mediaTimestamp/o.timescale;return new e.Context.MediaDownload(r.url,n.selectedTrack.bitrate,a,r.mediaData,i,o.timescale,o.durationInSec)}function g(e){e&&r.stopNetworkRequestCheck(e),a()}function y(e,t){e&&r.stopNetworkRequestCheck(e),t?s(t):s()}if(r._disposed)return e.Failure.attachFailureToRequest(n,n.currentModuleId,0),void y(null,"object is already disposed.");e.assert(0!==n.urlsToRetrieve.length,"Failed to start the download as urlsToRetrieve is empty.");var v=0;l()})},t.prototype.stopNetworkRequestCheck=function(t){t.networkRequestCheckTimerId&&(e.Util.clearTimeout(t.networkRequestCheckTimerId),t.networkRequestCheckTimerId=0)},t._networkRequestCheckPeriodInMSec=2e3,t}();t.HttpDataRetriever=r;var i=function(){function e(e,t,n){this.req=e,this.info=t,this.headers=n}return e}(),o=function(){function t(t,n){this.urlRequest=t,this.request=n,this.bandwidthInfo=new e.Heuristics.BandwidthInfo,this.abortStarted=!1,this.lastProgressTimestamp=Date.now(),this.networkRequestCheckTimerId=0}return t.prototype.abortRequest=function(){this.abortStarted=!0,this.request.abort()},t.prototype.getIsAbortInProgress=function(){return this.abortStarted},t}()}(e.DataRetriever||(e.DataRetriever={})),e.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n;!function(e){e[e.noRetry=0]="noRetry",e[e.nextTrack=1]="nextTrack",e[e.nextTrackDown=2]="nextTrackDown",e[e.nextSegment=3]="nextSegment",e[e.same=4]="same"}(n||(n={}));var r=function(){function t(){this._moduleId="httpRetryPolicy",this._disposed=!1}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0)},t.prototype.init=function(e){var t=e.workflows[0],n=e.workflows[1];t.addHandler(n.stepEvents.requestBegin,this.onPresentationRetry,this),n.addHandler(n.stepEvents.requestBegin,this.onMediaRetry,this)},t.prototype.onPresentationRetry=function(t){var r=this;return e.Log.verbose(5,"onPresentationRetry"),t.currentModuleId=this._moduleId,new Promise(function(i,o){if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");var a=t.failTracker,s=t.sessionContext.httpRetryPolicySettings;if(a.isNone())return void i();var l=r._getAction(0,s,t);switch(l){case 0:return t.externalFailure=a.lastFailure,e.Log.verbose(5,"onPresentationRetry: noRetry, "+t.urlsToRetrieve[0].url),void o();case 4:a.sameRequestRetried++;break;default:throw new Error("unexpected retry action: "+l)}a.totalRetried++,e.Log.verbose(5,"onPresentationRetry: "+n[l]+" URL: "+t.urlsToRetrieve[0].url),i()})},t.prototype.onMediaRetry=function(t){var r=this;return e.Log.verbose(5,"onMediaRetry"),t.currentModuleId=this._moduleId,new Promise(function(i,o){if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");if(!t.requestedStream)return void i();var a=t.failTracker,s=t.requestedStream.streamingInfo,l=t.sessionContext.httpRetryPolicySettings;if(a.isNone()||null!==s.pendingSeekPositionInSec)return void i();0===a.totalRetried&&(a.tracksToTry=r._createTrackToTry(l,t.requestedStream,a.lastTrack));var u=r._getAction(1,l,t);switch(u){case 0:return t.externalFailure=a.lastFailure,e.Log.verbose(5,"onMediaRetry: noRetry,mediaTimestamp: "+s.currentSegment.segmentInfo.mediaTimestamp),void o();case 1:case 2:var d,c;a.sameRequestRetried++,t.selectedSegment=s.currentSegment,c=a.trackToTryIdx<a.tracksToTry.length-1?a.trackToTryIdx+1:0,d=a.tracksToTry[c],(1===u||d.bitrate<a.lastTrack.bitrate)&&(a.trackToTryIdx=c),t.selectedTrack=a.tracksToTry[a.trackToTryIdx];break;case 3:if(!s.currentSegment.next)return t.externalFailure=a.lastFailure,t.sessionContext&&t.sessionContext.commonPresentation&&t.sessionContext.commonPresentation.isLive?a.reset():e.Log.verbose(5,"onRetry: noRetry, EOS mediaTimestamp: "+s.currentSegment.segmentInfo.mediaTimestamp),void o();s.currentSegment=s.currentSegment.next,a.segmentsSkipped++,a.resetForSegment(),t.selectedSegment=s.currentSegment,t.selectedTrack=a.tracksToTry[0];break;case 4:a.sameRequestRetried++,t.selectedSegment=s.currentSegment,t.selectedTrack=a.tracksToTry[0];break;default:throw new Error("unexpected retry action: "+u)}a.totalRetried++,e.Log.verbose(5,"onRetry: "+n[u]+" bitrate: "+t.selectedTrack.bitrate+" mediaTimestamp: "+t.selectedSegment.segmentInfo.mediaTimestamp),i()})},t.prototype._getAction=function(e,t,n){var r=0,i=!1,o=n.failTracker;if(n.sessionContext&&n.sessionContext.commonPresentation&&(i=n.sessionContext.commonPresentation.isLive),0===e)r=o.sameRequestRetried>=t.maxRetryPresentation?0:4;else if(o.totalRetried>=t.maxTotalRetries&&2!==o.lastStreamType||o.segmentsSkipped>=t.maxSkipSegments&&(o.trackToTryIdx>=o.tracksToTry.length-1||o.sameRequestRetried>=t.maxRetryPerSegment))r=t.infiniteSegmentRetryForPreconditionFailed&&i&&this._isLiveEdge(n)&&o.isLastNotReady()?4:0;else if(o.isSegmentDecryptionError()||o.isLastNotFound()||o.isLastNotReady()&&i&&!this._isLiveEdge(n))r=o.trackToTryIdx<o.tracksToTry.length-1&&o.sameRequestRetried<t.maxRetryPerSegment?1:3;else if(i&&this._isLiveEdge(n)&&o.isLastNotReady())r=4,o.sameRequestRetried>=t.maxRetryPerSegment&&2!==o.lastStreamType&&!t.infiniteSegmentRetryForPreconditionFailed&&(r=0);else if(o.isLastServerError())r=1;else if(o.isLastNetworkFail()){var a=i&&this._isLiveEdge(n)&&o.isLastNetworkDown()?3*t.maxRetryPerSegment:t.maxRetryPerSegment;r=o.sameRequestRetried<a?o.noDataReceivedFailure?4:2:3}else r=0;return r},t.prototype._isLiveEdge=function(e){var t=!1;if(!e.requestedStream||!e.requestedStream.streamingInfo)return t;var n=e.requestedStream.streamingInfo.currentSegment;return t=!(!n||n.next)},t.prototype._createTrackToTry=function(e,t,n){var r=[],i=t.tracks.indexOf(n),o=t.tracks.length;r.push(t.tracks[i]);for(var a=i-1;a>=0;a--)t.tracks[a].streamingInfo.selectable&&r.push(t.tracks[a]);if(!e.retryLowerBitrateOnly)for(var a=i+1;o>a;a++)t.tracks[a].streamingInfo.selectable&&r.push(t.tracks[a]);return r},t}();t.HttpRetryPolicy=r}(e.DataRetriever||(e.DataRetriever={})),e.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n;!function(e){e[e.success=200]="success",e[e.notFound=404]="notFound",e[e.badGateway=502]="badGateway"}(n||(n={}));var r=function(){function t(){this._moduleId="InitialBandwidthDataUrlFormatter",this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onPreFetchUrlFormat,this)},t.prototype.onPreFetchUrlFormat=function(t){e.Log.verbose(6,"OnPreFetchUrlFormat"),t.currentModuleId=this._moduleId;var n=this;return new Promise(function(r,i){if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("object is already disposed.");if(!t.sessionContext.heuristicSettings.preFetchDataEnabled)return void r();var o=t.sessionContext.commonPresentation.periods[0].streams,a=o.findFirst(function(e){return 0===e.type});if(t.requestedStream=a,!t.requestedStream)return void r();var s=n.getBitrate(t);if(!s)throw new Error("bitrate of video track not set in presentation");var l=t.requestedStream.mediaUrlTemplate;if(!l)throw new Error("media url template is not set for the video stream");var u,d=a.segments;u=t.sessionContext.commonPresentation.isLive?d.last.segmentInfo:d.first.segmentInfo;var c=e.Util.UrlFormatter.FormatDashMediaUrl(l,s.toString(),u.mediaTimestampStr,t.sessionContext.presentationQueryStr),p=new e.Context.UrlRequest(c,3,0,a.id,s,u.presTimeInSec,u.durationInSec);t.urlsToRetrieve.push(p),t.sessionContext.heuristicSettings.preFetchDataEnabled=!1,r()})},t.prototype.getBitrate=function(e){var t=Math.max(e.sessionContext.videoTag.scrollWidth,e.sessionContext.videoTag.width),n=Math.max(e.sessionContext.videoTag.scrollHeight,e.sessionContext.videoTag.height),r=0;if(n>0&&t>0){for(var i=e.requestedStream.tracks,o=0,a=0,s=0;s<i.length;s++)if(i[s].selectable&&(!r&&i[s].width>t&&i[s].height>n||r&&o===i[s].width&&a===i[s].height))r=i[s].bitrate,o=i[s].width,a=i[s].height;else if(r)break;if(0==r){for(var s=i.length-1;s>=0&&i[s].selectable&&(i[s].width>t||i[s].height>n);s--)r=i[s].bitrate;0==r&&i.length>0&&(r=i[i.length-1].bitrate)}}if(0==r)if(e.sessionContext.heuristicSettings.preFetchDataMiddle){var l;l=Math.round(e.requestedStream.tracks.length/2)-1,r=e.requestedStream.tracks[l].bitrate}else r=e.requestedStream.tracks[0].bitrate;return r},t}();t.InitialBandwidthDataUrlFormatter=r}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="streamSelector",this._disposed=!1,this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onSelectStreams,this)},t.prototype.onSelectStreams=function(t){var n=this;return t.currentModuleId=this._moduleId,new Promise(function(r,i){var o=!1,a=!1,s=!1,l=null,u=!1,d=t.sessionContext.commonPresentation;if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("Disposed");if(!n._initial)return void r();if(!d)throw new Error("CommonPresentation is empty");d.periods[0].streams.forEach(function(e){e.streamingInfo.selected=!1});for(var c=d.periods[0].streams.length-1;c>=0;c--)0!==d.periods[0].streams[c].type||o?1===d.periods[0].streams[c].type?(d.periods[0].streams[c].streamingInfo.supported=MediaSource.isTypeSupported&&MediaSource.isTypeSupported(d.periods[0].streams[c].codec)||d.periods[0].streams[c].codec.indexOf("aac")>-1||d.periods[0].streams[c].codec.indexOf("mp4a")>-1,a&&s||!d.periods[0].streams[c].streamingInfo.supported||(a?!s&&d.periods[0].streams[c].codec.indexOf("ec-3")>-1&&(s=!0,null!==l&&(l.streamingInfo.selected=!1),d.periods[0].streams[c].streamingInfo.selected=!0):(a=!0,d.periods[0].streams[c].streamingInfo.selected=!0,l=d.periods[0].streams[c],d.periods[0].streams[c].codec.indexOf("ec-3")>-1&&(s=!0)))):2!==d.periods[0].streams[c].type||u||(u=!0,d.periods[0].streams[c].streamingInfo.selected=!0):(o=!0,d.periods[0].streams[c].streamingInfo.selected=!0);return o||a?(n._initial=!1,void r()):(e.Failure.attachFailureToRequest(t,t.currentModuleId,4194307),void i("Neither video nor audio streams are found"))})},t}();t.InitialStreamSelector=n}(e.Presentation||(e.Presentation={})),e.Presentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function e(e,t,n,r,i){this.index=e,this._timescale=i,this._presentationOffset=r,this._mediaTimestampStr=t,this._mediaTimestamp=parseInt(t),this._presTimeInSec=(this._mediaTimestamp+r)/i,n&&(this._mediaDuration=n,this._durationInSec=n/i)}return Object.defineProperty(e.prototype,"timescale",{get:function(){return this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationOffset",{get:function(){return this._presentationOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaTimestampStr",{get:function(){return this._mediaTimestampStr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaTimestamp",{get:function(){return this._mediaTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaDuration",{get:function(){return this._mediaDuration},set:function(e){this._mediaDuration=e,this._durationInSec=e/this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presTimeInSec",{get:function(){return this._presTimeInSec},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationInSec",{get:function(){return this._durationInSec},enumerable:!0,configurable:!0}),e.prototype.update=function(e,t){e&&(this.index+=e),this._presentationOffset!==t&&(this._presentationOffset=t,this._presTimeInSec=(this._mediaTimestamp+t)/this._timescale)},e}();t.MediaSegmentInfo=n;var r=function(){function e(e,t,r,i,o,a){this.firstSegment=new n(e,t,r,i,o),this.repeat=a,this.containerIndex=NaN}return e}();t.SegmentRunEntry=r;var i=function(){function t(t,r,i){this._container=t,this._pubTime=t.pubTime,this._runEntry=r,this._runEntryRepeatPosition=i;var o=r.firstSegment.mediaTimestampStr;i&&(o=e.Timestamp.add(o,i*r.firstSegment.mediaDuration)),this.segmentInfo=new n(r.firstSegment.index+i,o,r.firstSegment.mediaDuration,t.presentationTimeOffset,t.timescale)}return t.prototype.dispose=function(){this.segmentInfo=null,this._container=null,this._pubTime=null,this._runEntry=null,this._runEntryRepeatPosition=NaN},Object.defineProperty(t.prototype,"next",{get:function(){if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;var n=this._runEntry,r=0;if(this._runEntryRepeatPosition+1>this._runEntry.repeat){var i=this._runEntry.containerIndex+1;if(!(i<this._container.segmentTable.length))return e.Log.verbose(4,"Cannot get next iterator"),null;n=this._container.segmentTable[i]}else r=this._runEntryRepeatPosition+1;return new t(this._container,n,r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;var n,r=this._runEntry;if(0===this._runEntryRepeatPosition){var i=this._runEntry.containerIndex-1;if(!(i>=0&&i<this._container.segmentTable.length))return e.Log.warning(4,"Cannot get previous iterator"),null;r=this._container.segmentTable[i],n=r.repeat}else n=this._runEntryRepeatPosition-1;return new t(this._container,r,n)},enumerable:!0,configurable:!0}),t.prototype._updateIterator=function(){if(this._container.pubTime.getTime()>this._pubTime.getTime()){this._pubTime=this._container.pubTime;for(var t=this._runEntry.containerIndex,n=this._container.segmentTable[t];!n&&t>0;)t--,n=this._container.segmentTable[t];if(n){if(n.firstSegment.index<=this.segmentInfo.index&&this.segmentInfo.index<=n.firstSegment.index+n.repeat)return this._runEntry=n,this._runEntryRepeatPosition=this.segmentInfo.index-n.firstSegment.index,void this._updateInfo();if(this.segmentInfo.index>n.firstSegment.index+n.repeat&&this._container.segmentTable.length>t+1){var r=this._container.segmentTable[t+1];if(this.segmentInfo.index<=r.firstSegment.index+r.repeat)return this._runEntry=r,this._runEntryRepeatPosition=this.segmentInfo.index-r.firstSegment.index,void this._updateInfo()}}var i=this._container.getByIndex(this.segmentInfo.index);if(!i)return e.Log.warning(4,"Referenced segment not found in presentation, disposing iterator"),void this.dispose();this._runEntry=i._runEntry,this._runEntryRepeatPosition=i._runEntryRepeatPosition,this._updateInfo()}},t.prototype._updateInfo=function(){var e=this._container.getByIndex(this.segmentInfo.index);if(e){var t=e.segmentInfo;(this.segmentInfo.mediaTimestampStr!==t.mediaTimestampStr||this.segmentInfo.mediaDuration!==t.mediaDuration)&&(this.segmentInfo=new n(t.index,t.mediaTimestampStr,t.mediaDuration,t.presentationOffset,t.timescale))}},t}();t.MediaSegmentInfoIterator=i;var o=function(){function n(e,t,n,r){this.maxSegmentDuration=0,this.timescale=e,this.presentationTimeOffset=t,this.pubTime=n,this.segmentTable=[],this._isLive=r}return n.prototype.dispose=function(){this.segmentTable.length=0},Object.defineProperty(n.prototype,"first",{get:function(){var e=null;return this.segmentTable.length>0&&(e=new i(this,this.segmentTable[0],0)),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){var e,t=null;return this.segmentTable.length>0&&(e=this.segmentTable[this.segmentTable.length-1],t=new i(this,e,e.repeat)),t},enumerable:!0,configurable:!0}),n.prototype.addMediaSegmentRun=function(t){var n=null,i=0;if(this.segmentTable.length>0){n=this.segmentTable[this.segmentTable.length-1],i=n.firstSegment.mediaTimestamp+n.firstSegment.mediaDuration*(n.repeat+1);var o=e.Common.timestampDeltaThreshold*this.timescale;if(i-t.firstSegment.mediaTimestamp>o)if(0===t.repeat)e.Log.warning(4,"Discontinuities detected at: "+t.firstSegment.mediaTimestamp);else{var a,s=t.firstSegment;for(a=1;a<=t.repeat;a++){var l=s.mediaTimestamp+s.mediaDuration*a;if(!(i>l)){var u=new r(s.index,l.toString(),s.mediaDuration,s.presentationOffset,s.timescale,t.repeat-a);t=u;break}}}}return t?(t.containerIndex=this.segmentTable.length,this.segmentTable.push(t),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,t.firstSegment.durationInSec||0),e.Log.verbose(4,"Added segment with idx="+t.firstSegment.index+" mt="+t.firstSegment.mediaTimestamp+" pt="+t.firstSegment.presTimeInSec.toFixed(7)+" r="+t.repeat+(t.firstSegment.durationInSec?" d="+t.firstSegment.durationInSec.toFixed(7):"")),t.repeat+1):0},n.prototype.addMediaSegmentInfo=function(e,n,r,i,o){var a;if(this.segmentTable.length>0&&NaN===this.segmentTable[this.segmentTable.length-1].firstSegment.mediaDuration)throw new Error("Failed to add segment: previous entry doesn't have duration");a=new t.SegmentRunEntry(e,n,r,i,o,0),this.addMediaSegmentRun(a)},n.prototype.updateSegmentDuration=function(t,n){var r,i;if(0===this.segmentTable.length)return!1;if(r=this.segmentTable[this.segmentTable.length-1],r.firstSegment.presTimeInSec!==t){if(i=e.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),-1===i)return e.Log.verbose(4,"Failed to update segment duration, run entry with presentation time "+t+" not found"),!1;r=this.segmentTable[i]}return r.firstSegment.mediaDuration!==n&&(e.assert(!r.firstSegment.mediaDuration&&0===r.repeat,"Failed to update segment duration, run entry (s:"+r.firstSegment.presTimeInSec+" d:"+r.firstSegment.durationInSec+" r:"+r.repeat+") cannot be overwritten by segment (s:"+t+" d:"+n/this.timescale+")"),r.firstSegment.mediaDuration=n),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,r.firstSegment.durationInSec||0),!0},n.prototype.getByIndex=function(t){var n,r=null;if(0===this.segmentTable.length)return null;if(n=e.Common.binarySearch(t,this.segmentTable,this._compareIndex),-1!==n){var o=this.segmentTable[n],a=t-o.firstSegment.index;r=new i(this,o,a)}return r||e.Log.verbose(4,"Entry with index "+t+" not found"),r},n.prototype.getBySegmentStartTime=function(t,n){var r,o=null;if(0===this.segmentTable.length)return null;if(n||(n=e.Common.timestampDeltaThreshold),Math.abs(t-this.segmentTable[0].firstSegment.presTimeInSec)<n)return this.first;if(r=e.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),-1!==r){var a=this.segmentTable[r],s=0;if(e.Common.diffTimes(t,a.firstSegment.presTimeInSec)&&(s=Math.round((t-a.firstSegment.presTimeInSec)/a.firstSegment.durationInSec)||0),s>a.repeat){if(!(r+1<this.segmentTable.length))return e.Log.verbose(4,"Cannot find match for "+t),null;a=this.segmentTable[r+1],s=0}var l=a.firstSegment.presTimeInSec+s*a.firstSegment.durationInSec;if(Math.abs(t-l)>n)return e.Log.verbose(4,"Cannot find match within error range for "+t),null;o=new i(this,a,s)}return o},n.prototype.getByInSegmentTimestamp=function(t){var n,r=null;if(0===this.segmentTable.length)return null;if(n=e.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),-1===n&&this._isLive&&t<this.segmentTable[0].firstSegment.presTimeInSec&&(e.Log.verbose(4,"Live presentation requested time "+t+" is ahead of the first segment time "+this.segmentTable[0].firstSegment.presTimeInSec+" seeking to the first segment!"),n=0),-1!==n){var o,a=this.segmentTable[n];o=Math.floor(Math.abs(t-a.firstSegment.presTimeInSec)/a.firstSegment.durationInSec),r=new i(this,a,o)}return r||e.Log.verbose(4,"Entry including timestamp "+t+" not found"),r},n.prototype.getByInDiscontinuityTimestamp=function(t){var n,r=null;return 0===this.segmentTable.length?null:(n=e.Common.binarySearchInGaps(t,this.segmentTable,this._compareTimestampInSecInGaps),-1!==n&&(r=new i(this,this.segmentTable[n],0)),r||e.Log.verbose(4,"Discontinuity including timestamp "+t+" not found"),r)},n.prototype.update=function(t){var n=this,r=t,i=null,o=0;if(!(r.pubTime.getTime()<=this.pubTime.getTime())){if(this.pubTime=r.pubTime,i=this.getBySegmentStartTime(r.first.segmentInfo.presTimeInSec),i&&i.segmentInfo.index!==r.first.segmentInfo.index){if(o=i.segmentInfo.index,e.Common.diffTimes(r.first.segmentInfo.presTimeInSec,i.segmentInfo.presTimeInSec))throw new Error("Segment mismatch during container update");e.Log.verbose(4,"Segment index offset="+o)}if(r._isLive){var a=r.last.segmentInfo,s=a.index,l=a.mediaTimestamp+a.mediaDuration;for(i=this.getBySegmentStartTime(a.presTimeInSec);l&&i&&i.next&&(i=i.next,!(i.segmentInfo.mediaTimestamp<l));)a=i.segmentInfo,l=a.mediaTimestamp+a.mediaDuration,r.addMediaSegmentInfo(++s,a.mediaTimestampStr,a.mediaDuration,a.presentationOffset,a.timescale)}this._isLive=r._isLive,this.segmentTable.length=0,r.segmentTable.forEach(function(e){e.firstSegment.update(o,n.presentationTimeOffset),n.segmentTable.push(e)}),this.maxSegmentDuration=r.maxSegmentDuration}},n.prototype._compareTimestampInSec=function(t,n){var r=0;return e.Common.diffTimes(t,n.firstSegment.presTimeInSec)>0?r=-1:e.Common.diffTimes(t,n.firstSegment.presTimeInSec)&&e.Common.diffTimes(t,n.firstSegment.presTimeInSec+(n.repeat+1)*(n.firstSegment.durationInSec||0))<=0&&(r=1),r},n.prototype._compareIndex=function(e,t){var n=0;return e<t.firstSegment.index?n=-1:e>=t.firstSegment.index+(t.repeat+1)&&(n=1),n},n.prototype._compareTimestampInSecInGaps=function(e,t,n){var r=0,i=t.firstSegment.presTimeInSec+(t.repeat+1)*(t.firstSegment.durationInSec||0),o=n.firstSegment.presTimeInSec;return i>e?r=-1:e>=o&&(r=1),r},n}();t.MediaSegmentInfoContainer=o,function(e){e[e.needsToBeScheduled=0]="needsToBeScheduled",e[e.inProgress=1]="inProgress",e[e.endOfStream=2]="endOfStream"}(t.WorkflowState||(t.WorkflowState={}));var a=(t.WorkflowState,function(){function e(){this.forge=null,this.webCrypto=null}return e.prototype.dispose=function(){this.forge=null,this.webCrypto=null},e}());t.AesInfo=a;var s=function(){function e(){this.selected=!1,this.supported=!0,this.fetchInitSegment=!0,this.currentSegment=null,this.pendingSeekPositionInSec=null,this.abortCurrentRequest=!1,this.workflowState=0,this.sourceBuffer=null,this.lastDownloadedTrack=null,this.aes=new a,this.flushStream=!1}return e.prototype.dispose=function(){this.currentSegment=null,this.sourceBuffer&&(this.sourceBuffer.dispose(),this.sourceBuffer=null),this.lastDownloadedTrack=null,this.aes&&(this.aes.dispose(),this.aes=null)},e}();t.MediaStreamStreamingInfo=s;var l=function(){function e(){this.selectable=!0}return e}();t.MediaTrackStreamingInfo=l;var u=function(){function e(e,t){this._streams=[];for(var n=0;n<t.length;n++)if(0==t[n].type){var r=new d(e,t[n]);this._streams.push(r)}}return e.prototype.dispose=function(){for(var e=0;e<this._streams.length;e++)this._streams[e].dispose();this._streams=[]},Object.defineProperty(e.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){for(var e=-1,t=0;t<this._streams.length;t++)if(this._streams[t].commonStream.streamingInfo.selected){e=t;break}return e},enumerable:!0,configurable:!0}),e}();t.VideoStreamList=u;var d=function(){function t(t,n){this._commonStream=n,this._eventMgr=new e.Events.Manager(t.azureHtml5,(!1)),this._sessionContext=t}return t.prototype.dispose=function(){this._commonStream=null,this._sessionContext=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null)},Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._commonStream.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._commonStream.tracks;
},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commonStream",{get:function(){return this._commonStream},enumerable:!0,configurable:!0}),t.prototype.selectTrackByIndex=function(t){var n=!1;(-1>t||t>=this._commonStream.tracks.length)&&(e.Log.warning(7,"selectTrackByIndex: "+t+" switching back to auto track selection"),t=-1),e.Log.verbose(7,"selectTrackByIndex: "+t);for(var r=0;r<this._commonStream.tracks.length;r++){var i=this._commonStream.tracks[r].streamingInfo.selectable;this._commonStream.tracks[r].streamingInfo.selectable=-1===t||r===t,i!=this._commonStream.tracks[r].streamingInfo.selectable&&(n=!0)}n&&(this.commonStream.streamingInfo.flushStream=!0,this._eventMgr.dispatchEvent(e.StreamEventName.trackselected),this._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.flushvideo))},t.prototype.addEventListener=function(e,t,n){this._eventMgr.addHandler(e,t,n)},t.prototype.removeEventListener=function(e,t){this._eventMgr.removeHandler(e,t)},t}(),c=function(){function t(t,n){this._streams=[];for(var r=0;r<n.length;r++)if(1==n[r].type){var i=new p(t,n[r]);this._streams.push(i)}this._eventMgr=new e.Events.Manager(t.azureHtml5,(!1)),this._sessionContext=t}return t.prototype.dispose=function(){for(var e=0;e<this._streams.length;e++)this._streams[e].dispose();this._sessionContext=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null),this._streams=[]},Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var e=[],t=0;t<this._streams.length;t++)if(this._streams[t].enabled){e.push(t);break}return e},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){if(1!=this.enabledIndices.length)return e.Log.error(7,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled"),this._eventMgr.dispatchEvent(e.StreamListEventName.streamselectnotsupported),!1;if(t>=this.streams.length||0>t)return e.Log.error(7,"switchIndex failed - tried to enable invalid index: "+t),this._eventMgr.dispatchEvent(e.StreamListEventName.streamindexinvalid),!1;var n=this._streams[this.enabledIndices[0]],r=this._streams[t];if(t===this.enabledIndices[0])return e.Log.verbose(7,"switchIndex failed - current stream selected"),this._eventMgr.dispatchEvent(e.StreamListEventName.streamselected),!1;if(r.codec!==n.codec&&!n.hasAudioTypeChangeSupport())return e.Log.verbose(7,"switchIndex failed - switch involves codec change but no changeType support"),this._eventMgr.dispatchEvent(e.StreamListEventName.streamselectnotsupported),!1;this._switchEnabledIndex(t);var i=this._sessionContext.videoTag.currentTime,o=this._sessionContext.prerollBufferInSec();return r.swapBuffersAndCleanUp(n,i,o),r.codec!==n.codec&&(this._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.audiocodecchanged)||e.Log.verbose(7,"switchIndex failed - audiocodecchanged event handler failed")),this._eventMgr.dispatchEvent(e.StreamListEventName.streamselected),!0},t.prototype.addEventListener=function(e,t,n){this._eventMgr.addHandler(e,t,n)},t.prototype.removeEventListener=function(e,t){this._eventMgr.removeHandler(e,t)},t.prototype._switchEnabledIndex=function(t){e.assert(1==this.enabledIndices.length,"Current implementation only allows one enabled stream at a time");var n=this.enabledIndices[0];this._streams[n].enabled=!1,this._streams[t].enabled=!0},t}();t.AudioStreamList=c;var p=function(){function t(e,t){this._commonStream=t}return t.prototype.dispose=function(){this._commonStream=null},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._commonStream.streamingInfo.selected},set:function(e){this._commonStream.streamingInfo.selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supported",{get:function(){return this._commonStream.streamingInfo.supported},set:function(e){this._commonStream.streamingInfo.supported=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=this._commonStream.mediaUrlTemplate.toLowerCase(),n="fragments(",r=t.indexOf(n),i=t.indexOf("=",r);return e.assert(i>r+n.length,"mediaUrlTemplate ("+t+") did not follow expected schema"),this._commonStream.mediaUrlTemplate.substring(r+n.length,i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._commonStream.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._commonStream.tracks[0].bitrate},enumerable:!0,configurable:!0}),t.prototype.hasAudioTypeChangeSupport=function(){return null===this._commonStream.streamingInfo.sourceBuffer||!e.Common.isSafari&&this._commonStream.streamingInfo.sourceBuffer.hasAudioTypeChangeSupport},t.prototype.swapBuffersAndCleanUp=function(t,n,r){if(t._commonStream.streamingInfo.sourceBuffer){this._commonStream.streamingInfo.sourceBuffer||(this._commonStream.streamingInfo.sourceBuffer=t._commonStream.streamingInfo.sourceBuffer);var i=this._commonStream.streamingInfo.sourceBuffer;this._commonStream.streamingInfo.workflowState=0,t._commonStream.streamingInfo.workflowState=2,this._commonStream.streamingInfo.pendingSeekPositionInSec=n,this._commonStream.streamingInfo.audioTrackSwitched=!0,i.buffered.length>0&&i.buffered.end(i.buffered.length-1)>n+r&&i.flushFrom(n+r);try{i.flushUntil(n)}catch(o){e.Log.error(7,o)}}},t}()}(e.Presentation||(e.Presentation={})),e.Presentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){this._moduleId="SegmentLocator.Dash",this._disposed=!1}return t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onFindSegment,this)},t.prototype.dispose=function(){this._disposed=!0},t.prototype.onFindSegment=function(n){var r="unknown";n.requestedStream&&(r=0===n.requestedStream.type?"video":1===n.requestedStream.type?"audio":"text"),e.Log.verbose(9,"onFindSegment:"+r),n.currentModuleId=this._moduleId;var i=this;return new Promise(function(o,a){if(i._disposed)return e.Failure.attachFailureToRequest(n,n.currentModuleId,0),void a("object is already disposed.");var s=n.requestedStream,l=s.streamingInfo.currentSegment,u=s.segments;if(n.selectedSegment)return void o();if(null!==s.streamingInfo.pendingSeekPositionInSec)e.Log.verbose(9,"onFindSegment("+r+"): pendingSeekPositionInSec "+s.streamingInfo.pendingSeekPositionInSec),s.streamingInfo.currentSegment=u.getByInSegmentTimestamp(s.streamingInfo.pendingSeekPositionInSec),s.streamingInfo.currentSegment?(e.Log.verbose(9,"found segment "+s.streamingInfo.currentSegment.segmentInfo.presTimeInSec+" for seek position "+s.streamingInfo.pendingSeekPositionInSec),s.streamingInfo.pendingSeekPositionInSec=null,n.requestedStream.streamingInfo.fetchInitSegment=!0):(e.Log.verbose(9,"onFindSegment: didn't find the segment in container. Trying other methods."),n.sessionContext.isLiveToVod&&(s.streamingInfo.pendingSeekPositionInSec=n.sessionContext.commonPresentation.playableWindow.endInSec-.01));else if(l)s.streamingInfo.currentSegment=l.next;else{var d=n.sessionContext;isNaN(d.startPositionInSec)?s.streamingInfo.currentSegment=u.first:(s.streamingInfo.currentSegment=u.getByInSegmentTimestamp(d.startPositionInSec),s.streamingInfo.currentSegment||(s.streamingInfo.currentSegment=d.startPositionInSec<u.first.segmentInfo.presTimeInSec?u.first:u.getByInDiscontinuityTimestamp(d.startPositionInSec)),!s.streamingInfo.currentSegment&&n.sessionContext.commonPresentation.isLive&&2===s.type&&d.startPositionInSec>u.last.segmentInfo.presTimeInSec&&(s.streamingInfo.currentSegment=u.last))}if(null===s.streamingInfo.currentSegment)if(n.sessionContext.commonPresentation.isLive&&l&&l.segmentInfo&&(l.segmentInfo.mediaTimestamp>=u.last.segmentInfo.mediaTimestamp||s.streamingInfo.pendingSeekPositionInSec)){if(e.Log.warning(9,"Unable to find a segment"),s.streamingInfo.currentSegment=l,!n.sessionContext.commonPresentation.minimumUpdatePeriodInSec)return s.streamingInfo.audioTrackSwitched=!1,e.Failure.attachFailureToRequest(n,n.currentModuleId,1),void a();n.state=2,n.retryWaitTimeMSec=t._retryWaitTimeMSec,e.Log.verbose(9,"Reverting to previous segment")}else{if((s.streamingInfo.audioTrackSwitched||l&&!l.segmentInfo)&&n.sessionContext.commonPresentation.isLive)return s.streamingInfo.audioTrackSwitched=!1,e.Failure.attachFailureToRequest(n,n.currentModuleId,1),void a();n.state=1}o()})},t._retryWaitTimeMSec=2e3,t}();t.Dash=n}(e.SegmentLocator||(e.SegmentLocator={})),e.SegmentLocator}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(e){this._adSignals=[],this._adSignalsSeen={},this._eventManager=e}return t.prototype.reset=function(){this._adSignals=[],this._adSignalsSeen={}},t.prototype.getAdSignalsAndReset=function(){var e=this._adSignals;return this._adSignals=[],e},t.prototype.addAdSignals=function(t){for(var n=t&&t.length>0&&!!t[0].simpleSignal,r=[],i=0;i<t.length;i++)if(!this.checkSignalHasBeenSeenBefore(t[i])){if(!n){var o=window.atob(t[i].scteSignal.signalInString),a=e.Common.stringToUint8Array(o);t[i].scteSignal.signalInBinary=a}r.push(t[i])}r.length>0&&(this._adSignals=this._adSignals.concat(r),this._eventManager.dispatchEvent(e.EventName.spliceWaiting))},t.prototype.checkSignalHasBeenSeenBefore=function(t){var n;return n=t.simpleSignal?t.simpleSignal.id+","+t.simpleSignal.duration+","+t.simpleSignal.presentationTime:t.scteSignal.signalInString+(t.scteSignal.presentationTimeOverride?t.scteSignal.presentationTimeOverride:0),this._adSignalsSeen[n]?(e.Log.verbose(15,"ADSIGNAL: Redundant ad signal: "+n+", ignoring..."),!0):(this._adSignalsSeen[n]=!0,!1)},t}();t.Manager=n}(e.Ad||(e.Ad={})),e.Ad}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){function n(t,n){if(!n||0===n.length)return!0;try{var r=decodeURIComponent(n)}catch(i){return e.Log.error(12,i),!1}var o="urn:microsoft:azure:mediaservices:keyacquisitionhostname",a=r.indexOf(o);if(-1===a)return!0;var s=r.indexOf("&",a);-1===s&&(s=r.length);var l=r.substring(a,s),u=l.split("=");if(2!=u.length)return e.Log.error(12,"AMS hostname token is malformed: "+l),!1;var d=document.createElement("a");return d.href=t,u[1].toLowerCase()==d.hostname.toLowerCase()||(e.Log.error(12,"AMS hostname mismatch: "+u[1].toLowerCase()+", "+d.hostname.toLowerCase()),!1)}t.verifyKeyUrlWithToken=n}(e.AesUtil||(e.AesUtil={})),e.AesUtil}(AzureHtml5JS||(AzureHtml5JS={})),Object.defineProperty(Array.prototype,"findFirst",{value:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n,t,Object(this)))return n}return null},enumerable:!1,configurable:!0}),Object.defineProperty(Array.prototype,"findLast",{value:function(e){for(var t=this.length-1;t>=0;t--){var n=this[t];if(e.call(this,n,t,Object(this)))return n}return null},enumerable:!1,configurable:!0}),Object.defineProperty(Array.prototype,"findIndexOf",{value:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n,t,Object(this)))return t}return-1},enumerable:!1,configurable:!0}),Object.defineProperty(Array.prototype,"removeFirst",{value:function(e){var t=this.findIndexOf(e),n=null;return-1!==t&&(n=this.splice(t,1)[0]),n},enumerable:!1,configurable:!0}),Object.defineProperty(Uint8Array.prototype,"isEqual",{value:function(e){if(this.length===e.length){for(var t=0;t<this.length;t++)if(this[t]!==e[t])return!1;return!0}return!1},enumerable:!1,configurable:!0}),window.ArrayBuffer&&(ArrayBuffer.prototype.polyfill_slice=function(e,t){t=t||this.byteLength;for(var n=new Uint8Array(this),r=new Uint8Array(t-e),i=e;t>i;i++)r[i-e]=n[i];return r.buffer},ArrayBuffer.prototype.slice=ArrayBuffer.prototype.slice||ArrayBuffer.prototype.polyfill_slice);var AzureHtml5JS;!function(e){"use strict";function t(e,t){if(!e)throw new Error(t)}e.assert=t}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(e,t){if(this.dropOldestKeepAtLeastOne=function(){this._slidingWindow.length>1&&this.dropOldest()},this._slidingWindow=[],this._sum=0,this._minWindowLength=e,this._maxWindowLength=t,0>e||1>t||e>t)throw new Error("window length for average class should be greater than 0")}return e.prototype.dispose=function(){this._slidingWindow=null},Object.defineProperty(e.prototype,"average",{get:function(){return 0===this._slidingWindow.length||this._slidingWindow.length<this._minWindowLength?0:this._sum/this._slidingWindow.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latest",{get:function(){return 0===this._slidingWindow.length?0:this._slidingWindow[this._slidingWindow.length-1]},enumerable:!0,configurable:!0}),e.prototype.addValue=function(e){this._slidingWindow.length>=this._maxWindowLength&&this.dropOldest(),this._slidingWindow.push(e),this._sum+=e},e.prototype.dropOldest=function(){if(this._slidingWindow.length>0){var e=this._slidingWindow.splice(0,1);e[0]!=1/0?this._sum-=e[0]:this._sum=this._slidingWindow.reduce(function(e,t){return e+t})}},e}();e.AverageCalculator=t}(e.Util||(e.Util={})),e.Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(){var e=/.*Mac OS X (\d+)_(\d+)_*.*\).*/.exec(navigator.userAgent);if(e&&3===e.length){var t=parseInt(e[1],10),n=parseInt(e[2],10);return 10==t&&11>=n||10>t}return!1}function r(e,n,r){"undefined"==typeof r&&(r=t.timestampDeltaThreshold);var i=n-e;return Math.abs(i)<r&&(i=0),i}function i(e,t,n){for(var r=0,i=t.length-1,o=0;i>=r;){o=Math.floor((r+i)/2);var a=n(e,t[o]);if(0>a)i=o-1;else{if(!(a>0))return o;r=o+1}}return-1}function o(e,t,n){var r=0,i=t.length-1,o=0;if(0>=i)return-1;for(;i>=r;){if(o=Math.floor((r+i)/2),0===o)return n(e,t[r],t[i])?-1:1;var a=n(e,t[o-1],t[o]);if(0>a)i=o-1;else{if(!(a>0))return o;r=o+1}}return-1}function a(e,t,n){var r=0,i=t.length-1,o=0;if(0>i)return-1;if(0===i)return n(e,t[0]);for(;i>=r;){if(o=Math.floor((r+i)/2),0===o)return n(e,t[r],t[i]);var a=n(e,t[o-1],t[o]);if(0>a)i=o-1;else{if(!(a>0))return o-1;r=o+1}}return t.length-1}function s(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);t+=r.length<2?"0"+r:r}return t}function l(e){if(e.length<=2||"0x"!=e.substr(0,2).toLowerCase())throw new Error("Invalid hexString");var t=e.substr(2);e.length%2!=0&&(t="0"+t);for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2){var i=parseInt(t.substr(r,2),16);if(isNaN(i))throw new Error("Invalid hexString");n[r/2]=i}return n}function u(e){return 0>e&&(e=4294967295+e+1),"0x"+("00000000"+e.toString(16).toUpperCase()).substr(-8)}function d(e){for(var t="",n=0;n<e.byteLength;n++)t+=String.fromCharCode(e[n]);return t}function c(e){for(var t=new Uint8Array(e.length),n=0;n<t.byteLength;n++)t[n]=e.charCodeAt(n);return t}function p(e,t){return e.byteLength===t.byteLength&&e.every(function(e,n){return e===t[n]})}function h(n){if(t.isChrome||t.isSafari){var r=n.play();void 0!==r?r.then(function(){e.Log.verbose(7,"videoTag.play() executed successfullly.")})["catch"](function(t){e.Log.warning(7,"videoTag.play() failed: "+t)}):e.Log.warning(7,"play() promise undefined.")}else n.play()}function f(){return window&&window.navigator&&!window.navigator.onLine}t.timestampDeltaThreshold=5e-4,t.nearDiscontinuityThreshold=2,t.isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t.isEdge=/Edge/i.test(navigator.userAgent),t.isChromiumEdge=!t.isEdge&&/Chrome/i.test(navigator.userAgent)&&/Edg/i.test(navigator.userAgent),t.isIEMobile=/IEMobile\/([0-9.]*)/.test(navigator.userAgent),t.isSafari=/Safari/i.test(navigator.userAgent)&&!t.isChrome&&!t.isEdge&&!t.isIEMobile,t.isFirefox=/Firefox/i.test(navigator.userAgent)&&!t.isChrome&&!t.isEdge&&!t.isIEMobile&&!t.isSafari,t.isMobile=/android|webos|windows phone|iphone|ipad|ipod|blackBerry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),t.isOSXElCapitanOrEarlier=n,t.diffTimes=r;var m=function(){function e(e,t){this.startInSec=e,this.endInSec=t}return e}();t.TimeRange=m;var g=function(){function e(){this._timeRanges=[]}return e.prototype.dispose=function(){this._timeRanges=null},Object.defineProperty(e.prototype,"length",{get:function(){return this._timeRanges.length},enumerable:!0,configurable:!0}),e.prototype.start=function(e){return this._timeRanges[e].startInSec},e.prototype.end=function(e){return this._timeRanges[e].endInSec},e.prototype.duration=function(e){return this._timeRanges[e].endInSec-this._timeRanges[e].startInSec},e.prototype.extendLast=function(e){this._timeRanges[this._timeRanges.length-1].endInSec=e},e.prototype.addRange=function(e){this._timeRanges.push(e)},e.prototype.addRanges=function(e){if(e)for(var t=0;t<e.length;t++)this.addRange(new m(e.start(t),e.end(t)))},e.prototype.removeRange=function(e,n){if(n>e)for(var r=0;r<this._timeRanges.length;r++){var i=this._timeRanges[r].startInSec,o=this._timeRanges[r].endInSec;t.diffTimes(o,e)>=0||t.diffTimes(n,i)>=0||(t.diffTimes(i,e)>=0&&t.diffTimes(e,o)>=0&&t.diffTimes(o,n)>=0?this._timeRanges[r].endInSec=e:t.diffTimes(i,e)>=0&&t.diffTimes(n,o)>=0?(this._timeRanges[r].endInSec=e,this._timeRanges.splice(r+1,0,new m(n,o))):t.diffTimes(e,i)>=0&&t.diffTimes(o,n)>=0?(this._timeRanges.splice(r,1),--r):t.diffTimes(e,i)>=0&&t.diffTimes(i,n)>=0&&t.diffTimes(n,o)>=0&&(this._timeRanges[r].startInSec=n),t.diffTimes(this._timeRanges[r].endInSec,this._timeRanges[r].startInSec)>=0&&(this._timeRanges.splice(r,1),--r))}},e.prototype.rebase=function(e){this._timeRanges.forEach(function(t){t.startInSec-=e,t.endInSec-=e})},e.prototype.removeGaps=function(e){for(var t=0;t+1<this._timeRanges.length;)this._timeRanges[t+1].startInSec-this._timeRanges[t].endInSec<e?(this._timeRanges[t].endInSec=this._timeRanges[t+1].endInSec,this._timeRanges.splice(t+1,1)):t++},e.prototype.getIndexByInRangeTimestamp=function(e){for(var t=0;t<this._timeRanges.length;t++){var n=this._timeRanges[t];if(e<n.startInSec)return-1;if(n.startInSec<=e&&e<n.endInSec)return t;if(t+1>=this._timeRanges.length)return-2;var r=this._timeRanges[t+1];if(n.endInSec<=e&&e<=r.startInSec)return t+1}return-1},e.prototype.beforeDiscontinuity=function(e,n){return!(0>n||n+1>=this._timeRanges.length||this._timeRanges[n].startInSec>e||e>=this._timeRanges[n].endInSec)&&(0!==r(this._timeRanges[n].endInSec,this._timeRanges[n+1].startInSec)&&this._timeRanges[n].endInSec-e<t.nearDiscontinuityThreshold)},e.prototype.atOrAfterDiscontinuity=function(e,n){return!(0>=n||n>=this._timeRanges.length||this._timeRanges[n-1].endInSec>e||e>=this._timeRanges[n].endInSec)&&(0!==r(this._timeRanges[n-1].endInSec,this._timeRanges[n].startInSec)&&(e<this._timeRanges[n].startInSec||e-this._timeRanges[n].startInSec<t.nearDiscontinuityThreshold))},e}();t.TimeRangeSet=g;var y=function(){function e(e,t,n){this.presTimeInSec=t,this.durationInSec=n,this.data=e}return Object.defineProperty(e.prototype,"endTimestampInSec",{get:function(){return this.presTimeInSec+this.durationInSec},enumerable:!0,configurable:!0}),e}();t.SegmentData=y,t.binarySearch=i,t.binarySearchInGaps=o,t.binarySearchTimeline=a,t.uint8ArrayToHexString=s,t.hexStringToUint8Array=l,t.toHexString=u,t.uint8ArrayToString=d,t.stringToUint8Array=c,t.typedArraysAreEqual=p,t.videoTagPlay=h,t.clientIsOffline=f}(e.Common||(e.Common={})),e.Common}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(e,t){"undefined"==typeof t&&(t=0),this.data=e,this.readPos=t}return e.prototype.getUint8=function(){return this.data.getUint8(this.readPos++)},e.prototype.getUint32=function(){var e=this.data.getUint32(this.readPos);return this.readPos+=4,e},e.prototype.getInt32=function(){var e=this.data.getInt32(this.readPos);return this.readPos+=4,e},e.prototype.getBytes=function(e){for(var t=new Uint8Array(e),n=0;e>n;n++)t[n]=this.getUint8();return t},e.prototype.readString=function(e){for(var t="",n=0;e>n;n++)t+=String.fromCharCode(this.getUint8());return t},e.prototype.readStringUntilEnd=function(){for(var e="",t=0;this.readPos<this.data.byteLength;t++)e+=String.fromCharCode(this.getUint8());return e},e.prototype.readUTF8StringUntilEnd=function(){for(var e="",t=[];this.readPos<this.data.byteLength;)t.push(this.getUint8());for(var n=0;n<t.length;){var r=t[n++];128>r||(224>r?(r=(31&r)<<6,r|=63&t[n++]):240>r?(r=(15&r)<<12,r|=(63&t[n++])<<6,r|=63&t[n++]):(r=(7&r)<<18,r|=(63&t[n++])<<12,r|=(63&t[n++])<<6,r|=63&t[n++])),e+=String.fromCharCode(r)}return e},e.prototype.readTerminatedString=function(){for(var e="",t=this.getUint8();t;t=this.getUint8())e+=String.fromCharCode(t);return e},e}();e.Reader=t;var n=function(){function e(e,t){"undefined"==typeof t&&(t=0),this.data=e,this.writePos=t}return e.prototype.setUint8=function(e){this.data.setUint8(this.writePos++,e)},e.prototype.setUint32=function(e){this.data.setUint32(this.writePos,e),this.writePos+=4},e.prototype.setInt32=function(e){this.data.setInt32(this.writePos,e),this.writePos+=4},e.prototype.setString=function(e){for(var t=0;t<e.length;t++)this.setUint8(e.charCodeAt(t))},e.prototype.setBytes=function(e){for(var t=0;t<e.length;t++)this.setUint8(e[t])},e}();e.Writer=n}(e.DataViewReaderWriter||(e.DataViewReaderWriter={})),e.DataViewReaderWriter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(e,t,n){var r="WebKitMediaKeys"in window,i="MSMediaKeys"in window,o="requestMediaKeySystemAccess"in navigator;if(o){var a=[];t&&a.push(new _(t));var s=[];n&&s.push(new _(n));var l=new v(["cenc"],a,s);return navigator.requestMediaKeySystemAccess(e,[l])}return new Promise(function(t,n){var o="video/mp4";return r?void(window.WebKitMediaKeys.isTypeSupported(e,o)?t():n()):i?void(window.MSMediaKeys.isTypeSupported(e,o)?t():n()):void n()})}function r(e,t,n){var r={initDataTypes:["cenc"],videoCapabilities:[new _(n)],audioCapabilities:[new _(t)]};t||delete r.audioCapabilities,n||delete r.videoCapabilities;var i=[r];return navigator.requestMediaKeySystemAccess(e,i)}function i(e){var t="WebKitMediaKeys"in window,n="MSMediaKeys"in window;if(t)return new window.WebKitMediaKeys(e);if(n)return new window.MSMediaKeys(e);throw new Error("create MediaKeys not supported")}function o(e,t){var n="WebKitSetMediaKeys"in e,r="msSetMediaKeys"in e;if(n)e.WebKitSetMediaKeys(t);else{if(!r)throw new Error("setMediaKeys not supported");e.msSetMediaKeys(t)}}function a(e,t){e.addEventListener("webkitneedkey",t),e.addEventListener("msneedkey",t)}function s(e,t){e.addEventListener("encrypted",t)}function l(e,t){e.addEventListener("message",t)}function u(e,t){e.addEventListener("webkitkeymessage",t),e.addEventListener("mskeymessage",t)}function d(e,t){e.addEventListener("webkitkeyadded",t),e.addEventListener("mskeyadded",t)}function c(e,t){e.addEventListener("webkitkeyerror",t),e.addEventListener("mskeyerror",t)}function p(e,t){e.removeEventListener("webkitneedkey",t),e.removeEventListener("msneedkey",t)}function h(e,t){e.removeEventListener("encrypted",t)}function f(e,t){e.removeEventListener("message",t)}function m(e,t){e.removeEventListener("webkitkeymessage",t),e.removeEventListener("mskeymessage",t)}function g(e,t){e.removeEventListener("webkitkeyadded",t),e.removeEventListener("mskeyadded",t)}function y(e,t){e.removeEventListener("webkitkeyerror",t),e.removeEventListener("mskeyerror",t)}var v=function(){function e(e,t,n){this.initDataTypes=e,this.audioCapabilities=t,this.videoCapabilities=n}return e}(),_=function(){function t(t){this.contentType=t,this.robustness=e.Common.isChrome?"SW_SECURE_CRYPTO":""}return t}();t.isTypeSupported=n,t.createSupportedKeySystem=r,t.createMediaKeys=i,t.setMediaKeys=o,t.listenToNeedKey=a,t.listenToEncrypted=s,t.listenToMessage=l,t.listenToKeyMessage=u,t.listenToKeyAdded=d,t.listenKeyError=c,t.unlistenToNeedKey=p,t.unlistenToEncrypted=h,t.unlistenToMessage=f,t.unlistenToKeyMessage=m,t.unlistenToKeyAdded=g,t.unlistenKeyError=y}(e.EmeUtil||(e.EmeUtil={})),e.EmeUtil}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(e,t){"undefined"==typeof e&&(e=null),"undefined"==typeof t&&(t=!0),this._azureHtml5=e,this._allowDuplicateHandlers=t,this._registrations={}}return e.prototype.dispose=function(){this._registrations=null},e.prototype.getHandlers=function(e){return e in this._registrations||(this._registrations[e]=[]),this._registrations[e]},e.prototype.addHandler=function(e,t,n){var i=this.getHandlers(e);if(this._allowDuplicateHandlers||-1===this._findHandlerByFunction(i,t)){var o=new r(n,t);i[i.length]=o}},e.prototype.removeHandler=function(e,t){for(var n=this.getHandlers(e),r=this._findHandlerByFunction(n,t);-1!==r;)n.splice(r,1),r=this._findHandlerByFunction(n,t)},e.prototype.dispatchEvent=function(e,t,r){for(var i=this,o=0,a=this.getHandlers(e).slice(),o=0;o<a.length;o++){var s=new n(e,i._azureHtml5,t,r);a[o].functionHandler.call(a[o].callerInstance,s)}},e.prototype._findHandlerByFunction=function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].functionHandler===t){n=r;break}return n},e}();e.Manager=t;var n=function(){function e(e,t,n,r){this.type=e,this.currentDate=new Date,this.azureHtml5=t,this.presentationTimeInSec=t?t.currentTime:0,this.message=n,this.data=r}return e}();e.EventInfo=n;var r=function(){function e(e,t){this.callerInstance=e,this.functionHandler=t}return e}();e.Handler=r}(e.Events||(e.Events={})),e.Events}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(e){return e>=400&&600>e?2097152|e:2097152}function r(e){var t="";return e.filename&&(t+=" file: "+e.filename),e.lineno&&(t+=" line: "+e.lineno),e.colno&&(t+=" colno: "+e.colno),e.error&&(t+="error: "+e.error),e.message&&(t+="msg: "+e.message),t}function i(t){if(void 0===t||null===t)return"undefined";var n=a(t.code);return t.msExtendedCode&&(n+=", msErrorCode: "+e.Common.toHexString(t.msExtendedCode)),n}function o(e,t,n,r){var i=new l(t,n,r);null!=e&&(e.externalFailure=i)}function a(e){switch(e){case MediaError.MEDIA_ERR_ABORTED:return"MEDIA_ERR_ABORTED";case MediaError.MEDIA_ERR_NETWORK:return"MEDIA_ERR_NETWORK";case MediaError.MEDIA_ERR_DECODE:return"MEDIA_ERR_DECODE";case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return e.toString()}}function s(e){return e>1048575}var l=function(){function t(e,t,n){this.originModuleId=e,this.code=t,this.message=n}return t.prototype.dispose=function(){this.originModuleId=null,this.code=null,this.message=null},t.prototype.toString=function(){var t;return t="Module = "+this.originModuleId+" FailureCode = "+e.Common.toHexString(this.code),this.message&&(t+=" "+this.message),t},t}();t.Record=l,t.translateHttpStatusToCode=n,t.errorEventToString=r,t.mediaErrorToString=i,t.attachFailureToRequest=o,t.isExternalError=s;var u=function(){function t(e,t){e?(this.code=e,this.message=t):(this.code=0,this.message=null)}return t.prototype.translateMediaError=function(t){this.code=t.code<<20,t.msExtendedCode&&(this.message="msErrorCode: "+e.Common.toHexString(t.msExtendedCode));var n=t.message;n&&n.length&&(this.message=this.message?this.message+" "+n:n)},t.prototype.toString=function(){var t="code: "+e.Common.toHexString(this.code);return this.message&&(t+=", msg: "+this.message),t},t}();t.External=u}(e.Failure||(e.Failure={})),e.Failure}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";e.forgeScript='(function(){function n(n){function i(n){var r,u;if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(t.isArrayBuffer(n)||t.isArrayBufferView(n)){r=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,r)}catch(f){for(u=0;u<r.length;++u)this.putByte(r[u])}}else(n instanceof i||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}var t=n.util=n.util||{},r;t.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.isArrayBuffer=function(n){return typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer};t.isArrayBufferView=function(n){return n&&t.isArrayBuffer(n.buffer)&&n.byteLength!==undefined};t.ByteBuffer=i;t.ByteStringBuffer=i;r=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n;this._constructedStringLength>r&&(this.data.substr(0,1),this._constructedStringLength=0)};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};t.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))};t.ByteStringBuffer.prototype.fillWithByte=function(n,t){n=String.fromCharCode(n);for(var i=this.data;t>0;)t&1&&(i+=n),t>>>=1,t>0&&(n+=n);return this.data=i,this._optimizeConstructedString(t),this};t.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this};t.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(t.encodeUtf8(n))};t.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))};t.ByteStringBuffer.prototype.putInt=function(n,t){var i="";do t-=8,i+=String.fromCharCode(n>>t&255);while(t>0);return this.putBytes(i)};t.ByteStringBuffer.prototype.putSignedInt=function(n,t){return n<0&&(n+=2<<t-1),this.putInt(n,t)};t.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())};t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n};t.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n};t.ByteStringBuffer.prototype.getInt=function(n){var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return t};t.ByteStringBuffer.prototype.getSignedInt=function(n){var t=this.getInt(n),i=2<<n-2;return t>=i&&(t-=i<<1),t};t.ByteStringBuffer.prototype.getBytes=function(n){var t;return n?(n=Math.min(this.length(),n),t=this.data.slice(this.read,this.read+n),this.read+=n):n===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};t.ByteStringBuffer.prototype.bytes=function(n){return typeof n=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)};t.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)};t.ByteStringBuffer.prototype.setAt=function(n,t){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(t)+this.data.substr(this.read+n+1),this};t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var n=t.createBuffer(this.data);return n.read=this.read,n};t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};t.ByteStringBuffer.prototype.truncate=function(n){var t=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,t),this.read=0,this};t.ByteStringBuffer.prototype.toHex=function(){for(var i,n="",t=this.read;t<this.data.length;++t)i=this.data.charCodeAt(t),i<16&&(n+="0"),n+=i.toString(16);return n};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};t.createBuffer=function(n,i){return i=i||"raw",n!==undefined&&i==="utf8"&&(n=t.encodeUtf8(n)),new t.ByteBuffer(n)};t.encodeUtf8=function(n){return unescape(encodeURIComponent(n))};t.decodeUtf8=function(n){return decodeURIComponent(escape(n))}}return typeof forge=="undefined"&&(forge={}),n(forge)})(),function(){function n(n){n.cipher=n.cipher||{};n.cipher.algorithms=n.cipher.algorithms||{};n.cipher.createDecipher=function(t,i){var r=t;if(typeof r=="string"&&(r=n.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:i,decrypt:!0})};n.cipher.registerAlgorithm=function(t,i){t=t.toUpperCase();n.cipher.algorithms[t]=i};n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase(),t in n.cipher.algorithms)?n.cipher.algorithms[t]:null};var t=n.cipher.BlockCipher=function(n){this.algorithm=n.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this._input=null;this.output=null;this._op=n.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=n.decrypt;this.algorithm.initialize(n)};t.prototype.start=function(t){var i,r;t=t||{};i={};for(r in t)i[r]=t[r];i.decrypt=this._decrypt;this._finish=!1;this._input=n.util.createBuffer();this.output=t.output||n.util.createBuffer();this.mode.start(i)};t.prototype.update=function(n){for(n&&this._input.putBuffer(n);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};t.prototype.finish=function(n){n&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return n(this.blockSize,t,!1)},this.mode.unpad=function(t){return n(this.blockSize,t,!0)});var t={};return(t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))?!1:(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))?!1:this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)?!1:!0}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function i(t){var r,i;if(typeof t=="string"&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4)for(r=t,t=n.util.createBuffer(),i=0;i<r.length;++i)t.putByte(r[i]);return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}n.cipher=n.cipher||{};var t=n.cipher.modes=n.cipher.modes||{};t.cbc=function(n){n=n||{};this.name="CBC";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};t.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in n)this._iv=i(n.iv),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.");};t.cbc.prototype.encrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};t.cbc.prototype.decrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};t.cbc.prototype.pad=function(n){var t=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(t,t),!0};t.cbc.prototype.unpad=function(n,t){if(t.overflow>0)return!1;var r=n.length(),i=n.at(r-1);return i>this.blockSize<<2?!1:(n.truncate(i),!0)}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function l(t,i){var r=function(){return new n.aes.Algorithm(t,i)};n.cipher.registerAlgorithm(t,r)}function h(){var u,o,c,l,w,a,h,b,v,y,n,p;for(f=!0,s=[0,1,2,4,8,16,32,64,128,27,54],u=new Array(256),n=0;n<128;++n)u[n]=n<<1,u[n+128]=n+128<<1^283;for(t=new Array(256),e=new Array(256),r=new Array(4),i=new Array(4),n=0;n<4;++n)r[n]=new Array(256),i[n]=new Array(256);for(o=0,c=0,n=0;n<256;++n){for(h=c^c<<1^c<<2^c<<3^c<<4,h=h>>8^h&255^99,t[o]=h,e[h]=o,b=u[h],l=u[o],w=u[l],a=u[w],v=b<<24^h<<16^h<<8^h^b,y=(l^w^a)<<24^(o^a)<<16^(o^w^a)<<8^o^l^a,p=0;p<4;++p)r[p][o]=v,i[p][h]=y,v=v<<24|v>>>8,y=y<<24|y>>>8;o===0?o=c=1:(o=l^u[u[u[l^a]]],c^=u[u[c]])}}function c(n,r){for(var h,y,e=n.slice(0),o,p=1,c=e.length,w=c+6+1,a=u*w,f=c;f<a;++f)o=e[f-1],f%c==0?(o=t[o>>>16&255]<<24^t[o>>>8&255]<<16^t[o&255]<<8^t[o>>>24]^s[p]<<24,p++):c>6&&f%c==4&&(o=t[o>>>24]<<24^t[o>>>16&255]<<16^t[o>>>8&255]<<8^t[o&255]),e[f]=e[f-c]^o;if(r){var v,b=i[0],k=i[1],d=i[2],g=i[3],l=e.slice(0);for(a=e.length,f=0,h=a-u;f<a;f+=u,h-=u)if(f===0||f===a-u)l[f]=e[h],l[f+1]=e[h+3],l[f+2]=e[h+2],l[f+3]=e[h+1];else for(y=0;y<u;++y)v=e[h+y],l[f+(3&-y)]=b[t[v>>>24]]^k[t[v>>>16&255]]^d[t[v>>>8&255]]^g[t[v&255]];e=l}return e}function o(n,u,f,o){var tt=n.length/4-1,y,p,w,b,s,h,c,l,a,d,g,nt,v,k;for(o?(y=i[0],p=i[1],w=i[2],b=i[3],s=e):(y=r[0],p=r[1],w=r[2],b=r[3],s=t),h=u[0]^n[0],c=u[o?3:1]^n[1],l=u[2]^n[2],a=u[o?1:3]^n[3],v=3,k=1;k<tt;++k)d=y[h>>>24]^p[c>>>16&255]^w[l>>>8&255]^b[a&255]^n[++v],g=y[c>>>24]^p[l>>>16&255]^w[a>>>8&255]^b[h&255]^n[++v],nt=y[l>>>24]^p[a>>>16&255]^w[h>>>8&255]^b[c&255]^n[++v],a=y[a>>>24]^p[h>>>16&255]^w[c>>>8&255]^b[l&255]^n[++v],h=d,c=g,l=nt;f[0]=s[h>>>24]<<24^s[c>>>16&255]<<16^s[l>>>8&255]<<8^s[a&255]^n[++v];f[o?3:1]=s[c>>>24]<<24^s[l>>>16&255]<<16^s[a>>>8&255]<<8^s[h&255]^n[++v];f[2]=s[l>>>24]<<24^s[a>>>16&255]<<16^s[h>>>8&255]<<8^s[c&255]^n[++v];f[o?1:3]=s[a>>>24]<<24^s[h>>>16&255]<<16^s[c>>>8&255]<<8^s[l&255]^n[++v]}n.aes=n.aes||{};n.aes.Algorithm=function(n,t){f||h();var i=this;i.name=n;i.mode=new t({blockSize:16,cipher:{encrypt:function(n,t){return o(i._w,n,t,!1)},decrypt:function(n,t){return o(i._w,n,t,!0)}}});i._init=!1};n.aes.Algorithm.prototype.initialize=function(t){var i,f,u,r,e,o;if(!this._init){if(i=t.key,typeof i=="string"&&(i.length===16||i.length===24||i.length===32))i=n.util.createBuffer(i);else if(n.util.isArray(i)&&(i.length===16||i.length===24||i.length===32))for(f=i,i=n.util.createBuffer(),r=0;r<f.length;++r)i.putByte(f[r]);if(!n.util.isArray(i)&&(f=i,i=[],u=f.length(),u===16||u===24||u===32))for(u=u>>>2,r=0;r<u;++r)i.push(f.getInt32());if(!n.util.isArray(i)||!(i.length===4||i.length===6||i.length===8))throw new Error("Invalid key parameter.");e=this.mode.name;o=["CFB","OFB","CTR","GCM"].indexOf(e)!==-1;this._w=c(i,t.decrypt&&!o);this._init=!0}};n.aes._expandKey=function(n,t){return f||h(),c(n,t)};n.aes._updateBlock=o;l("AES-CBC",n.cipher.modes.cbc);var f=!1,u=4,t,e,s,r,i}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){for(var i=new Uint8Array(n.length),t=0;t<i.byteLength;t++)i[t]=n.charCodeAt(t);return i}onmessage=function(t){if(t.data.keyStr&&t.data.ivStr&&t.data.encrypted){var i=forge.cipher.createDecipher("AES-CBC",t.data.keyStr);i.start({iv:t.data.ivStr});i.update(new forge.util.ByteBuffer(t.data.encrypted));i.finish();postMessage({decrypted:n(i.output.bytes())})}}}();';
}(e.Forge||(e.Forge={})),e.Forge}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";if(t.decrypt,t.decrypt=function(t,n,r){var i=forge.cipher.createDecipher("AES-CBC",n.keyStr);i.start({iv:n.ivStr}),i.update(new forge.util.ByteBuffer(r)),i.finish();var o=e.Common.stringToUint8Array(i.output.bytes());return t.apply(null,[o]),!0},!(window.Worker&&Blob&&window.URL&&window.URL.createObjectURL))return void e.Log.verbose(7,"AzureHtml5JS.Forge: cannot start worker for Forge");var n=null;try{var r=new Blob(["'use strict';var forge;"+t.forgeScript],{type:"text/javascript"}),i=new Worker(window.URL.createObjectURL(r));t.decrypt=function(e,t,r){return null===n&&(n=e,i.postMessage({keyStr:t.keyStr,ivStr:t.ivStr,encrypted:r}),!0)},i.onmessage=function(e){e.data.decrypted&&(n.apply(null,[e.data.decrypted]),n=null)}}catch(o){e.Log.verbose(7,"AzureHtml5JS.Forge: Forge worker setup failed: "+o)}}(e.Forge||(e.Forge={})),e.Forge}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(t,n,i,o,a){return new Promise(function(s,l){function u(){r(t,n,i,a).then(d,c)}function d(e){s(e)}function c(t){o.maxRetries>p&&t.code&&t.code>=e.Failure.translateHttpStatusToCode(500)?(p++,e.Log.warning(13,"Request failed error: "+e.Common.toHexString(t.code)+", number of times tried: "+p+" , retrying the request"),setTimeout(function(){u()},Math.pow(2,p)*o.maxWaitTimeBetweenRetriesMS)):l(t)}var p=0;u()})}function r(t,n,r,i,o){return new Promise(function(a,s){function l(){if(200==d.status)a(d.response);else{var r="";if(null!==d.response){var i=new e.DataViewReaderWriter.Reader(new DataView(d.response));r=i.readStringUntilEnd()}e.Log.error(13,"XHR load failed status:"+d.statusText+"("+d.status+"), expected to be 200, readyState:"+d.readyState+" ("+n+" "+t+"), response:"+r),s({code:e.Failure.translateHttpStatusToCode(d.status),response:r})}}function u(){e.Log.error(13,"XHR failed status: "+d.statusText+" ("+d.status+"), readyState: "+d.readyState),s({code:2097753,response:""})}var d=new e.HttpRequest.XMLHttpRequestWrapper;d.onload=l,d.onerror=u,d.open(n,t),d.responseType=r,i&&i.forEach(function(e){d.setRequestHeader(e.name,e.value)}),o?d.send(o):d.send()})}t.authorizationHeader="Authorization",t.httpRequestWithRetryConfig=n,t.httpRequest=r}(e.HttpUtil||(e.HttpUtil={})),e.HttpUtil}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},AzureHtml5JS;!function(e){!function(t){"use strict";function n(t,n,r){"undefined"==typeof r&&(r=0);var o,a=r;if(!n||4!==n.length)return e.Log.error(11,"Parameter error, box type must have four characters"),null;if(!t||t.byteLength<8)return e.Log.error(11,"Parameter error, not enough data"),null;for(;a<t.byteLength&&(o=i(t,a));){if(o.type===n)return o;a+=o.size}return null}function r(t,n){if(!n||4!==n.length)return e.Log.error(11,"Parameter error, box type must have four characters"),null;if(!t||!t.data||t.data.byteLength<8)return e.Log.error(11,"Parameter error, not enough data"),null;for(var r=t.getUint32(),o=4;r>0&&o<t.data.byteLength&&(t=i(t.data,o));){if(t.type===n)return t;o+=t.size,r--}return null}function i(t,n){if(!t||t.byteLength-n<8)return e.Log.error(11,"MP4 box parsing error, not enough data for box header"),null;var r=new d(t,n);if(r.size=r.getUint32(),r.type=r.readString(4),1===r.size){if(t.byteLength-n<16)return e.Log.error(11,"MP4 box parsing error, not enough data for largesize"),null;if(r.size=r.getUint32()<<32,r.size+=r.getUint32(),r.size>9007199254740991)return e.Log.error(11,"Box size too big for precise representation as Javascript number"),null}else 0===r.size&&(r.size=t.byteLength);if(r.size>t.byteLength-n)return null;if("uuid"===r.type){if(t.byteLength-r.readPosition<16)return e.Log.error(11,"MP4 box parsing error, not enough data for usertype"),null;r.usertype=r.readString(16)}return r.data=new DataView(t.buffer,t.byteOffset+r.readPosition,t.byteLength-r.readPosition),r}function o(t){var r,i=null;return(r=n(t,"tfhd"))?(i=p.parse(r),i||e.Log.warning(11,"Parsing of tfhd failed"),i):(e.Log.warning(11,"tfhd not found"),null)}function a(t){var r,i=null;return(r=n(t,"trun"))?(i=h.parse(r),i||e.Log.warning(11,"Parsing of trun failed"),i):(e.Log.warning(11,"trun not found"),null)}function s(t){var r,i=null;return(r=n(t,"tfdt"))?(i=m.parse(r),i||e.Log.warning(11,"Parsing of tfdt failed"),i):(e.Log.warning(11,"tfdt not found"),null)}function l(t){for(var r,i=[],o=0;o<t.byteLength;){if(r=n(t,g.typeStr,o),!r)return e.Log.warning(11,"pssh not found"),i;var a=g.parse(r);a?i.push(a):e.Log.warning(11,"Parsing of pssh failed"),o+=r.size}return i}function u(t){for(var r,i=[],o=0;o<t.byteLength;){if(r=n(t,y.typeStr,o),!r)return i;var a=y.parse(r);a?i.push(a):e.Log.warning(11,"Parsing of emsg failed"),o+=r.size}return i.length>0&&e.Log.verbose(11,"emsg boxes found: "+i.length),i}var d=function(){function t(t,n){t&&"undefined"!=typeof n&&(this.data=t,this.reader=new e.DataViewReaderWriter.Reader(t,n))}return t.prototype.getUint32=function(){return this.reader.getUint32()},t.prototype.getInt32=function(){return this.reader.getInt32()},t.prototype.getUint8=function(){return this.reader.getUint8()},t.prototype.getBytes=function(e){return this.reader.getBytes(e)},t.prototype.getRemainingBytes=function(){return this.reader.getBytes(this.size-this.readPosition)},t.prototype.readString=function(e){return this.reader.readString(e)},t.prototype.readStringUntilEnd=function(){return this.reader.readStringUntilEnd()},t.prototype.readUTF8StringUntilEnd=function(){return this.reader.readUTF8StringUntilEnd()},t.prototype.readTerminatedString=function(){return this.reader.readTerminatedString()},Object.defineProperty(t.prototype,"readPosition",{get:function(){return this.reader.readPos},enumerable:!0,configurable:!0}),t}();t.Mp4Box=d;var c=function(t){function n(n){t.call(this),n&&(this.size=n.size,this.type=n.type,this.usertype=n.usertype,this.data=n.data,this.reader=new e.DataViewReaderWriter.Reader(this.data),this._versionFlags=n._versionFlags)}return __extends(n,t),n.parse=function(t){var r=null;return t.data.byteLength<4?(e.Log.error(11,"Full box parsing error, not enough bytes"),null):(r=new n,r.size=t.size,r.type=t.type,r.usertype=t.usertype,r._versionFlags=t.data.getUint32(0),r.data=new DataView(t.data.buffer,t.data.byteOffset+4,t.data.byteLength-4),r.reader=new e.DataViewReaderWriter.Reader(r.data),r)},n.serialize=function(t,n){var r=("uuid"===t.type?16:0)+12,i=n+r,o=new ArrayBuffer(i),a=new DataView(o),s=new e.DataViewReaderWriter.Writer(a);if(i>4294967295)throw new Error("Mp4FullBox::serialize, large size is not supported");if(s.setUint32(i),s.setString(t.type),"uuid"===t.type&&s.setString(t.usertype),s.setUint32(t._versionFlags),s.writePos!==r)throw new Error("Mp4FullBox::serialize, inconsistent bytes written");return s},Object.defineProperty(n.prototype,"version",{get:function(){return this._versionFlags>>24},set:function(e){this._versionFlags&=16777215,this._versionFlags|=e<<24},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return 16777215&this._versionFlags},set:function(e){this._versionFlags&=4278190080,this._versionFlags|=16777215&e},enumerable:!0,configurable:!0}),n.prototype.getUint32Cond=function(e){var t;return e&this.flags&&(t=this.reader.getUint32()),t},n}(d);t.Mp4FullBox=c;var p=function(t){function n(e){t.call(this,e)}return __extends(n,t),n.parse=function(t){var r=null,i=null;return(i=c.parse(t))?(r=new n(i),i.data.byteLength<r._calculatedSize()?(e.Log.error(11,"tfhd box parsing error, not enough data"),null):(r.trackId=r.getUint32(),r.baseDataOffsetHi=r.getUint32Cond(n.flags_baseDataOffsetPresent),r.baseDataOffsetLo=r.getUint32Cond(n.flags_baseDataOffsetPresent),r.sampleDescriptionIndex=r.getUint32Cond(n.flags_sampleDescriptionIndexPresent),r.defaultSampleDuration=r.getUint32Cond(n.flags_defaultSampleDurationPresent),r.defaultSampleSize=r.getUint32Cond(n.flags_defaultSampleSizePresent),r.defaultSampleFlags=r.getUint32Cond(n.flags_defaultSampleFlagsPresent),r)):null},n.prototype._calculatedSize=function(){var e=4;return e+=this.flags&n.flags_baseDataOffsetPresent?8:0,e+=this.flags&n.flags_sampleDescriptionIndexPresent?4:0,e+=this.flags&n.flags_defaultSampleDurationPresent?4:0,e+=this.flags&n.flags_defaultSampleSizePresent?4:0,e+=this.flags&n.flags_defaultSampleFlagsPresent?4:0},n.typeStr="tfhd",n.flags_baseDataOffsetPresent=1,n.flags_sampleDescriptionIndexPresent=2,n.flags_defaultSampleDurationPresent=8,n.flags_defaultSampleSizePresent=16,n.flags_defaultSampleFlagsPresent=32,n.flags_durationIsEmpty=65536,n.flags_defaultBaseIsMoof=131072,n}(c);t.TfhdBox=p;var h=function(t){function n(e){t.call(this,e)}return __extends(n,t),n.parse=function(t){var r=null,i=null;if(i=c.parse(t),!i)return null;if(r=new n(i),i.data.byteLength<4)return e.Log.error(11,"trun box parsing error, not enough data"),null;if(r.sampleCount=r.getUint32(),i.data.byteLength<r._calculatedSize())return e.Log.error(11,"trun box parsing error, not enough data"),null;r.dataOffset=r.getUint32Cond(n.flags_dataOffsetPresent),r.firstSampleFlags=r.getUint32Cond(n.flags_firstSampleFlagsPresent),r.sampleInfoArray=[];for(var o=0;o<r.sampleCount;o++){var a=new f;a.sampleDuration=r.getUint32Cond(n.flags_sampleDurationPresent),a.sampleSize=r.getUint32Cond(n.flags_sampleSizePresent),a.sampleFlags=r.getUint32Cond(n.flags_sampleFlagsPresent),r.flags&n.flags_sampleCompositionTimeOffsetsPresent&&(a.sampleCompositionTimeOffset=0===r.version?r.getUint32():r.getInt32()),r.sampleInfoArray.push(a)}return r},n.prototype._calculatedSize=function(){var e,t=4;return t+=this.flags&n.flags_dataOffsetPresent?4:0,t+=this.flags&n.flags_firstSampleFlagsPresent?4:0,e=this.flags&n.flags_sampleDurationPresent?4:0,e+=this.flags&n.flags_sampleSizePresent?4:0,e+=this.flags&n.flags_sampleFlagsPresent?4:0,e+=this.flags&n.flags_sampleCompositionTimeOffsetsPresent?4:0,t+=this.sampleCount*e},n.typeStr="trun",n.flags_dataOffsetPresent=1,n.flags_firstSampleFlagsPresent=4,n.flags_sampleDurationPresent=256,n.flags_sampleSizePresent=512,n.flags_sampleFlagsPresent=1024,n.flags_sampleCompositionTimeOffsetsPresent=2048,n}(c);t.TrunBox=h;var f=function(){function e(){}return e}();t.TrunSampleInfo=f;var m=function(t){function n(e){t.call(this,e),this.baseMediaDecodeTime=0}return __extends(n,t),n.parse=function(t){var r=null,i=null;return(i=c.parse(t))?(r=new n(i),i.data.byteLength<r._calculatedSize()?(e.Log.error(11,"tfdt box parsing error, not enough data"),null):(1===r.version&&(r.baseMediaDecodeTime=4294967296*r.getUint32()),r.baseMediaDecodeTime+=r.getUint32(),r.baseMediaDecodeTime>=9007199254740992&&e.Log.warning(11,"tfdt timestamp greater than 53 bits, possible precision loss"),r)):null},n.prototype._calculatedSize=function(){return 1===this.version?8:4},n.typeStr="tfdt",n}(c);t.TfdtBox=m;var g=function(t){function n(e){e?t.call(this,e):this.type=n.typeStr,this._keyIds=[]}return __extends(n,t),n.parse=function(t){var r=null,i=null;if(i=c.parse(t),!i)return null;if(r=new n(i),i.data.byteLength<r._calculatedSize())return e.Log.error(11,"pssh box parsing error, not enough data"),null;r.systemId=r.getBytes(16);var o=0;if(r.version>0){if(o=r.getUint32(),r._keyIds.length=o,i.data.byteLength<r._calculatedSize())return e.Log.error(11,"pssh box parsing error, not enough data"),null;for(var a=0;o>a;a++){var s=r.getBytes(16);r._keyIds[a]=s}}var l=r.getUint32();return i.data.byteLength<r._calculatedSize(l)?(e.Log.error(11,"pssh box parsing error, not enough data"),null):(r.specificData=r.getBytes(l),r)},n.prototype.addKeyId=function(e){if(16!==e.length)throw new Error("keyId must be 16 bytes");this.version=1,this._keyIds.push(e)},Object.defineProperty(n.prototype,"keyIds",{get:function(){return this._keyIds},enumerable:!0,configurable:!0}),n.prototype._calculatedSize=function(e){"undefined"==typeof e&&(e=0);var t=20+e;return this.version>0&&(t+=4+16*this._keyIds.length),t},n.prototype.serialize=function(){var e=c.serialize(this,this._calculatedSize(this.specificData.byteLength));if(!this.systemId)throw new Error("systemId is not set");if(e.setBytes(this.systemId),this.version>0&&(e.setUint32(this._keyIds.length),this._keyIds.forEach(function(t){e.setBytes(t)})),!this.specificData)throw new Error("specificData is not set");if(e.setUint32(this.specificData.byteLength),e.setBytes(this.specificData),e.writePos!=e.data.buffer.byteLength)throw new Error("Failed to write to end of buffer");return e.data.buffer},n.typeStr="pssh",n}(c);t.PsshBox=g;var y=function(e){function t(n){n?e.call(this,n):this.type=t.typeStr}return __extends(t,e),t.parse=function(e){var n=null,r=null;if(r=c.parse(e),!r)return null;if(n=new t(r),0===n.version)n.schemeIdUrl=n.readTerminatedString(),n.value=n.readTerminatedString(),n.timescale=n.getUint32(),n.presentationTimeDelta=n.getUint32(),n.eventDuration=n.getUint32(),n.id=n.getUint32();else{if(1!=n.version)return null;n.timescale=n.getUint32(),n.presentationTimePartA=n.getUint32(),n.presentationTimePartB=n.getUint32(),n.eventDuration=n.getUint32(),n.id=n.getUint32(),n.schemeIdUrl=n.readTerminatedString(),n.value=n.readTerminatedString()}return n.messageData=n.getRemainingBytes(),n},t.typeStr="emsg",t}(c);t.EmsgBox=y,t.GetBoxByType=n,t.GetBoxByTypeFromFixedChildren=r,t.GetTfhdBox=o,t.GetTrunBox=a,t.GetTfdtBox=s,t.GetPsshBoxes=l,t.GetEmsgBoxes=u}(e.Mp4Util||(e.Mp4Util={})),e.Mp4Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(){return e.VideoElementAdapter.supported()}function r(e){var t=!1;if(e&&e.canPlayType){var n=e.canPlayType("application/vnd.apple.mpegurl");("maybe"===n||"probably"===n)&&(t=!0)}return t}function i(e){var t=!1;if(e&&e.canPlayType){var n=e.canPlayType("video/mp4");("maybe"===n||"probably"===n)&&(t=!0)}return t}!function(e){e[e.type1=1]="type1",e[e.type2=2]="type2",e[e.type3=3]="type3"}(t.Type||(t.Type={})),t.Type,t.MseSupported=n,t.HlsType1Supported=r,t.Mp4Type1Supported=i}(e.PlayerDetector||(e.PlayerDetector={})),e.PlayerDetector}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(e,t){if(e&&e.length>0){var n=e.trim().toLowerCase();if(u[n])return a(u[n],t)}}function r(e,t){var n=e.trim().toLowerCase();if(n.lastIndexOf(".ism/")>-1){var r=o(n);if(s[r])return a(s[r],t)}var u=i(n);return l[u]?a(l[u],t):null}function i(e){var t=null,n=e.lastIndexOf("."),r=e.indexOf("/",n);return n>-1&&(t=e.substring(n+1,-1!==r?r:e.length)),t}function o(e){var t=null,n=e,r="(format=",i=e.lastIndexOf("?");i>-1&&(n=e.substring(0,i));var o=n.lastIndexOf(r);if(o>-1){var a=n.lastIndexOf(")");if(a>o){t=n.substring(o+r.length,a);var s=t.indexOf(",");s>-1&&(t=t.substring(0,s))}}return t}function a(t,n){e.Log.verbose(7,"Using format "+t+" to get player type.");var r=null;switch(t){case 1:e.PlayerDetector.HlsType1Supported(n)?r=1:e.Log.warning(7,"HLS type1 is not supported.");break;case 2:e.PlayerDetector.Mp4Type1Supported(n)?r=1:e.Log.warning(7,"MP4 type1 is not supported.");break;case 3:e.PlayerDetector.MseSupported(n)?r=3:e.Log.warning(7,"MSE is not supported.")}return r}!function(e){e[e.hls=1]="hls",e[e.mp4=2]="mp4",e[e.dash=3]="dash"}(t.Format||(t.Format={}));var s=(t.Format,{"m3u8-aapl-v3":1,"m3u8-aapl-v4":1,"mpd-time-csf":3,"mpd-time-cmaf":3}),l={mp4:2,m3u8:1},u={"video/mp4":2,"application/dash+xml":3,"application/vnd.apple.mpegurl":1};t.getByPresentationType=n,t.getByUrl=r,t._getFileExtension=i,t._getAzureMediaFormatTag=o,t._getPlayerTypeByFormat=a}(e.PlayerType||(e.PlayerType={})),e.PlayerType}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(e){for(var t=0;t<i.length;t++)if(i[t]&&i[t].id&&i[t].id==e){var n=i.splice(t,1);return 1===n.length?n[0]:null}return null}if(t.setTimeout=window.setTimeout.bind(window),t.clearTimeout=window.clearTimeout.bind(window),!(window.Worker&&Blob&&window.URL&&window.URL.createObjectURL&&-1==navigator.userAgent.indexOf("MSAppHost")))return void e.Log.verbose(7,"AzureHtml5JS.Util: cannot override setTimeout/clearTimeout");var r=0,i=[];try{var o=new Blob(["'use strict';(function () {var timers = [];onmessage = function (event) {if (!event.data.id) {return;}if (event.data.start) {if (event.data.ms) {var internalId = setTimeout(function () {var expiredId = removeTimer(event.data.id);if (expiredId && expiredId.external) {postMessage({ type: 'timeout', id: expiredId.external });}}, event.data.ms);timers.push({ external: event.data.id, internal: internalId });postMessage({ type: 'started', id: event.data.id });}else {postMessage({ type: 'timeout', id: event.data.id });}}else if (event.data.stop) {var removedId = removeTimer(event.data.id);if (removedId && removedId.internal) {clearTimeout(removedId.internal);}postMessage({ type: 'cancelled', id: event.data.id });}};function removeTimer(timerId) {for (var i = 0; i < timers.length; i++) {if (timers[i] && timers[i].external && timers[i].external == timerId) {var removed = timers.splice(i, 1);return removed.length === 1 ? removed[0] : null;}}return null;}})();"],{type:"text/javascript"}),a=new Worker(window.URL.createObjectURL(o));a.onmessage=function(e){if("timeout"===e.data.type){var t=n(e.data.id);t&&t.callback&&t.callback.apply(t.ctx,t.args)}else"cancelled"===e.data.type&&n(e.data.id)},t.setTimeout=function(e,t){for(var n=[],o=0;o<arguments.length-2;o++)n[o]=arguments[o+2];return r++,i.push({id:r,ctx:this,callback:e,args:n}),a.postMessage({start:!0,id:r,ms:t}),r},t.clearTimeout=function(e){a.postMessage({stop:!0,id:e})}}catch(s){e.Log.verbose(7,"AzureHtml5JS.Util: setTimeout/clearTimeout override failed: "+s)}}(e.Util||(e.Util={})),e.Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function n(e){var t=e.requestedStream.streamingInfo.currentSegment,n=t.segmentInfo.durationInSec;return!n&&e.sessionContext.commonPresentation.isLive&&t.prev&&(n=t.prev.segmentInfo.durationInSec),n}function r(t){return e.assert(0===t.requestedStream.type||1===t.requestedStream.type||2===t.requestedStream.type,"getBufferData: unexpected type"),0===t.requestedStream.type?t.sessionContext.videoBufferData:1===t.requestedStream.type?t.sessionContext.audioBufferData:t.sessionContext.textBufferData}t.getSegmentDuration=n,t.getBufferData=r}(e.StreamUtil||(e.StreamUtil={})),e.StreamUtil}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";function t(e,t){var i,o,a="";if(e.length>n?(i=parseInt(e.slice(0,e.length-n),10),o=parseInt(e.slice(e.length-n),10)):(i=0,o=parseInt(e,10)),o+=t,o>=r){var s=Math.floor(o/r);i+=s,o%=r}var l=o.toString();if(i){a=i.toString();for(var u=0;u<n-l.length;u++)a+="0"}return a+=l}var n=6,r=Math.pow(10,n);e.add=t}(e.Timestamp||(e.Timestamp={})),e.Timestamp}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(e){this.imsc1Disabled=!1,this.imsc1TrackPreviouslySelected=!1,this.ttmlTrackIsValid=!1,this.cueDownloadCount=0,this.consecutiveEmptyTtmlsLookup={},this.playerId=e,this.domParser=new DOMParser}return t.prototype.reset=function(){this.ttmlTrackIsValid=!1,this.consecutiveEmptyTtmlsLookup={}},t.prototype.parseInitSegment=function(t){if(!t)return e.Log.warning(16,"Init segment: no media data for TTML"),!1;var n,r,i,o,a,s,l,u=new DataView(t);return(n=e.Mp4Util.GetBoxByType(u,"moov"))?(r=e.Mp4Util.GetBoxByType(n.data,"trak"))?(i=e.Mp4Util.GetBoxByType(r.data,"mdia"))?(o=e.Mp4Util.GetBoxByType(i.data,"minf"))?(a=e.Mp4Util.GetBoxByType(o.data,"stbl"))?(s=e.Mp4Util.GetBoxByType(a.data,"stsd"))?(s=e.Mp4Util.Mp4FullBox.parse(s),l=e.Mp4Util.GetBoxByTypeFromFixedChildren(s,"stpp"),l?(this.ttmlTrackIsValid=!0,e.Log.warning(16,"The ttml track is valid.")):e.Log.warning(16,"The ttml track is invalid."),this.ttmlTrackIsValid):(e.Log.warning(16,"stsd not found"),!1):(e.Log.warning(16,"stbl not found"),!1):(e.Log.warning(16,"minf not found"),!1):(e.Log.warning(16,"mdia not found"),!1):(e.Log.warning(16,"trak not found"),!1):(e.Log.warning(16,"moov not found"),!1)},Object.defineProperty(t.prototype,"normalizedPresentationTimeInSeconds",{set:function(e){this.normalizedPresentationTimeInSecs=e},enumerable:!0,configurable:!0}),t.prototype.processTtml=function(n,r){e.Log.verbose(16,"Processing ttml data");var i=this;if(this.ttmlTrackIsValid){var o=this.extractTtml(r);if(o){var a=this.ttmlToCue(o);if(a.cues.length>0){var s=window.amp.getPlayers(),l=null;if(s&&(l=s[this.playerId])){for(var u=!0,d=a.cues.length-1;d>=0;d--)if(a.cues[d].text){u=!1;break}!u&&this.imsc1Disabled&&(e.Log.verbose(16,"Restarting IMSC1 captions."),l.prepareForImsc1Captions(this.imsc1TrackPreviouslySelected),this.imsc1Disabled=!1);for(var c=1===l.options_.imsc1CaptionsSettings.length,p=l.textTracks(),d=0;d<p.length;d++){var h=p[d];if(h.isImsc1&&(void 0!==h.language&&h.language.toLowerCase()==a.lang||c)){i.cueDownloadCount%t.cueCleanupFrequency||i.cleanupCues(l,h),h.loaded_=!0,a.cues.forEach(function(e){h.addCue(e)});var f=this.consecutiveEmptyTtmlsLookup[n];if((!f||isNaN(f))&&(f=0),u){if(++f>=t.consecutiveEmptyCaptionsThreshold){var m="Empty IMSC1 captions in stream "+n;e.Log.error(16,m),f=0}Date.now()-this.lastNonEmptyTtmlTimestamp>t.emptyCaptionsTimeThreadhold&&(e.Log.verbose(16,"Turning off IMSC1 captions."),this.imsc1TrackPreviouslySelected="showing"===h.mode,l.removeRemoteTextTrack(h),this.imsc1Disabled=!0)}else f=0,this.lastNonEmptyTtmlTimestamp=Date.now();this.consecutiveEmptyTtmlsLookup[n]=f;break}}i.cueDownloadCount++}}}}else e.Log.error(16,"Skipping ttml data. The ttml track is invalid.")},t.prototype.extractTtml=function(t){if(e.Log.verbose(16,"Extracting ttml data"),!t)return e.Log.warning(16,"Media segment: no media data for TTML"),null;var n,r=new DataView(t);return n=e.Mp4Util.GetBoxByType(r,"mdat"),n?n.readUTF8StringUntilEnd():(e.Log.warning(16,"mdat not found"),null)},t.prototype.ttmlToCue=function(e){var t=this.domParser.parseFromString(e,"text/xml"),n=this.getLanguage(t),r=t.getElementsByTagName("p"),i=[];if(r.length>0)for(var o=0;o<r.length;o++)i=i.concat(this.parseTTMLCue(r[o]));return{lang:n,cues:i}},t.prototype.getLanguage=function(e){var t,n=e.getElementsByTagName("tt");return n&&n.length>0&&(t=n[0].getAttribute("xml:lang")),t=t||"",t.toLowerCase()},t.prototype.parseTTMLCue=function(e){for(var t=e.getAttribute("begin").split(":"),n=e.getAttribute("end").split(":"),r=this.convertTimeToSeconds(t)+this.normalizedPresentationTimeInSecs,i=this.convertTimeToSeconds(n)+this.normalizedPresentationTimeInSecs,o="",a=0;a<e.childNodes.length;a++){var s=e.childNodes[a],l="";3===s.nodeType&&"\n"!==s.nodeValue[0]?l=s.nodeValue:1===s.nodeType&&("br"===s.nodeName?l="\n":"span"===s.nodeName&&""!==s.textContent&&(l=s.textContent)),o+=l}return{startTime:r,endTime:i,text:o,hasBeenReset:!0,align:"middle",line:14,lineAlign:"start",position:50,positionAlign:"middle",size:100,snapToLines:!0,vertical:""}},t.prototype.convertTimeToSeconds=function(e){return 60*(60*parseFloat(e[0])+parseFloat(e[1]))+parseFloat(e[2])},t.prototype.cleanupCues=function(t,n){for(var r=Date.now(),i=t.currentAbsoluteTime()||t.currentTime(),o=n.cues,a=0,s=0;s<o.length;)o[s].endTime<i?(n.removeCue(o[s]),a++):s++;e.Log.verbose(16,"cleanupCues removed "+a+" cues. Spent "+(Date.now()-r)+"ms")},t.prototype.calculateMemorySize=function(t){for(var n=Date.now(),r=t.cues,i=0,o=0,a=function(e){return e?e.length:0};o<r.length;){if(i+=r[o].text.length,r[o].displayState){var s=r[o].displayState;i+=a(s.innerHTML),i+=a(s.innerText),i+=a(s.outerHTML),i+=a(s.outerText),i+=a(s.textContent),i+=a(s.baseURI)}i*=2,o++}e.Log.verbose(16,"calculateMemorySize mem size="+i/1024/1024+" mb. Spent "+(Date.now()-n)+"ms")},t.cueCleanupFrequency=5,t.consecutiveEmptyCaptionsThreshold=10,t.emptyCaptionsTimeThreadhold=3e4,t}();t.Manager=n}(e.Ttml||(e.Ttml={})),e.Ttml}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function t(){}return t.FormatDashMediaUrl=function(e,t,n,r){if(!e)throw new Error("url Template is not set");if(!t)throw new Error("bitrate is not set");var i=e;return i=i.replace("$Bandwidth$",t),n&&(i=i.replace("$Time$",n)),r&&(i+=r),i},t.FormatDashInitUrl=function(t,n,r){return e.UrlFormatter.FormatDashMediaUrl(t,n,null,r)},t}();e.UrlFormatter=t}(e.Util||(e.Util={})),e.Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var n=function(){function t(){if(!t.useJavascriptLibrary){var e="msCrypto"in window,n=e?window.msCrypto:window.crypto;this._webCryptor=n.subtle||n.webkitSubtle}}return t.prototype.dispose=function(){this._webCryptor=null},t.prototype.initialize=function(t,n,r){var i=this,o={name:"aes-cbc",iv:r};return new Promise(function(a,s){i._webCryptoImportKey(n,o).then(function(n){t.webCrypto={importedkey:n,algorithm:o},i.type="webcrypto",e.Log.verbose(12,"Using webcrypto"),a()},function(o){return n&&r?(t.forge={keyStr:e.Common.uint8ArrayToString(new Uint8Array(n)),ivStr:e.Common.uint8ArrayToString(new Uint8Array(r))},i.type="forge",e.Log.verbose(12,"Using forge"),void a()):void s(o)})})},t.prototype.isInitialized=function(e){return null!=e.forge||null!=e.webCrypto},t.prototype.decrypt=function(e,t){var n=this;return new Promise(function(r,i){e.webCrypto?n._webCryptoDecrypt(e.webCrypto.algorithm,e.webCrypto.importedkey,t).then(function(e){r(e)},function(e){i(e)}):n._forgeDecrypt(e.forge,t).then(function(e){r(e)},function(e){i(e)})})},t.prototype._webCryptoImportKey=function(e,t){var n=this;return new Promise(function(r,i){function o(e){var t=s.result?s.result:e;r(t)}function a(e){i(e)}if(!n._webCryptor)return void i("Platform doesn't support webCrypto");var s=n._webCryptor.importKey("raw",new Uint8Array(e),t,!1,["decrypt"]);"oncomplete"in s?(s.oncomplete=o,s.onerror=a):s.then(function(e){o(e)},function(e){a(e)})})},t.prototype._forgeDecrypt=function(n,r){return new Promise(function(i,o){function a(){e.Forge.decrypt(s,n,r)||(Date.now()-l<t._maxWorkerWaitMSec?e.Util.setTimeout(a,0):o("The forge worker is too busy, total wait time = "+(Date.now()-l)+"ms"))}function s(e){i(e.buffer)}var l=Date.now();a()})},t.prototype._webCryptoDecrypt=function(e,t,n){var r=this;return new Promise(function(i,o){function a(e){var t=l.result?l.result:e;i(t)}function s(e){o(e)}var l=r._webCryptor.decrypt(e,t,new Uint8Array(n));"oncomplete"in l?(l.oncomplete=a,l.onerror=s,l.onabort=s):l.then(function(e){a(e)},function(e){s(e)})})},t.useJavascriptLibrary=!1,t._maxWorkerWaitMSec=3e4,t}();t.Decryptor=n}(e.WebCryptoUtil||(e.WebCryptoUtil={})),e.WebCryptoUtil}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(){this.xmlHttpRequestDelegate=new XMLHttpRequest}return Object.defineProperty(e.prototype,"responseType",{get:function(){return this.xmlHttpRequestDelegate.responseType},set:function(e){this.xmlHttpRequestDelegate.responseType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this.xmlHttpRequestDelegate.timeout},set:function(e){this.xmlHttpRequestDelegate.timeout=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"msCaching",{get:function(){return this.xmlHttpRequestDelegate.msCaching?this.xmlHttpRequestDelegate.msCaching:void 0},set:function(e){this.xmlHttpRequestDelegate.msCaching&&(this.xmlHttpRequestDelegate.msCaching=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this.xmlHttpRequestDelegate.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.xmlHttpRequestDelegate.status},set:function(e){this.xmlHttpRequestDelegate.status=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this.xmlHttpRequestDelegate.response},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusText",{get:function(){return this.xmlHttpRequestDelegate.statusText},enumerable:!0,configurable:!0}),e.prototype.setRequestHeader=function(e,t){this.xmlHttpRequestDelegate.setRequestHeader(e,t)},e.prototype.abort=function(){this.xmlHttpRequestDelegate.abort()},e.prototype.open=function(e,t,n,r,i){this.xmlHttpRequestDelegate.open(e,t,!n||n,r,i)},e.prototype.getResponseHeader=function(e){return this.xmlHttpRequestDelegate.getResponseHeader(e)},e.prototype.send=function(e){this.setCallbacksOnDelegate(),this.xmlHttpRequestDelegate.send(e)},e.prototype.setCallbacksOnDelegate=function(){var e=this;this.xmlHttpRequestDelegate.onabort=function(t){e.onabort&&e.onabort(t)},this.xmlHttpRequestDelegate.onerror=function(t){e.onerror&&e.onerror(t)},this.xmlHttpRequestDelegate.onload=function(t){e.onload&&e.onload(t)},this.xmlHttpRequestDelegate.onloadstart=function(t){e.onloadstart&&e.onloadstart(t)},this.xmlHttpRequestDelegate.onloadend=function(t){e.onloadend&&e.onloadend(t)},this.xmlHttpRequestDelegate.onprogress=function(t){e.onprogress&&e.onprogress(t)},this.xmlHttpRequestDelegate.ontimeout=function(t){e.ontimeout&&e.ontimeout(t)},this.xmlHttpRequestDelegate.onreadystatechange=function(t){e.onreadystatechange&&e.onreadystatechange(t)}},e}();e.XMLHttpRequestWrapper=t}(e.HttpRequest||(e.HttpRequest={})),e.HttpRequest}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JSTech=AzureHtml5JS,silverlightSSLoaded,onSilverlightError,UrlRewriter;!function(e){"use strict";function t(e){r(e)&&(b=e)}function n(){b=h}function r(e){if(e&&e.length>0){for(var t=0;t<e.length;t++)if(-1===h.indexOf(e[t]))throw new Error('Format "'+e[t]+'" not supported');return!0}return!1}function i(e,t){for(var n=[],r=0;r<t.length;r++)-1!==v[e].indexOf(t[r].type)&&n.push(t[r]);return n}function o(e){for(var t,n,r=[],i=[],o=0;e&&o<e.length;o++){var l=e[o].src,u=e[o].src.indexOf("?");-1!==u&&(l=e[o].src.substr(0,u).toLowerCase()),-1===l.toLowerCase().lastIndexOf(".ism/manifest")||e[o].disableUrlRewriter?r.push(e[o]):(n=a(e[o].src),-1===i.indexOf(n)&&(i.push(n),t=s(e[o]),t&&(r=r.concat(t))))}return r.length>0?r:null}function a(e){var t=e.trim(),n=t.search(/\.ism\/manifest/i);return t.substr(0,n+_.length)}function s(e){var t,n=e.src.trim(),o=n.search(/format=/i),s=[],h="",v="",w=n.indexOf("?");if(-1!==w&&(v=n.substr(w),""!==v)){var k=new RegExp("(\\?|&)protectionType=(.[^&]*)","i"),E=new RegExp("(\\?|&)token=(.[^&]*)","i"),C=v.match(k),P=v.match(E);if(C&&3===C.length){var I=new T;I.type=C[2],P&&3===P.length&&(I.authenticationToken=decodeURIComponent(P[2])),e.protectionInfo=[I]}}var M=n.match(/.*\(format=(.*)\)/),A=!1;if(M&&2===M.length){var R=M[1].toLowerCase();(0===R.indexOf(m)||0===R.indexOf(g))&&(A=!0)}o>-1&&(n=n.replace(/format=[^,)]*[ ,]*/i,""),n=n.replace(/\(\s*\)/,"")),t=n.match(/\.ism\/manifest\([^)]*\)/i),t&&t.length>0&&(h=t[0].substr(_.length+1).trim()),n=a(e.src.trim());var j=b;e.streamingFormats&&r(e.streamingFormats)&&(j=e.streamingFormats);for(var O=0;O<j.length;O++){var D,x,L,N="";if(D=j[O],x=y[D],D!==l){var B;B=D==u&&A?m:D!=d&&D!=c&&D!=p||!A?f[D]:g,N="(format="+B,N+=h?","+h:")"}else h&&(N="("+h);if(e.protectionInfo){var F=i(D,e.protectionInfo);if(!F.length)continue;L=new S(n+N,x,F)}else L=new S(n+N,x,null);""!==v&&(L.src+=v),s.push(L)}return s.length>0?s:null}var l="SMOOTH",u="DASH",d="HLS-V3",c="HLS-V4",p="HLS",h=[l,u,c,d,p],f={DASH:"mpd-time-csf","HLS-V3":"m3u8-aapl-v3","HLS-V4":"m3u8-aapl-v4",HLS:"m3u8-aapl"},m="mpd-time-cmaf",g="m3u8-cmaf",y={SMOOTH:"application/vnd.ms-sstr+xml",DASH:"application/dash+xml","HLS-V3":"application/vnd.apple.mpegurl","HLS-V4":"application/vnd.apple.mpegurl",HLS:"application/vnd.apple.mpegurl"},v={SMOOTH:["PlayReady","AES"],DASH:["PlayReady","AES","Widevine"],"HLS-V3":["PlayReady","AES"],"HLS-V4":["PlayReady","AES"],HLS:["PlayReady","AES","FairPlay"]},_=".ism/manifest",b=h,S=function(){function e(e,t,n){this.src=e,this.type=t,this.protectionInfo=n}return e}();e.streamSrc=S;
var T=function(){function e(){}return e}();e.protectionInfo=T,e.setStreamingFormats=t,e.resetStreamingFormats=n,e.expandSources=o}(UrlRewriter||(UrlRewriter={}));var AMP;!function(e){!function(e){"use strict";function t(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=[],r=0;r<e.byteLength;){var i=e[r++];n.push(t.charAt(i>>2)),i=(3&i)<<4,r<e.byteLength?(n.push(t.charAt(i|e[r]>>4)),i=(15&e[r++])<<2,r<e.byteLength?(n.push(t.charAt(i|e[r]>>6)),n.push(t.charAt(63&e[r++]))):(n.push(t.charAt(i)),n.push("="))):(n.push(t.charAt(i)),n.push("=="))}return n.join("")}function n(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=new Uint8Array(new ArrayBuffer(3*e.length/4+4)),r=0,i=0;r<e.length;){var o=t.indexOf(e.charAt(r)),a=t.indexOf(e.charAt(r+1));if(n[i++]=o<<2|a>>4,"="!==e.charAt(r+2)){var s=t.indexOf(e.charAt(r+2));if(n[i++]=a<<4|s>>2,"="!==e.charAt(r+3)){var l=t.indexOf(e.charAt(r+3));n[i++]=s<<6|l}}r+=4}return new Uint8Array(n.buffer,0,i)}e.binaryToBase64=t,e.base64ToBinary=n}(e.Base64Utils||(e.Base64Utils={})),e.Base64Utils}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";function t(e,t){f(e,3,t)}function n(e,t){f(e,2,t)}function r(e,t){f(e,1,t)}function i(e,t){f(e,0,t)}function o(e){for(var i=[],o=0;o<arguments.length-1;o++)i[o]=arguments[o+1];if(i&&i.length>0){var a=Array.prototype.slice.call(i[0]);switch(e){case"warn":n(4,a.join(" "));break;case"error":r(4,a.join(" "));break;case null:t(4,a.join(" "));break;default:t(4,a.join(" "))}}}function a(e){b=e}function s(e){void 0===e||null===e?S.forEach(function(e,t,n){n[t]=!0}):S[e]=!0}function l(e){void 0===e||null===e?S.forEach(function(e,t,n){n[t]=!1}):S[e]=!1}function u(e){"undefined"==typeof e&&(e=!0),k=e}function d(e){if(void 0!==e&&e.TraceTargets&&!(e.TraceTargets.length<=0)){k=!1,I=!1,b=e.maxLogLevel;for(var t=0;t<e.TraceTargets.length;t++)"console"===e.TraceTargets[t].target.toLowerCase()?I=!0:"memory"===e.TraceTargets[t].target.toLowerCase()&&(k=!0,C=e.TraceTargets[t].maxMemoryTraceCount?e.TraceTargets[t].maxMemoryTraceCount:w)}}function c(e){"undefined"==typeof e&&(e=!0);var t=E;return e&&(E=[]),t.join("\n")}function p(){P=E.slice()}function h(){return P.join("\n")}function f(e,t,n){var r=new Date(Date.now());if(b>=t&&S[e]){var i="["+("0"+r.getHours()).slice(-2)+":"+("0"+r.getMinutes()).slice(-2)+":"+("0"+(r.getSeconds()+r.getMilliseconds()/1e3).toFixed(3)).slice(-6)+"] "+m[t]+": "+g[e]+": "+n;k&&(E.length>C&&E.shift(),E.push(i)),I&&v.log(i)}}!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warning=2]="warning",e[e.verbose=3]="verbose"}(e.Level||(e.Level={}));var m=e.Level;!function(e){e[e.functionalTest=0]="functionalTest",e[e.azureHtml5JS=1]="azureHtml5JS",e[e.flashSS=2]="flashSS",e[e.silverlightSS=3]="silverlightSS",e[e.videojs=4]="videojs",e[e.plugin=5]="plugin",e[e.html5FairplayHLS=6]="html5FairplayHLS",e[e.html5=7]="html5",e[e.scte35=8]="scte35",e[e.scheduler=9]="scheduler",e[e.ad=10]="ad",e[e.ampAPI=11]="ampAPI",e[e.cea608Module=12]="cea608Module",e[e.ttml=13]="ttml",e[e.max=14]="max"}(e.Area||(e.Area={}));var g=e.Area;e.verbose=t,e.warning=n,e.error=r,e.startup=i,e.videoJSLogOverride=o,e.setConsoleOutputByLevel=a,e.enableConsoleOutputByArea=s,e.disableConsoleOutputByArea=l,e.enableMemoryLog=u,e.setLogConfig=d,e.getMemoryLog=c,e.saveMemoryLog=p,e.getSavedMemoryLog=h,e.writeEntry=f;for(var y=function(){},v=window.console||{log:y,warn:y,error:y},_=!1,b=0,S=[],T=0;14>T;T++)S.push(!1);var w=5e4,k=!1,E=[],C=w,P=[],I=!0;e.enableConsoleOutputByArea(),e.setConsoleOutputByLevel(_?3:1)}(e.Logger||(e.Logger={})),e.Logger}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";function t(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];var n=Array.prototype.slice.call(e,1);return e[0].replace(/{(\d+)}/g,function(e,t){return"undefined"!=typeof n[t]?n[t]:e})}e.formatString=t}(e.Misc||(e.Misc={})),e.Misc}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";!function(e){e[e.audio=0]="audio",e[e.video=1]="video"}(e.MediaType||(e.MediaType={}));var t=(e.MediaType,function(){function e(e,t){this._el=e,this._typeStr=0===t?"Audio":"Video",this._bufferLevel=0,this._handlers=new n,this.downloadRequested=null,this.downloadCompleted=null,this.downloadFailed=null}return Object.defineProperty(e.prototype,"bufferLevel",{get:function(){var e="get"+this._typeStr+"BufferLength";return this._el&&this._el[e]?this._el[e]():0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"perceivedBandwidth",{get:function(){return this._el&&this._el.getPerceivedBandwidth?this._el.getPerceivedBandwidth():0},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t){this._handlers[e]&&this._handlers[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this._handlers[e]){var n=this._handlers[e].indexOf(t);-1!==n&&this._handlers[e].splice(n,1)}},e.prototype.dispatchEvent=function(e){if(this._handlers[e])for(var t={type:e},n=0;n<this._handlers[e].length;n++)this._handlers[e][n].call(this,t)},e}());e.BufferData=t;var n=function(){function e(){this.downloadrequested=[],this.downloadcompleted=[],this.downloaddecrypted=[],this.downloadfailed=[]}return e}()}(e.FlashSS||(e.FlashSS={})),e.FlashSS}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";var n=function(){function t(e){this._streams=[],this._flashElement=e;for(var t=0;t<e.getNumAlternativeAudioStreams();t++){var n=new r(e,t);this._streams.push(n)}this.selectedIndex=this._streams.length>0?e.getCurrentAlternativeAudioStreamIndex():void 0}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var e=[],t=0;t<this._streams.length;t++)if(this._streams[t].enabled){e.push(t);break}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){0!=this._streams.length&&(void 0!=this._selectedIndex&&(this._streams[this._selectedIndex].enabled=!1),this._streams[e].enabled=!0,this._selectedIndex=e)},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){if(this._flashElement.getHasAlternativeAudio()){if(1!=this.enabledIndices.length)return e.Logger.error(2,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled"),void this._flashElement.tech.trigger(amp.streamListEventName.streamselectnotsupported);if(t>=this.streams.length||0>t)return e.Logger.error(2,"audioChange failed - tried to enable invalid index: "+t),void this._flashElement.tech.trigger(amp.streamListEventName.streamindexinvalid);if(t===this.enabledIndices[0])return e.Logger.verbose(2,"audioChange failed because current stream selected"),void this._flashElement.tech.trigger(amp.streamListEventName.streamselected);this.selectedIndex=t,this._flashElement.switchAlternativeAudioIndex(t),this._flashElement.tech.trigger(amp.streamListEventName.streamselected)}else e.Logger.error(2,"No alternative audio streams found")},t.prototype.addEventListener=function(e,t){this._flashElement.tech.on(e,t)},t.prototype.removeEventListener=function(e,t){this._flashElement.tech.off(e,t)},t}();t.AudioStreamList=n;var r=function(){function e(e,t){this.enabled=!1,this.language=e.getAlternativeAudioItemAt(t).info.attributes.Language,this.codec=e.getAlternativeAudioItemAt(t).info.targetTrack.fourCC,this.bitrate=1e3*e.getAlternativeAudioItemAt(t).bitrate,this.name=this.getName(e,t)}return e.prototype.getName=function(e,t){var n=e.getAlternativeAudioItemAt(t).info.urlTemplate.toLowerCase(),r="fragments(",i=n.indexOf(r),o=n.indexOf("=",i);return e.getAlternativeAudioItemAt(t).info.urlTemplate.substring(i+r.length,o)},e}();t.AudioStream=r}(e.FlashSS||(e.FlashSS={})),e.FlashSS}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";var t=function(){function e(e){if(this.streams=[],e.getIsDynamicStream()){var t=new n(e);this.streams.push(t)}this.selectedIndex=this.streams.length>0?0:void 0}return e}();e.VideoStreamList=t;var n=function(){function e(e){this.name="",this.tracks=[],this._flashElement=e,this._selectedTrack=-1;for(var t=e.getStreamItems(),n=0;n<t.length;n++){var r=new i(t[n]);this.tracks.push(r)}}return e.prototype.selectTrackByIndex=function(e){if(this._selectedTrack!=e){-1==e?this._flashElement.setAutoDynamicStreamSwitch(!0):(this._flashElement.setAutoDynamicStreamSwitch(!1),this._flashElement.switchDynamicStreamIndex(e));for(var t=0;t<this.tracks.length;t++)this.tracks[t].streamingInfo.selectable=-1===e||e===t;this._selectedTrack=e,this._flashElement.tech.trigger(amp.streamEventName.trackselected)}},e.prototype.addEventListener=function(e,t){this._flashElement.tech.on(e,t)},e.prototype.removeEventListener=function(e,t){this._flashElement.tech.off(e,t)},e}();e.VideoStream=n;var r=function(){function e(){this.selectable=!0}return e}();e.MediaTrackStreamingInfo=r;var i=function(){function e(e){this.width=e.width,this.height=e.height,this.bitrate=1e3*e.bitrate,this.streamingInfo=new r}return Object.defineProperty(e.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),e}();e.VideoTrack=i}(e.FlashSS||(e.FlashSS={})),e.FlashSS}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";var t=function(){function e(e){this._html5Tech=e}return Object.defineProperty(e.prototype,"streams",{get:function(){var e=[],t=this._html5Tech.player().audioTracks();if(t)for(var n=0;n<t.length;n++){var r={name:t[n].label,codec:"aac",language:t[n].language,bitrate:0,enabled:t[n].enabled};e.push(r)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabledIndices",{get:function(){var e=[],t=this._html5Tech.player().audioTracks();if(t)for(var n=0;n<t.length;n++)t[n].enabled&&e.push(n);return e},enumerable:!0,configurable:!0}),e.prototype.switchIndex=function(e){var t=this._html5Tech.player().audioTracks();if(t&&e>=0&&e<t.length)for(var n=0;n<t.length;n++)t[n].enabled=n===e,n===e&&this._html5Tech.trigger(amp.streamListEventName.streamselected)},e.prototype.addEventListener=function(e,t){this._html5Tech.on(e,t)},e.prototype.removeEventListener=function(e,t){this._html5Tech.off(e,t)},e}();e.AudioStreamList=t}(e.Html5||(e.Html5={})),e.Html5}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";var n;!function(e){e[e.success=200]="success"}(n||(n={}));var r=function(){function e(e,t,n){this.src=e,this.autoPlay=t,this.fairplayInfo=n}return e}();t.SrcInfo=r;var i=function(){function e(e,t){this.code=e,this.msg=t}return e}(),o=function(){function e(e,t,n,r){this.target=e,this.listener=t,this.eventName=n,this.useCapture=r}return e}(),a=function(){function t(e,t,n,r){this.videoTag=e,this.srcInfo=t,this.onError=n,this.onEvent=r,this.certFecthed=!1,this.certificate=null,this.session=null,this.licenseUrl=null,this.disposed=!1,this.keySessionEventListeners=[],this.init()}return t.prototype.dispose=function(){this.disposed=!0,this.keySessionEventListeners.forEach(function(e){e.target.removeEventListener(e.eventName,e.listener,e.useCapture)}),this.keySessionEventListeners=null,this.videoTag&&(this.videoTag=null),this.srcInfo=null,this.onError=null,this.certificate=null,this.onEvent=null,this.certFecthed=!1,this.session&&this.session.close()},t.prototype.init=function(){function t(){r.certFecthed=!0,r.setSrcOnVideoElement()}function n(){return new Promise(function(t,n){function o(){r.disposed||(e.Logger.verbose(6,"FairPlay certificate fetch completed"),200===this.status?(r.certificate=new Uint8Array(this.response),t()):n(new i(5242887,"Fairplay certificate fetch failed with status ="+this.status)))}function a(){r.disposed||n(new i(5242887,"Error occurred during Fairplay certificate fetch."))}var s=new XMLHttpRequest;s.open("GET",r.srcInfo.fairplayInfo.certificateUrl,!0),s.responseType="arraybuffer",s.onload=o,s.onerror=a,e.Logger.verbose(6,"Fairplay certificate fetch initiated"),s.send()})}if(!this.srcInfo.fairplayInfo||!this.srcInfo.fairplayInfo.type||"FairPlay"!=this.srcInfo.fairplayInfo.type||!this.srcInfo.fairplayInfo.certificateUrl)return void this.onError(4194304,"Initialization Error in FairPlay");var r=this;n().then(t)["catch"](function(t){e.Logger.error(6,t.msg),r.onError(t.code,t.msg)})},t.prototype.play=function(){this.certFecthed?this.videoTag.play():this.pendingPlay=!0},t.prototype.addEventListener=function(e,t,n,r){e.addEventListener(t,n,r),this.keySessionEventListeners.push(new o(e,n,t,r))},t.prototype.setSrcOnVideoElement=function(){function t(e){if(!u.disposed){var t=e.initData,a="com.apple.fps.1_0";u.contentId=o(t),t=u.concatInitDataContentIdAndCertificate(t,l(u.contentId)),u.session=i(t,a),u.session&&(u.addEventListener(u.session,"webkitkeymessage",n,!1),u.addEventListener(u.session,"webkitkeyerror",r,!1))}}function n(t){function n(){if(!u.disposed)try{if(e.Logger.verbose(6,"FairPlay License fetch completed"),200!==this.status)throw Error("License fetch failed with http status = "+this.status);var t=this.responseText.trim(),n=t.indexOf("<ckc>"),r=t.indexOf("</ckc>");if(-1===n||-1===r)throw Error("License data format not as expected, missing or misplaced <ckc> tag");n+=5,t=t.substr(n,r-n);var i=e.Base64Utils.base64ToBinary(t);u.session.update(i)}catch(o){var a=o.message?o.message:"Failed to update MediaKeySession with fetched Fairplay license.";e.Logger.error(6,a),u.onError(5242886,a)}}function r(){if(!u.disposed){var t="Error occurred during Fairplay license fetch.";e.Logger.error(6,t),u.onError(5242886,t)}}if(!u.disposed){var i=new XMLHttpRequest;i.open("POST",u.licenseUrl,!0),i.onload=n,i.onerror=r,i.responseType="text";var o="spc="+e.Base64Utils.binaryToBase64(t.message)+"&assetId="+encodeURIComponent(u.contentId);i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.srcInfo.fairplayInfo.authenticationToken&&i.setRequestHeader("Authorization",u.srcInfo.fairplayInfo.authenticationToken),e.Logger.verbose(6,"FairPlay License fetch initiated"),i.send(o)}}function r(){if(!u.disposed){var t="MediaKeyError code: "+u.session.error.code+", systemCode: "+AzureHtml5JS.Common.toHexString(u.session.error.systemCode);e.Logger.error(6,t),u.onError(5242880,t)}}function i(t,n){var r="video/mp4",i="WebKitMediaKeys"in window,o=null;try{if(!i||!window.WebKitMediaKeys.isTypeSupported(n,r))throw new Error("No EME support.");u.videoTag.webkitSetMediaKeys(new window.WebKitMediaKeys(n)),o=u.videoTag.webkitKeys.createSession(r,t)}catch(a){var s=a.message?a.message:n+" session creation failed";e.Logger.error(6,s),u.onError(5242881,s)}return o}function o(e){var t=s(e);return u.licenseUrl=t.substring(1).replace("skd://","https://"),a(u.licenseUrl)}function a(e){var t=document.createElement("a");return t.href=e,t.hostname}function s(e){var t=new Uint16Array(e.buffer);try{return String.fromCharCode.apply(null,t)}catch(n){for(var r=[],i=0;i<t.byteLength;i++)r.push(String.fromCharCode(t[i]));return r.join("")}}function l(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;i>r;r++)n[r]=e.charCodeAt(r);return n}if(!this.disposed){this.addEventListener(this.videoTag,"webkitneedkey",t,!1),this.videoTag.autoplay=this.srcInfo.autoPlay,this.videoTag.src=this.srcInfo.src,this.pendingPlay&&this.videoTag.play();var u=this}},t.prototype.concatInitDataContentIdAndCertificate=function(e,t){var n=4,r=e.length+n+t.byteLength+n+this.certificate.byteLength,i=new ArrayBuffer(r),o=new DataView(i),a=0,s=new Uint8Array(i,a,e.byteLength);s.set(e),a+=s.byteLength,o.setUint32(a,t.byteLength,!0),a+=n;var l=new Uint16Array(i,a,t.length);l.set(t),a+=l.byteLength,o.setUint32(a,this.certificate.byteLength,!0),a+=n;var u=new Uint8Array(i,a,this.certificate.byteLength);return u.set(this.certificate),new Uint8Array(i,0,i.byteLength)},t}();t.FairPlay=a}(e.Html5Fairplay||(e.Html5Fairplay={})),e.Html5Fairplay}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";function n(e){var t=null;if(e)try{for(var n=window.atob(e),i=new ArrayBuffer(n.length),o=new Uint8Array(i),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);t=r(o)}catch(s){t=null}return t}function r(t){var n=null;if(t&&t.length>18)try{var r=9e4,i=4294967296,o=67108864,a=16777216;n={id:void 0,startOffset:0};var s=t[4]>>7;if(s)e.Logger.warning(8,"Received encrypted message. Skipping..");else{var l=(127&t[4])*o+(t[5]<<18)+(t[6]<<10)+(t[7]<<2)+(t[8]>>6),u=t[13];if(5!=u)e.Logger.warning(8,"Skipping unsupported splice command: "+u);else if(n.id=t[14]*a+(t[15]<<16)+(t[16]<<8)+t[17],n.cancel=t[18]>>7==1,!n.cancel){n.out=t[19]>>7==1;var d=(64&t[19])>>6==1,c=(32&t[19])>>5==1,p=(16&t[19])>>4==1;if(d)if(p)-1==n.startOffset;else{var h=(128&t[20])>>7==1;if(h){var f=(1&t[20])*i+t[21]*a+(t[22]<<16)+(t[23]<<8)+t[24];n.startOffset=(f+l)/r}if(c){var m=h?25:21,g=(1&t[m],(1&t[m])*i+t[m+1]*a+(t[m+2]<<16)+(t[m+3]<<8)+t[m+4]);n.duration=g/r}}else e.Logger.warning(8,"Component splice mode is not supported.")}}}catch(y){n=null}return n}t.parseBase64EncodedMessage=n,t.parseBinaryMessage=r}(e.Scte35Parser||(e.Scte35Parser={})),e.Scte35Parser}(AMP||(AMP={})),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return i(n?n:e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===c?62:t===s||t===p?63:l>t?-1:l+10>t?t-l+26+26:d+26>t?t-d:u+26>t?t-u+26:void 0}function n(e){function n(e){u[c++]=e}var r,i,a,s,l,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=e.length;l="="===e.charAt(d-2)?2:"="===e.charAt(d-1)?1:0,u=new o(3*e.length/4-l),a=l>0?e.length-4:e.length;var c=0;for(r=0,i=0;a>r;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===l&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),u}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,l="";for(i=0,a=e.length-s;a>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],l+=n(o);switch(s){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),d="A".charCodeAt(0),c="-".charCodeAt(0),p="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],2:[function(){},{}],3:[function(e,t,n){(function(t){"use strict";function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):l(this,e)):arguments.length>1?new o(e,arguments[1]):new o(e)}function a(e,t){if(e=m(e,0>t?0:0|g(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function s(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|v(t,n);return e=m(e,r),e.write(t,n),e}function l(e,t){if(o.isBuffer(t))return u(e,t);if(Z(t))return d(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return c(e,t);if(t instanceof ArrayBuffer)return p(e,t)}return t.length?h(e,t):f(e,t)}function u(e,t){var n=0|g(t.length);return e=m(e,n),t.copy(e,0,0,n),e}function d(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function c(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function p(e,t){return o.TYPED_ARRAY_SUPPORT?(t.byteLength,e=o._augment(new Uint8Array(t))):e=c(e,new Uint8Array(t)),e}function h(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t){var n,r=0;"Buffer"===t.type&&Z(t.data)&&(n=t.data,r=0|g(n.length)),e=m(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function m(e,t){o.TYPED_ARRAY_SUPPORT?(e=o._augment(new Uint8Array(t)),e.__proto__=o.prototype):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=o.poolSize>>>1;return n&&(e.parent=Q),e}function g(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function y(e,t){if(!(this instanceof y))return new y(e,t);var n=new o(e,t);return delete n.parent,n}function v(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return M(this,t,n);case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function S(e,t,n,r){return G(V(t,e.length-n),e,n,r)}function T(e,t,n,r){return G(q(t),e,n,r)}function w(e,t,n,r){return T(e,t,n,r)}function k(e,t,n,r){return G(K(t),e,n,r)}function E(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function C(e,t,n){return J.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=i+s){var l,u,d,c;switch(s){case 1:128>o&&(a=o);break;case 2:l=e[i+1],128===(192&l)&&(c=(31&o)<<6|63&l,c>127&&(a=c));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(c=(15&o)<<12|(63&l)<<6|63&u,c>2047&&(55296>c||c>57343)&&(a=c));break;case 4:l=e[i+1],u=e[i+2],d=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&d)&&(c=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&d,c>65535&&1114112>c&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return I(r)}function I(e){var t=e.length;if(X>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=X));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=H(e[o]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||a>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function x(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function B(e,t,n,r,i){return i||N(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||N(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(e,t,n,r,52,8),n+8}function U(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return 16>e?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function K(e){return J.toByteArray(U(e))}function G(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var J=e("base64-js"),Y=e("ieee754"),Z=e("isarray");n.Buffer=o,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Q={};o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);a>i&&e[i]===t[i];)++i;return i!==a&&(n=e[i],r=t[i]),r>n?-1:n>r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Z(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new o(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new o(t),i=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,i),i+=a.length}return r},o.byteLength=v,o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):_.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:o.compare(this,e)},o.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(o.isBuffer(e))return n(this,e,t);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(e){return this.readUInt8(e)},o.prototype.set=function(e,t){return this.writeUInt8(e,t)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return T(this,e,t,n);case"binary":return w(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=o._augment(this.subarray(e,t));else{var i=t-e;r=new o(i,(void 0));for(var a=0;i>a;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},o.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),Y.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),Y.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),Y.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),Y.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||D(this,e,t,n,Math.pow(2,8*n),0);
var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||D(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,s=0>e?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||D(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&t>n&&r>t)for(i=a-1;i>=0;i--)e[i+t]=this[i+n];else if(1e3>a||!o.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=V(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=o.prototype;o._augment=function(e){return e.constructor=o,e._isBuffer=!0,e._set=e.set,e.get=$.get,e.set=$.set,e.write=$.write,e.toString=$.toString,e.toLocaleString=$.toString,e.toJSON=$.toJSON,e.equals=$.equals,e.compare=$.compare,e.indexOf=$.indexOf,e.copy=$.copy,e.slice=$.slice,e.readUIntLE=$.readUIntLE,e.readUIntBE=$.readUIntBE,e.readUInt8=$.readUInt8,e.readUInt16LE=$.readUInt16LE,e.readUInt16BE=$.readUInt16BE,e.readUInt32LE=$.readUInt32LE,e.readUInt32BE=$.readUInt32BE,e.readIntLE=$.readIntLE,e.readIntBE=$.readIntBE,e.readInt8=$.readInt8,e.readInt16LE=$.readInt16LE,e.readInt16BE=$.readInt16BE,e.readInt32LE=$.readInt32LE,e.readInt32BE=$.readInt32BE,e.readFloatLE=$.readFloatLE,e.readFloatBE=$.readFloatBE,e.readDoubleLE=$.readDoubleLE,e.readDoubleBE=$.readDoubleBE,e.writeUInt8=$.writeUInt8,e.writeUIntLE=$.writeUIntLE,e.writeUIntBE=$.writeUIntBE,e.writeUInt16LE=$.writeUInt16LE,e.writeUInt16BE=$.writeUInt16BE,e.writeUInt32LE=$.writeUInt32LE,e.writeUInt32BE=$.writeUInt32BE,e.writeIntLE=$.writeIntLE,e.writeIntBE=$.writeIntBE,e.writeInt8=$.writeInt8,e.writeInt16LE=$.writeInt16LE,e.writeInt16BE=$.writeInt16BE,e.writeInt32LE=$.writeInt32LE,e.writeInt32BE=$.writeInt32BE,e.writeFloatLE=$.writeFloatLE,e.writeFloatBE=$.writeFloatBE,e.writeDoubleLE=$.writeDoubleLE,e.writeDoubleBE=$.writeDoubleBE,e.fill=$.fill,e.inspect=$.inspect,e.toArrayBuffer=$.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:7,isarray:4}],4:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],5:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function d(e){return"[object RegExp]"===g(e)}function c(e){return"object"==typeof e&&null!==e}function p(e){return"[object Date]"===g(e)}function h(e){return"[object Error]"===g(e)||e instanceof Error}function f(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=l,n.isUndefined=u,n.isRegExp=d,n.isObject=c,n.isDate=p,n.isError=h,n.isFunction=f,n.isPrimitive=m,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":9}],6:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];for(u=n.slice(),i=u.length,l=0;i>l;l++)u[l].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,"function"==typeof console.trace)}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],7:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,d=-7,c=n?i-1:0,p=n?-1:1,h=e[t+c];for(c+=p,o=h&(1<<-d)-1,h>>=-d,d+=s;d>0;o=256*o+e[t+c],c+=p,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=256*a+e[t+c],c+=p,d-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,d=(1<<u)-1,c=d>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+c>=1?p/l:p*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=d?(s=0,a=d):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=f,a/=256,u-=8);e[n+h-f]|=128*m}},{}],8:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],9:[function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}t.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},{}],10:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],11:[function(e,t){function n(){if(!a){a=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}a=!1}}function r(){}var i=t.exports={},o=[],a=!1;i.nextTick=function(e){o.push(e),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],12:[function(e,t){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(e,t){(function(n){function r(e){return this instanceof r?(l.call(this,e),u.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},s=e("core-util-is");s.inherits=e("inherits");var l=e("./_stream_readable"),u=e("./_stream_writable");s.inherits(r,l),o(a(u.prototype),function(e){r.prototype[e]||(r.prototype[e]=u.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":15,"./_stream_writable":17,_process:11,"core-util-is":5,inherits:8}],14:[function(e,t){function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform"),i=e("core-util-is");i.inherits=e("inherits"),i.inherits(n,r),n.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":16,"core-util-is":5,inherits:8}],15:[function(e,t){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(I||(I=e("string_decoder/").StringDecoder),this.decoder=new I(t.encoding),this.encoding=t.encoding)}function i(t){return e("./_stream_duplex"),this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void C.call(this)):new i(t)}function o(e,t,n,r,i){var o=u(t,n);if(o)e.emit("error",o);else if(P.isNullOrUndefined(n))t.reading=!1,t.ended||d(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&c(e)),h(e,t);else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=A)e=A;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||P.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function u(e,t){var n=null;return P.isBuffer(t)||P.isString(t)||P.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,c(e)}function c(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){p(e)}):p(e))}function p(e){M("emit readable"),e.emit("readable"),v(e)}function h(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){f(e,t)}))}function f(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&E.listenerCount(e,"data")&&(t.flowing=!0,v(e))}}function g(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){y(e,t)}))}function y(e,t){t.resumeScheduled=!1,e.emit("resume"),v(e),t.flowing&&!t.reading&&e.read(0)}function v(e){var t=e._readableState;if(M("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function _(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||e>=i)n=o?r.join(""):k.concat(r,i),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new k(e);for(var l=0,u=0,d=r.length;d>u&&e>l;u++){var s=r[0],c=Math.min(e-l,s.length);o?n+=s.slice(0,c):s.copy(n,l,0,c),c<s.length?r[0]=s.slice(c):r.shift(),l+=c}}return n}function b(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function S(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function T(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var w=e("isarray"),k=e("buffer").Buffer;i.ReadableState=r;var E=e("events").EventEmitter;E.listenerCount||(E.listenerCount=function(e,t){return e.listeners(t).length});var C=e("stream"),P=e("core-util-is");P.inherits=e("inherits");var I,M=e("util");M=M&&M.debuglog?M.debuglog("stream"):function(){},P.inherits(i,C),i.prototype.push=function(e,t){var n=this._readableState;return P.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new k(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return I||(I=e("string_decoder/").StringDecoder),this._readableState.decoder=new I(t),this._readableState.encoding=t,this};var A=8388608;i.prototype.read=function(e){M("read",e);var t=this._readableState,n=e;if((!P.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return M("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?b(this):c(this),null;if(e=l(e,t),0===e&&t.ended)return 0===t.length&&b(this),null;var r=t.needReadable;M("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,M("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,M("reading or ended",r)),r&&(M("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=l(n,t));var i;return i=e>0?_(e,t):null,P.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&b(this),P.isNull(i)||this.emit("data",i),i},i.prototype._read=function(){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){M("onunpipe"),e===c&&o()}function i(){M("onend"),e.end()}function o(){M("cleanup"),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("drain",g),e.removeListener("error",s),e.removeListener("unpipe",r),c.removeListener("end",i),c.removeListener("end",o),c.removeListener("data",a),!p.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){M("ondata");var n=e.write(t);!1===n&&(M("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,c.pause())}function s(t){M("onerror",t),d(),e.removeListener("error",s),0===E.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",u),d()}function u(){M("onfinish"),e.removeListener("close",l),d()}function d(){M("unpipe"),c.unpipe(e)}var c=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,M("pipe count=%d opts=%j",p.pipesCount,t);var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,f=h?i:o;p.endEmitted?n.nextTick(f):c.once("end",f),e.on("unpipe",r);var g=m(c);return e.on("drain",g),c.on("data",a),e._events&&e._events.error?w(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",l),e.once("finish",u),e.emit("pipe",c),p.flowing||(M("pipe resume"),c.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=T(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=C.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&c(this,i);else{var o=this;n.nextTick(function(){M("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!0,e.reading||(M("resume read 0"),this.read(0)),g(this,e)),this},i.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(M("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)P.isFunction(e[i])&&P.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return S(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){M("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=_}).call(this,e("_process"))},{"./_stream_duplex":13,_process:11,buffer:3,"core-util-is":5,events:6,inherits:8,isarray:10,stream:22,"string_decoder/":23,util:2}],16:[function(e,t){function n(e,t){this.afterTransform=function(e,n){return r(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,s.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState=new n(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){s.isFunction(this._flush)?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=i;var a=e("./_stream_duplex"),s=e("core-util-is");s.inherits=e("inherits"),s.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw new Error("not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;s.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},{"./_stream_duplex":13,"core-util-is":5,inherits:8}],17:[function(e,t){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=t.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void w.call(this)):new o(t)}function a(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function s(e,t,r,i){var o=!0;if(!(T.isBuffer(r)||T.isString(r)||T.isNullOrUndefined(r)||t.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),n.nextTick(function(){i(a)}),o=!1}return o}function l(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&T.isString(t)&&(t=new S(t,n)),t}function u(e,t,n,i,o){n=l(t,n,i),T.isBuffer(n)&&(i="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):d(e,t,!1,a,n,i,o),s}function d(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function c(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function p(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(p(r),t)c(e,r,i,t,o);else{var a=y(e,r);a||r.corked||r.bufferProcessing||!r.buffer.length||g(e,r),i?n.nextTick(function(){f(e,r,a,o)}):f(e,r,a,o)}}function f(e,t,n,r){n||m(e,t),t.pendingcb--,r(),_(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,d(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,a=i.encoding,s=i.callback,l=t.objectMode?1:o.length;if(d(e,t,!1,l,o,a,s),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function y(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function v(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function _(e,t){var n=y(e,t);return n&&(0===t.pendingcb?(v(e,t),t.finished=!0,e.emit("finish")):v(e,t)),n}function b(e,t,r){t.ending=!0,_(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var S=e("buffer").Buffer;o.WritableState=i;var T=e("core-util-is");T.inherits=e("inherits");var w=e("stream");T.inherits(o,w),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return T.isFunction(t)&&(n=t,t=null),T.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),T.isFunction(n)||(n=function(){}),r.ended?a(this,r,n):s(this,r,e,n)&&(r.pendingcb++,i=u(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||g(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;T.isFunction(e)?(n=e,e=null,t=null):T.isFunction(t)&&(n=t,t=null),T.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||b(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":13,_process:11,buffer:3,"core-util-is":5,inherits:8,stream:22}],18:[function(e,t){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":14}],19:[function(e,t,n){(function(r){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=e("stream"),n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),r.browser||"disable"!==r.env.READABLE_STREAM||(t.exports=e("stream"))}).call(this,e("_process"))},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17,_process:11,stream:22}],20:[function(e,t){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":16}],21:[function(e,t){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],22:[function(e,t){function n(){r.call(this)}t.exports=n;var r=e("events").EventEmitter,i=e("inherits");i(n,r),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function o(){d||(d=!0,e.end())}function a(){d||(d=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",n),e.removeListener("drain",i),u.removeListener("end",o),u.removeListener("close",a),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",n),e.on("drain",i),e._isStdio||t&&t.end===!1||(u.on("end",o),u.on("close",a));var d=!1;return u.on("error",s),e.on("error",s),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},{events:6,inherits:8,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":18,"readable-stream/readable.js":19,"readable-stream/transform.js":20,"readable-stream/writable.js":21}],23:[function(e,t,n){function r(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e("buffer").Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){
var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:3}],24:[function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;n.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete s[e]}},{"process/browser.js":25}],25:[function(e,t){function n(e){if(l===setTimeout)return setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(e){if(u===clearTimeout)return clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function i(){h&&c&&(h=!1,c.length?p=c.concat(p):f=-1,p.length&&o())}function o(){if(!h){var e=n(i);h=!0;for(var t=p.length;t;){for(c=p,p=[];++f<t;)c&&c[f].run();f=-1,t=p.length}c=null,h=!1,r(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var l,u,d=t.exports={};!function(){try{l=setTimeout}catch(e){l=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var c,p=[],h=!1,f=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new a(e,t)),1!==p.length||h||n(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],26:[function(e,t){var n=e("../internal/getNative"),r=n(Date,"now"),i=r||function(){return(new Date).getTime()};t.exports=i},{"../internal/getNative":42}],27:[function(e,t){function n(e,t,n){function s(){y&&clearTimeout(y),h&&clearTimeout(h),_=0,h=y=v=void 0}function l(t,n){n&&clearTimeout(n),h=y=v=void 0,t&&(_=i(),f=e.apply(g,p),y||h||(p=g=void 0))}function u(){var e=t-(i()-m);0>=e||e>t?l(v,h):y=setTimeout(u,e)}function d(){l(S,y)}function c(){if(p=arguments,m=i(),g=this,v=S&&(y||!T),b===!1)var n=T&&!y;else{h||T||(_=m);var r=b-(m-_),o=0>=r||r>b;o?(h&&(h=clearTimeout(h)),_=m,f=e.apply(g,p)):h||(h=setTimeout(d,r))}return o&&y?y=clearTimeout(y):y||t===b||(y=setTimeout(u,t)),n&&(o=!0,f=e.apply(g,p)),!o||y||h||(p=g=void 0),f}var p,h,f,m,g,y,v,_=0,b=!1,S=!0;if("function"!=typeof e)throw new TypeError(o);if(t=0>t?0:+t||0,n===!0){var T=!0;S=!1}else r(n)&&(T=!!n.leading,b="maxWait"in n&&a(+n.maxWait||0,t),S="trailing"in n?!!n.trailing:S);return c.cancel=s,c}var r=e("../lang/isObject"),i=e("../date/now"),o="Expected a function",a=Math.max;t.exports=n},{"../date/now":26,"../lang/isObject":55}],28:[function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",i=Math.max;t.exports=n},{}],29:[function(e,t){function n(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return n===!1?a=!1:i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:+t,trailing:s})}var r=e("./debounce"),i=e("../lang/isObject"),o="Expected a function";t.exports=n},{"../lang/isObject":55,"./debounce":27}],30:[function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=n},{}],31:[function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=n},{}],32:[function(e,t){function n(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}t.exports=n},{}],33:[function(e,t){var n=e("./createBaseFor"),r=n();t.exports=r},{"./createBaseFor":40}],34:[function(e,t){function n(e,t){return r(e,t,i)}var r=e("./baseFor"),i=e("../object/keysIn");t.exports=n},{"../object/keysIn":61,"./baseFor":33}],35:[function(e,t){function n(e,t,c,p,h){if(!s(e))return e;var f=a(t)&&(o(t)||u(t)),m=f?void 0:d(t);return r(m||t,function(r,o){if(m&&(o=r,r=t[o]),l(r))p||(p=[]),h||(h=[]),i(e,t,o,n,c,p,h);else{var a=e[o],s=c?c(a,r,o,e,t):void 0,u=void 0===s;u&&(s=r),void 0===s&&(!f||o in e)||!u&&(s===s?s===a:a!==a)||(e[o]=s)}}),e}var r=e("./arrayEach"),i=e("./baseMergeDeep"),o=e("../lang/isArray"),a=e("./isArrayLike"),s=e("../lang/isObject"),l=e("./isObjectLike"),u=e("../lang/isTypedArray"),d=e("../object/keys");t.exports=n},{"../lang/isArray":52,"../lang/isObject":55,"../lang/isTypedArray":58,"../object/keys":60,"./arrayEach":31,"./baseMergeDeep":36,"./isArrayLike":43,"./isObjectLike":48}],36:[function(e,t){function n(e,t,n,d,c,p,h){for(var f=p.length,m=t[n];f--;)if(p[f]==m)return void(e[n]=h[f]);var g=e[n],y=c?c(g,m,n,e,t):void 0,v=void 0===y;v&&(y=m,a(m)&&(o(m)||l(m))?y=o(g)?g:a(g)?r(g):[]:s(m)||i(m)?y=i(g)?u(g):s(g)?g:{}:v=!1),p.push(m),h.push(y),v?e[n]=d(y,m,c,p,h):(y===y?y!==g:g===g)&&(e[n]=y)}var r=e("./arrayCopy"),i=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("./isArrayLike"),s=e("../lang/isPlainObject"),l=e("../lang/isTypedArray"),u=e("../lang/toPlainObject");t.exports=n},{"../lang/isArguments":51,"../lang/isArray":52,"../lang/isPlainObject":56,"../lang/isTypedArray":58,"../lang/toPlainObject":59,"./arrayCopy":30,"./isArrayLike":43}],37:[function(e,t){function n(e){return function(t){return null==t?void 0:r(t)[e]}}var r=e("./toObject");t.exports=n},{"./toObject":50}],38:[function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}var r=e("../utility/identity");t.exports=n},{"../utility/identity":64}],39:[function(e,t){function n(e){return o(function(t,n){var o=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,u=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,u,5),a-=2):(s="function"==typeof u?u:void 0,a-=s?1:0),l&&i(n[0],n[1],l)&&(s=3>a?void 0:s,a=1);++o<a;){var d=n[o];d&&e(t,d,s)}return t})}var r=e("./bindCallback"),i=e("./isIterateeCall"),o=e("../function/restParam");t.exports=n},{"../function/restParam":28,"./bindCallback":38,"./isIterateeCall":46}],40:[function(e,t){function n(e){return function(t,n,i){for(var o=r(t),a=i(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(n(o[u],u,o)===!1)break}return t}}var r=e("./toObject");t.exports=n},{"./toObject":50}],41:[function(e,t){var n=e("./baseProperty"),r=n("length");t.exports=r},{"./baseProperty":37}],42:[function(e,t){function n(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e("../lang/isNative");t.exports=n},{"../lang/isNative":54}],43:[function(e,t){function n(e){return null!=e&&i(r(e))}var r=e("./getLength"),i=e("./isLength");t.exports=n},{"./getLength":41,"./isLength":47}],44:[function(e,t){var n=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();t.exports=n},{}],45:[function(e,t){function n(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,i=9007199254740991;t.exports=n},{}],46:[function(e,t){function n(e,t,n){if(!o(n))return!1;var a=typeof t;if("number"==a?r(n)&&i(t,n.length):"string"==a&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var r=e("./isArrayLike"),i=e("./isIndex"),o=e("../lang/isObject");t.exports=n},{"../lang/isObject":55,"./isArrayLike":43,"./isIndex":45}],47:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;t.exports=n},{}],48:[function(e,t){function n(e){return!!e&&"object"==typeof e}t.exports=n},{}],49:[function(e,t){function n(e){for(var t=l(e),n=t.length,u=n&&e.length,c=!!u&&a(u)&&(i(e)||r(e)||s(e)),p=-1,h=[];++p<n;){var f=t[p];(c&&o(f,u)||d.call(e,f))&&h.push(f)}return h}var r=e("../lang/isArguments"),i=e("../lang/isArray"),o=e("./isIndex"),a=e("./isLength"),s=e("../lang/isString"),l=e("../object/keysIn"),u=Object.prototype,d=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":51,"../lang/isArray":52,"../lang/isString":57,"../object/keysIn":61,"./isIndex":45,"./isLength":47}],50:[function(e,t){function n(e){if(o.unindexedChars&&i(e)){for(var t=-1,n=e.length,a=Object(e);++t<n;)a[t]=e.charAt(t);return a}return r(e)?e:Object(e)}var r=e("../lang/isObject"),i=e("../lang/isString"),o=e("../support");t.exports=n},{"../lang/isObject":55,"../lang/isString":57,"../support":63}],51:[function(e,t){function n(e){return i(e)&&r(e)&&a.call(e,"callee")&&!s.call(e,"callee")}var r=e("../internal/isArrayLike"),i=e("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable;t.exports=n},{"../internal/isArrayLike":43,"../internal/isObjectLike":48}],52:[function(e,t){var n=e("../internal/getNative"),r=e("../internal/isLength"),i=e("../internal/isObjectLike"),o="[object Array]",a=Object.prototype,s=a.toString,l=n(Array,"isArray"),u=l||function(e){return i(e)&&r(e.length)&&s.call(e)==o};t.exports=u},{"../internal/getNative":42,"../internal/isLength":47,"../internal/isObjectLike":48}],53:[function(e,t){function n(e){return r(e)&&a.call(e)==i}var r=e("./isObject"),i="[object Function]",o=Object.prototype,a=o.toString;t.exports=n},{"./isObject":55}],54:[function(e,t){function n(e){return null!=e&&(r(e)?d.test(l.call(e)):o(e)&&(i(e)?d:a).test(e))}var r=e("./isFunction"),i=e("../internal/isHostObject"),o=e("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,d=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isHostObject":44,"../internal/isObjectLike":48,"./isFunction":53}],55:[function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],56:[function(e,t){function n(e){var t;if(!a(e)||c.call(e)!=l||o(e)||i(e)||!d.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return s.ownLast?(r(e,function(e,t,r){return n=d.call(r,t),!1}),n!==!1):(r(e,function(e,t){n=t}),void 0===n||d.call(e,n))}var r=e("../internal/baseForIn"),i=e("./isArguments"),o=e("../internal/isHostObject"),a=e("../internal/isObjectLike"),s=e("../support"),l="[object Object]",u=Object.prototype,d=u.hasOwnProperty,c=u.toString;t.exports=n},{"../internal/baseForIn":34,"../internal/isHostObject":44,"../internal/isObjectLike":48,"../support":63,"./isArguments":51}],57:[function(e,t){function n(e){return"string"==typeof e||r(e)&&a.call(e)==i}var r=e("../internal/isObjectLike"),i="[object String]",o=Object.prototype,a=o.toString;t.exports=n},{"../internal/isObjectLike":48}],58:[function(e,t){function n(e){return i(e)&&r(e.length)&&!!I[A.call(e)]}var r=e("../internal/isLength"),i=e("../internal/isObjectLike"),o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",c="[object Map]",p="[object Number]",h="[object Object]",f="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",_="[object Float32Array]",b="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",C="[object Uint16Array]",P="[object Uint32Array]",I={};I[_]=I[b]=I[S]=I[T]=I[w]=I[k]=I[E]=I[C]=I[P]=!0,I[o]=I[a]=I[v]=I[s]=I[l]=I[u]=I[d]=I[c]=I[p]=I[h]=I[f]=I[m]=I[g]=I[y]=!1;var M=Object.prototype,A=M.toString;t.exports=n},{"../internal/isLength":47,"../internal/isObjectLike":48}],59:[function(e,t){function n(e){return r(e,i(e))}var r=e("../internal/baseCopy"),i=e("../object/keysIn");t.exports=n},{"../internal/baseCopy":32,"../object/keysIn":61}],60:[function(e,t){var n=e("../internal/getNative"),r=e("../internal/isArrayLike"),i=e("../lang/isObject"),o=e("../internal/shimKeys"),a=e("../support"),s=n(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?a.enumPrototypes:r(e))?o(e):i(e)?s(e):[]}:o;t.exports=l},{"../internal/getNative":42,"../internal/isArrayLike":43,"../internal/shimKeys":49,"../lang/isObject":55,"../support":63}],61:[function(e,t){function n(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&l(t)&&(o(e)||i(e)||d(e))&&t||0;for(var n=e.constructor,r=-1,p=a(n)&&n.prototype||w,h=p===e,f=Array(t),g=t>0,y=c.enumErrorProps&&(e===T||e instanceof Error),_=c.enumPrototypes&&a(e);++r<t;)f[r]=r+"";for(var I in e)_&&"prototype"==I||y&&("message"==I||"name"==I)||g&&s(I,t)||"constructor"==I&&(h||!E.call(e,I))||f.push(I);if(c.nonEnumShadows&&e!==w){var M=e===k?b:e===T?m:C.call(e),A=P[M]||P[v];for(M==v&&(p=w),t=S.length;t--;){I=S[t];var R=A[I];h&&R||(R?!E.call(e,I):e[I]===p[I])||f.push(I)}}return f}var r=e("../internal/arrayEach"),i=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("../lang/isFunction"),s=e("../internal/isIndex"),l=e("../internal/isLength"),u=e("../lang/isObject"),d=e("../lang/isString"),c=e("../support"),p="[object Array]",h="[object Boolean]",f="[object Date]",m="[object Error]",g="[object Function]",y="[object Number]",v="[object Object]",_="[object RegExp]",b="[object String]",S=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],T=Error.prototype,w=Object.prototype,k=String.prototype,E=w.hasOwnProperty,C=w.toString,P={};P[p]=P[f]=P[y]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},P[h]=P[b]={constructor:!0,toString:!0,valueOf:!0},P[m]=P[g]=P[_]={constructor:!0,toString:!0},P[v]={constructor:!0},r(S,function(e){for(var t in P)if(E.call(P,t)){var n=P[t];n[e]=E.call(n,e)}}),t.exports=n},{"../internal/arrayEach":31,"../internal/isIndex":45,"../internal/isLength":47,"../lang/isArguments":51,"../lang/isArray":52,"../lang/isFunction":53,"../lang/isObject":55,"../lang/isString":57,"../support":63}],62:[function(e,t){var n=e("../internal/baseMerge"),r=e("../internal/createAssigner"),i=r(n);t.exports=i},{"../internal/baseMerge":35,"../internal/createAssigner":39}],63:[function(e,t){var n=Array.prototype,r=Error.prototype,i=Object.prototype,o=i.propertyIsEnumerable,a=n.splice,s={};!function(e){var t=function(){this.x=e},n={0:e,length:e},i=[];t.prototype={valueOf:e,y:e};for(var l in new t)i.push(l);s.enumErrorProps=o.call(r,"message")||o.call(r,"name"),s.enumPrototypes=o.call(t,"prototype"),s.nonEnumShadows=!/valueOf/.test(i),s.ownLast="x"!=i[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),t.exports=s},{}],64:[function(e,t){function n(e){return e}t.exports=n},{}],65:[function(e,t){"use strict";var n=e("object-keys"),r=e("foreach"),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,a=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},s=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}},l=Object.defineProperty&&s(),u=function(e,t,n,r){(!(t in e)||a(r)&&r())&&(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var o=arguments.length>2?arguments[2]:{},a=n(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),r(a,function(n){u(e,n,t[n],o[n])})};d.supportsDescriptors=!!l,t.exports=d},{foreach:66,"object-keys":69}],66:[function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(e,t,i){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;o>a;a++)t.call(i,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(i,e[s],s,e)}},{}],67:[function(e,t){var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,i=Object.prototype.toString,o="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||i.call(t)!==o)throw new TypeError(n+t);for(var a,s=r.call(arguments,1),l=function(){if(this instanceof a){var n=t.apply(this,s.concat(r.call(arguments)));return Object(n)===n?n:this}return t.apply(e,s.concat(r.call(arguments)))},u=Math.max(0,t.length-s.length),d=[],c=0;u>c;c++)d.push("$"+c);if(a=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var p=function(){};p.prototype=t.prototype,a.prototype=new p,p.prototype=null}return a}},{}],68:[function(e,t){var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":67}],69:[function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Array.prototype.slice,o=e("./isArguments"),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},c={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!c["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),h=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(t){return!1}},f=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===r.call(e),a=o(e),d=t&&"[object String]"===r.call(e),c=[];if(!t&&!i&&!a)throw new TypeError("Object.keys called on a non-object");var p=l&&i;if(d&&e.length>0&&!n.call(e,0))for(var f=0;f<e.length;++f)c.push(String(f));if(a&&e.length>0)for(var m=0;m<e.length;++m)c.push(String(m));else for(var g in e)p&&"prototype"===g||!n.call(e,g)||c.push(String(g));if(s)for(var y=h(e),v=0;v<u.length;++v)y&&"constructor"===u[v]||!n.call(e,u[v])||c.push(u[v]);return c};f.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return t(o(e)?i.call(e):e)}}}else Object.keys=f;return Object.keys||f},t.exports=f},{"./isArguments":70}],70:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},{}],71:[function(e,t){"use strict";var n=e("object-keys");t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test");if("string"==typeof t)return!1;var r=42;e[t]=r;for(t in e)return!1;if(0!==n(e).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||o.enumerable!==!0)return!1}return!0}},{"object-keys":69}],72:[function(e,t){"use strict";var n=e("object-keys"),r=e("function-bind"),i=function(e){return"undefined"!=typeof e&&null!==e},o=e("./hasSymbols")(),a=Object,s=r.call(Function.call,Array.prototype.push),l=r.call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(e){if(!i(e))throw new TypeError("target must be an object");var t,r,u,d,c,p,h,f=a(e);for(t=1;t<arguments.length;++t){if(r=a(arguments[t]),d=n(r),o&&Object.getOwnPropertySymbols)for(c=Object.getOwnPropertySymbols(r),u=0;u<c.length;++u)h=c[u],l(r,h)&&s(d,h);for(u=0;u<d.length;++u)h=d[u],p=r[h],l(r,h)&&(f[h]=p)}return f}},{"./hasSymbols":71,"function-bind":68,"object-keys":69}],73:[function(e,t){"use strict";var n=e("define-properties"),r=e("./implementation"),i=e("./polyfill"),o=e("./shim");n(r,{implementation:r,getPolyfill:i,shim:o}),t.exports=r},{"./implementation":72,"./polyfill":74,"./shim":75,"define-properties":65}],74:[function(e,t){"use strict";var n=e("./implementation"),r=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o},i=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}};t.exports=function(){return Object.assign?r()?n:i()?n:Object.assign:n}},{"./implementation":72}],75:[function(e,t){"use strict";var n=e("define-properties"),r=e("./polyfill");t.exports=function(){var e=r();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},{"./polyfill":74,"define-properties":65}],76:[function(e,t){function n(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}t.exports=n},{}],77:[function(e,t){function n(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=n(e[r])+(arguments[r+1]||"");return t}},{}],78:[function(e,t){function n(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(e)?r(e,t,n):"string"==typeof e?i(e,t,n):o(e,t,n)}function r(e,t,n){for(var r=0,i=e.length;i>r;r++)l.call(e,r)&&t.call(n,e[r],r,e)}function i(e,t,n){for(var r=0,i=e.length;i>r;r++)t.call(n,e.charAt(r),r,e)}function o(e,t,n){for(var r in e)l.call(e,r)&&t.call(n,e[r],r,e)}var a=e("is-function");t.exports=n;var s=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":81}],79:[function(e,t){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":2}],80:[function(e,t){(function(e){t.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=n;var r=Object.prototype.toString},{}],82:[function(e,t){function n(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],83:[function(e,t){var n=e("trim"),r=e("for-each"),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return r(n(e).split("\n"),function(e){var r=e.indexOf(":"),o=n(e.slice(0,r)).toLowerCase(),a=n(e.slice(r+1));"undefined"==typeof t[o]?t[o]=a:i(t[o])?t[o].push(a):t[o]=[t[o],a]}),t}},{"for-each":78,trim:84}],84:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=r,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],85:[function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;n++)t(e[n])}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t,n){var r=e;return d(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=p(t,{uri:e}),r.callback=n,r}function o(e,t,n){return t=i(e,t,n),a(t)}function a(e){function t(){4===d.readyState&&a()}function n(){var e=void 0;if(d.response?e=d.response:"text"!==d.responseType&&d.responseType||(e=d.responseText||d.responseXML),b)try{e=JSON.parse(e)}catch(t){}return e}function i(e){clearTimeout(f),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,l)}function a(){if(!h){var t;clearTimeout(f),t=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var r=l,i=null;0!==t?(r={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:d},d.getAllResponseHeaders&&(r.headers=c(d.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,r,r.body)}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=u(s);var l={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:d},d=e.xhr||null;d||(d=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var p,h,f,m=d.url=e.uri||e.url,g=d.method=e.method||"GET",y=e.body||e.data||null,v=d.headers=e.headers||{},_=!!e.sync,b=!1;if("json"in e&&(b=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),y=JSON.stringify(e.json))),d.onreadystatechange=t,d.onload=a,d.onerror=i,d.onprogress=function(){},d.ontimeout=i,d.open(g,m,!_,e.username,e.password),_||(d.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(f=setTimeout(function(){h=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)},e.timeout)),d.setRequestHeader)for(p in v)v.hasOwnProperty(p)&&d.setRequestHeader(p,v[p]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(y),d}function s(){}var l=e("global/window"),u=e("once"),d=e("is-function"),c=e("parse-headers"),p=e("xtend");t.exports=o,o.XMLHttpRequest=l.XMLHttpRequest||s,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:l.XDomainRequest,n(["get","put","post","patch","head","delete"],function(e){o["delete"===e?"del":e]=function(t,n,r){return n=i(t,n,r),n.method=e.toUpperCase(),a(n)}})},{"global/window":80,"is-function":81,once:82,"parse-headers":83,xtend:86}],86:[function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}t.exports=n;var r=Object.prototype.hasOwnProperty},{}],87:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("./lib/iso_boxer.js"),a=r(o),s=e("./cea608DataExtractor.js"),l=r(s),u=e("./textTrackManager.js"),d=r(u),c=e("./cueParser.js"),p=r(c),h=e("../ampDefs.js"),f=function(){function e(t){i(this,e),this.player=t,this.isInitialized=!1,this.onDownloadCompleted=this.onDownloadCompleted.bind(this),this.onDownloadDecrypted=this.onDownloadDecrypted.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.onReady=this.onReady.bind(this)}return e.prototype.init=function(){this.player.options().cea708CaptionsSettings&&this.player.options().cea708CaptionsSettings.enabled&&(this.parsedSequenceNumbers=[],this.cueParser=new p["default"],this.textTrackManager=new d["default"](this.player),this.player.ready(this.onReady))},e.prototype.onReady=function(){this.player.addEventListener(h.eventName.loadedmetadata,this.onLoadedMetadata),this.player.addEventListener(h.eventName.seeking,this.onSeeking)},e.prototype.onSeeking=function(){this.cueParser.reset()},e.prototype.onLoadedMetadata=function(){this.videoBufferData=this.player.videoBufferData(),this.videoBufferData&&(this.videoBufferData.addEventListener(h.bufferDataEventName.downloadcompleted,this.onDownloadCompleted),this.videoBufferData.addEventListener(h.bufferDataEventName.downloaddecrypted,this.onDownloadDecrypted))},e.prototype.onDownloadDecrypted=function(){var e="flashSS"===this.player.currentTechName()?this.videoBufferData.downloadDecrypted.mediaDownload:this.videoBufferData.downloadDecrypted;this.processMediaDownload(e)},e.prototype.onDownloadCompleted=function(){this.processMediaDownload(this.videoBufferData.downloadCompleted.mediaDownload)},e.prototype.processMediaDownload=function(e){var t=e.data;if(t){this.cueParser.presentationTimeOffsetInSec||(this.cueParser.presentationTimeOffsetInSec=e.presentationTimeOffsetInSec);var n=a["default"].parseBuffer(t),r=n.fetch("mfhd"),i=r?r.sequence_number:null;if(-1===this.parsedSequenceNumbers.indexOf(i)){var o=l["default"].extractCea608Data(t,n,e.mediaTime);o&&o.fields&&o.fields[0].length&&(this.isInitialized||(this.isInitialized=!0,this.initializeTextTrack(),this.cueParser.initialize(this.player,this.textTrackManager.getAllTracks()),this.player.trigger(h.eventName.embeddedcaptionsfound)),this.cueParser.addCcDataToFieldParsers(o,n,e.timeScale),this.parsedSequenceNumbers.push(i))}}},e.prototype.initializeTextTrack=function(){var e={justification:"center"};this.player.textTrackSettings.setValues(e);var t=this.player.options().cea708CaptionsSettings,n={label:t.label||"CEA708",lang:t.srclang,channel:"CC1"};this.textTrackManager.addTextTrack(n.label,n.lang,n.channel)},e.prototype.dispose=function(){this.player.removeEventListener(h.eventName.loadedmetadata,this.onLoadedMetadata),
this.player.removeEventListener(h.eventName.seeking,this.onSeeking),this.videoBufferData&&(this.videoBufferData.removeEventListener(h.bufferDataEventName.downloadcompleted,this.onDownloadCompleted),this.videoBufferData.removeEventListener(h.bufferDataEventName.downloaddecrypted,this.onDownloadDecrypted)),this.textTrackManager&&(this.textTrackManager.removePreviousEmbeddedTextTracks(),this.textTrackManager=null),this.cueParser=null,this.isInitialized=!1},e}();n["default"]=f,t.exports=n["default"]},{"../ampDefs.js":97,"./cea608DataExtractor.js":88,"./cueParser.js":89,"./lib/iso_boxer.js":92,"./textTrackManager.js":95}],88:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var r=t.fetch("moof"),i=t.fetch("tfdt"),a=t.fetchAll("trun"),l=void 0,d=void 0,c=void 0,p=void 0,h=void 0,f=new DataView(e),m=new u["default"],g=0;if(!a.length)return null;l=a[0],d=r._offset+l.data_offset,c=l.sample_count,p=d,h=i?i.baseMediaDecodeTime:10*n;for(var y=0;c>y;y++){for(var v=l.samples[y],_=h+g+v.sample_composition_time_offset,b=s["default"].findCea608Nalus(f,p,v.sample_size),S=0;S<b.length;S++)for(var T=s["default"].extractCea608DataFromRange(f,b[S]),w=0;2>w;w++)T[w].length>0&&o(m.fields[w],_,T[w]);g+=v.sample_duration,p+=v.sample_size}return m.startTime=h,m.endTime=h+g,m}function o(e,t,n){var r=e.length;if(r>0)if(t>=e[r-1][0])e.push([t,n]);else{for(var i=-1,o=r-1;o>=0&&!(t>e[o][0]);o--)i=o;i>=0&&e.splice(i,0,[t,n])}else e.push([t,n])}n.__esModule=!0;var a=e("./lib/cea608-parser.js"),s=r(a),l=e("./models/ccData.js"),u=r(l),d={extractCea608Data:i};n["default"]=d,t.exports=n["default"]},{"./lib/cea608-parser.js":90,"./models/ccData.js":94}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("stream"),a=r(o),s=e("global/window"),l=r(s),u=e("./lib/cea608-parser.js"),d=r(u),c=e("./lib/cea608-towebvtt.js"),p=r(c),h=e("./models/captionsBuffer.js"),f=r(h),m=function(){function e(){i(this,e),this.videoTimeScale=0,this.embeddedCea608FieldParsers=[],this.presentationTimeOffsetInSec=0,this.cueParser=new l["default"].WebVTT.Parser(l["default"],l["default"].vttjs,l["default"].WebVTT.StringDecoder()),this.cueParser.onparsingerror=function(e){return AMP.Logger.error(AMP.Logger.Area.cea608Module,"CEA608 module: an error happened: "+e)}}return e.prototype.reset=function(){this.embeddedCea608FieldParsers.forEach(function(e){return e.reset()})},e.prototype.addCcDataToFieldParsers=function(e,t,n){function r(e){var t=e.fetch("mdhd"),r=1e7;return t?t.timescale:n?n:r}if(e){this.videoTimeScale=this.videoTimeScale||r(t);for(var i=0;i<this.embeddedCea608FieldParsers.length;i++){var o=e.fields[i],a=this.embeddedCea608FieldParsers[i];if(a){for(var s=0;s<o.length;s++)a.addData(o[s][0]/this.videoTimeScale,o[s][1]);e.endTime&&a.cueSplitAtTime(e.endTime/this.videoTimeScale)}}}},e.prototype.initialize=function(e,t){function n(e){switch(e.toLowerCase()){case"cc1":return 1;case"cc3":return 2}return AMP.Logger.error(AMP.Logger.Area.cea608Module,"Channel '"+e+"' is not supported. Supported channels are CC1 and CC3."),null}function r(e,t,n){return function(r,i,a){function s(t){if(t.startTime!==t.endTime){var n=!0;e.cues.cues_.forEach(function(e){e.text===t.text&&e.startTime===t.startTime&&(n=!1)}),n&&e.addCue(t)}}if((0===r||r)&&i&&a){t.newCue(r+o.presentationTimeOffsetInSec,i+o.presentationTimeOffsetInSec,a);var l=n.extract();o.cueParser.oncue=s,o.cueParser.parse(l),o.cueParser.flush()}}}for(var i=this,o=this,s=function(e){var o=n(t[e].channel);if(!o)return"continue";var s=new f["default"],l=new a["default"];l.writable=!0,l.write=function(e){return s.append(e)};var u={newCue:r(t[e],new p["default"](l),s)};i.embeddedCea608FieldParsers[e]=new d["default"].Cea608Parser(o,u,null)},l=0;l<t.length;l++)s(l)},e}();n["default"]=m,t.exports=n["default"]},{"./lib/cea608-parser.js":90,"./lib/cea608-towebvtt.js":91,"./models/captionsBuffer.js":93,"global/window":80,stream:22}],90:[function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e){var t=this.verboseFilter[e];this.verboseLevel>=t}},c=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},p=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};p.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var h=function(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new p(t,n,r,i,o)};h.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var f=function(){this.chars=[];for(var e=0;i>e;e++)this.chars.push(new h);this.pos=0,this.currPenState=new p};f.prototype={equals:function(e){for(var t=!0,n=0;i>n;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;i>t;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;i>t;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;t+1>n&&i>n;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);return this.pos>=i?void d.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),void(this.pos<i-1?this.moveCursor(1):d.log("WARNING: cursor at end of chars. Cannot advance cursor.")))},clearFromPos:function(e){var t;for(t=e;i>t;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;i>n;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){if(this.currPenState.setStyles(e),this.pos<i){var t=this.chars[this.pos];t.setPenState(this.currPenState)}}};var m=function(){this.rows=[];for(var e=0;r>e;e++)this.rows.push(new f);this.currRow=r-1,this.nrRollUpRows=null,this.reset()};m.prototype={reset:function(){for(var e=0;r>e;e++)this.rows[e].clear();this.currRow=r-1},equals:function(e){for(var t=!0,n=0;r>n;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;r>t;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;r>t;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){var e=this.rows[this.currRow];e.backSpace()},clearToEndOfRow:function(){var e=this.rows[this.currRow];e.clearToEndOfRow()},insertChar:function(e){var t=this.rows[this.currRow];t.insertChar(e)},setPen:function(e){var t=this.rows[this.currRow];t.setPenStyles(e)},moveCursor:function(e){var t=this.rows[this.currRow];t.moveCursor(e)},setCursor:function(e){d.log("INFO","setCursor: "+e);var t=this.rows[this.currRow];t.setCursor(e)},setPAC:function(e){d.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){d.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null===this.nrRollUpRows)return void d.log("DEBUG","roll_up but nrRollUpRows not set yet");d.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),d.log("INFO","Rolling up")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=-1,o=0;r>o;o++){var a=this.rows[o].getTextString();a&&(i=o+1,t.push(e?"Row "+i+': "'+a+'"':a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var g=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new m,this.nonDisplayedMemory=new m,this.lastOutputScreen=new m,this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};g.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,d.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";d.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){d.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){d.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}d.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=d.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var y=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new g(1,t),new g(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,"char":0,cmd:0,other:0}};y.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,o=!1;this.lastTime=e,d.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(d.log("DATA","["+c([t[a],t[a+1]])+"] -> ("+c([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else d.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters["char"]+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+c([r,i])+" orig: "+c([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null,r=(20===e||28===e)&&t>=32&&47>=t,i=(23===e||31===e)&&t>=33&&35>=t;if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+c([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var o=this.channels[n-1];return 20===e||28===e?32===t?o.cc_RCL():33===t?o.cc_BS():34===t?o.cc_AOF():35===t?o.cc_AON():36===t?o.cc_DER():37===t?o.cc_RU(2):38===t?o.cc_RU(3):39===t?o.cc_RU(4):40===t?o.cc_FON():41===t?o.cc_RDC():42===t?o.cc_TR():43===t?o.cc_RTD():44===t?o.cc_EDM():45===t?o.cc_CR():46===t?o.cc_ENM():47===t&&o.cc_EOC():o.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;if((17===e||25===e)&&t>=32&&47>=t){if(n=17===e?1:2,n!==this.currChNr)return d.log("ERROR","Mismatch channel in midrow parsing"),!1;var r=this.channels[n-1];return r.cc_MIDROW(t),d.log("DEBUG","MIDROW ("+c([e,t])+")"),!0}return!1},parsePAC:function(e,t){var n=null,r=null,i=(e>=17&&23>=e||e>=25&&31>=e)&&t>=64&&127>=t,u=(16===e||24===e)&&t>=64&&95>=t;if(!i&&!u)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=23>=e?1:2,r=t>=64&&95>=t?1===n?o[e]:s[e]:1===n?a[e]:l[e];var d=this.interpretPAC(r,t),c=this.channels[n-1];return c.setPAC(d),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),13>=n?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:15>=n?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),o>=17&&19>=o){var a=t;a=17===o?t+80:18===o?t+112:t+144,d.log("INFO","Special char '"+n(a)+"' in channel "+r),i=[a]}else e>=32&&127>=e&&(i=0===t?[e]:[e,t]);if(i){var s=c(i);d.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},parseBackgroundAttributes:function(e,t){var n,r,i,o,a=(16===e||24===e)&&t>=32&&47>=t,s=(23===e||31===e)&&t>=45&&47>=t;return!(!a&&!s)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=u[r],t%2===1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=24>e?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var v=function(e,t,n){for(var r=0,i=t,o=0,a=[],s=function(e,t,n,r){if(4!==e||8>t)return null;var i=n.getUint8(r),o=n.getUint16(r+1),a=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==o&&1195456820==a&&3==s};t+n>i;){if(r=e.getUint32(i),o=31&e.getUint8(i+4),6===o)for(var l=i+5,u=-1;i+4+r-1>l;){u=0;for(var d=255;255===d;)d=e.getUint8(l),u+=d,l++;var c=0;for(d=255;255===d;)d=e.getUint8(l),c+=d,l++;s(u,c,e,l)&&a.push([l,c]),l+=c}i+=r+4}return a},_=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var o=0;i>o;o++){var a=e.getUint8(n),s=4&a,l=3&a;n++;var u=e.getUint8(n);n++;var d=e.getUint8(n);n++,s&&(127&u)+(127&d)!==0&&(0===l?(r[0].push(u),r[0].push(d)):1===l&&(r[1].push(u),r[1].push(d)))}return r};e.logger=d,e.PenState=p,e.CaptionScreen=m,e.Cea608Parser=y,e.findCea608Nalus=v,e.extractCea608DataFromRange=_}("undefined"==typeof n?(void 0).cea608parser={}:n)},{}],91:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./cea608-parser.js"),i=function(e,t,n){this.stream=e,this.channelNr=1|t,this.combineConsecutiveRows=n|!0,this.initWritten=!1};i.prototype={newCue:function(e,t,n){this.initWritten||this.writeInit();var r=this.formatTime(e),i=this.formatTime(t);this.writeCue(r,i,n)},writeToStream:function(e){this.stream&&this.stream.write(e)},formatTime:function(e){var t,n,r,i=Math.floor(e),o=e-i,a=function(e){var t=e.toString();return 1===t.length?"0"+t:t},s=function(e){for(var t=e.toString(),n=3-t.length;n>0;)t="0"+t,n--;return t};return t=Math.floor(i/3600),i-=3600*t,n=Math.floor(i/60),i-=60*n,r=Math.floor(1e3*o),a(t)+":"+a(n)+":"+a(i)+"."+s(r)},writeInit:function(e,t){this.writeToStream("WEBVTT\nStyling=CEA608\nKind=Caption\nChannel=CC"+this.channelNr+"\n"),t&&(this.lastScreen.copy(t),this.lastTime=e),this.initWritten=!0},writeCue:function(e,t,n){for(var r=-2,i=0;i<n.rows.length;i++){var o=n.rows[i];if(!o.isEmpty()){if(!this.combineConsecutiveRows||i!==r+1){var a=i+1;this.writeToStream("\n"+e+" --> "+t+" line:"+a+"\n")}this.outputTextRow(o),this.writeToStream("\n"),r=i}}},outputTextRow:function(e){for(var t=new r.PenState,n=null,i=null,o=0;o<e.chars.length;o++){i=e.chars[o];var a=!1;if(n=i.penState,(n.foreground!==t.foreground||n.background!==t.background||n.flash!==t.flash)&&(("white"!==t.foreground||"black"!==t.background||t.flash)&&this.writeToStream("</c>"),a=!0),n.underline!==t.underline&&t.underline&&this.writeToStream("</u>"),n.italics!==t.italics&&t.italics&&this.writeToStream("</i>"),n.italics!==t.italics&&(n.italics&&this.writeToStream("<i>"),t.italics=n.italics),n.underline!==t.underline&&n.underline&&this.writeToStream("<u>"),a&&("white"!==n.foreground||"black"!==n.background||n.flash)){var s=[],l=n.background;if("transparent"===n.background)s.push("transparent");else{var u=l.split("_");2===u.length&&"semi"===u[1]&&s.push("semi-transparent"),"black"!==l&&s.push("bg_"+u[0])}"white"!==n.foreground&&s.push(n.foreground),n.flash&&s.push("blink");var d=s.join(".");this.writeToStream("<c."+d+">")}this.writeToStream(i.uchar),t.copy(n)}("white"!==n.foreground||"black"!==n.background)&&this.writeToStream("</c>"),n.underline&&this.writeToStream("</u>"),n.italics&&this.writeToStream("</i>")},close:function(){this.stream&&(this.stream.end(),this.stream=null)}},n["default"]=i,t.exports=n["default"]},{"./cea608-parser.js":90}],92:[function(e,t,n){"use strict";var r={};r.parseBuffer=function(e){return new i(e).parse()},r.addBoxParser=function(e,t){"string"==typeof e&&"function"==typeof t&&(o.prototype._boxParsers[e]=t)},r.Utils={},r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var o=e.getUint8(i++);128>o||(224>o?(o=(31&o)<<6,o|=63&e.getUint8(i++)):240>o?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),r.push(String.fromCharCode(o))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},"undefined"!=typeof n&&(n.parseBuffer=r.parseBuffer,n.addBoxParser=r.addBoxParser,n.Utils=r.Utils),r.Cursor=function(e){this.offset="undefined"==typeof e?0:e};var i=function(e){this._raw=new DataView(e),this._cursor=new r.Cursor,this.boxes=[]};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if("undefined"==typeof e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){this.type&&this.type==e&&t.push(this);for(var r in this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}};var o=function(){this._cursor=new r.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t,n,r=null;switch(e){case 8:r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:r=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset),n=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2),r=(t<<8)+n;break;case 32:r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4),r=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,r},o.prototype._readString=function(e){for(var t="",n=0;e>n;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){var t=this._readUint(e/2),n=this._readUint(e/2);return t+n/Math.pow(2,e/2)},o.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset),n=new DataView(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,n},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._boxParsers[this.type]&&this._boxParsers[this.type].call(this))},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))},o.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc"],o.prototype._boxParsers={},o.prototype._boxParsers.avc1=function(){this.reserved1=[this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8)],this.data_reference_index=this._readUint(16),this.pre_defined1=this._readUint(16),this.reserved2=this._readUint(16),this.pre_defined2=[this._readUint(32),this._readUint(32),this._readUint(32)],this.width=this._readUint(16),this.height=this._readUint(16),this.horizresolution=this._readTemplate(32),this.vertresolution=this._readTemplate(32),this.reserved3=this._readUint(32),this.frame_count=this._readUint(16);var e=this._readUint(8);this.compressorname=this._readString(e);for(var t=0;31-e>t;t++)this._readUint(8);this.depth=this._readUint(16),this.pre_defined3=this._readInt(16),this.config=this._readData()},o.prototype._boxParsers.dref=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=0;e<this.entry_count;e++)this.entries.push(o.parse(this))},o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_version=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=this._readData()},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode((e>>10&31)+96,(e>>5&31)+96,(31&e)+96),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mehd=function(){this._parseFullBox(),this.fragment_duration=this._readUint(1==this.version?64:32)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mfro=function(){this._parseFullBox(),this.mfra_size=this._readUint(32)},o.prototype._boxParsers.mp4a=function(){this.reserved1=[this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8)],this.data_reference_index=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.channelcount=this._readUint(16),this.samplesize=this._readUint(16),this.pre_defined=this._readUint(16),this.reserved3=this._readUint(16),this.samplerate=this._readTemplate(32),this.esds=this._readData()},o.prototype._boxParsers.mvhd=function(){this._parseFullBox();var e;for(1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[],e=0;9>e;e++)this.matrix.push(this._readTemplate(32));for(this.pre_defined=[],e=0;6>e;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=r.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0===this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32);
t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32);var r=this._readUint(32);t.starts_with_SAP=r>>31&1,t.SAP_type=r>>28&7,t.SAP_delta_time=268435455&r,this.references.push(t)}},o.prototype._boxParsers.smhd=function(){this._parseFullBox(),this.balance=this._readTemplate(16),this.reserved=this._readUint(16)},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var r={};r.level=this._readUint(8),r.range_size=this._readUint(24),t.ranges.push(r)}this.subsegments.push(t)}},o.prototype._boxParsers.stsd=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=0;e<this.entry_count;e++)this.entries.push(o.parse(this))},o.prototype._boxParsers.subs=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=0;e<this.entry_count;e++){var t={};t.sample_delta=this._readUint(32),t.subsample_count=this._readUint(16),t.subsamples=[];for(var n=0;n<t.subsample_count;n++){var r={};r.subsample_size=this._readUint(1&this.version?32:16),r.subsample_priority=this._readUint(8),r.discardable=this._readUint(8),r.codec_specific_parameters=this._readUint(32),t.subsamples.push(r)}this.entries.push(t)}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),this.baseMediaDecodeTime=this._readUint(1==this.version?64:32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tfra=function(){this._parseFullBox(),this.track_ID=this._readUint(32),this._packed=this._readUint(32),this.reserved=this._packed>>>6,this.length_size_of_traf_num=(this._packed&&0xffff00000000)>>>4,this.length_size_of_trun_num=(this._packed&&4294901760)>>>2,this.length_size_of_sample_num=this._packed&&255,this.number_of_entry=this._readUint(32),this.entries=[];for(var e=0;e<this.number_of_entry;e++){var t={};1==this.version?(t.time=this._readUint(64),t.moof_offset=this._readUint(64)):(t.time=this._readUint(32),t.moof_offset=this._readUint(32)),t.traf_number=this._readUint(8*(this.length_size_of_traf_num+1)),t.trun_number=this._readUint(8*(this.length_size_of_trun_num+1)),t.sample_number=this._readUint(8*(this.length_size_of_sample_num+1)),this.entries.push(t)}},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;9>e;e++)this.matrix.push(this._readTemplate(32));this.width=this._readTemplate(32),this.height=this._readTemplate(32)},o.prototype._boxParsers.trex=function(){this._parseFullBox(),this.track_ID=this._readUint(32),this.default_sample_description_index=this._readUint(32),this.default_sample_duration=this._readUint(32),this.default_sample_size=this._readUint(32),this.default_sample_flags=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers["url "]=o.prototype._boxParsers["urn "]=function(){this._parseFullBox(),"urn "===this.type&&(this.name=this._readTerminatedString()),this.location=this._readTerminatedString()},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vmhd=function(){this._parseFullBox(),this.graphicsmode=this._readUint(16),this.opcolor=[this._readUint(16),this._readUint(16),this._readUint(16)]},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},{}],93:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0,function(){var e=function(){function e(){r(this,e),this._captions=""}return e.prototype.get=function(){return this._captions},e.prototype.append=function(e){this._captions+=e},e.prototype.clear=function(){this._captions=""},e.prototype.extract=function(){var e=this.get().slice();return this.clear(),e},e}();n["default"]=e}(),t.exports=n["default"]},{}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0,function(){var e=function t(){r(this,t),this.startTime=null,this.endTime=null,this.fields=[[],[]]};n["default"]=e}(),t.exports=n["default"]},{}],95:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../video.js/src/js/tracks/track-enums.js"),a=r(o),s=function(){function e(t){i(this,e),this.cea608TextTracks=[],this.player=t}return e.prototype.getAllTracks=function(){return this.cea608TextTracks},e.prototype.getTrackById=function(e){for(var t=this.player.textTracks(),n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null},e.prototype.addTextTrack=function(e,t,n){var r=this.player.addTextTrack(a["default"].TextTrackKind.captions,e,t);return r.channel=n,this.cea608TextTracks.push(r),r},e.prototype.removePreviousEmbeddedTextTracks=function(){function e(e){var n=t.getTrackById(e.id);n&&t.player.removeRemoteTextTrack(n)}if(this.cea608TextTracks.length){var t=this;this.cea608TextTracks.forEach(e),this.cea608TextTracks=[]}},e}();n["default"]=s,t.exports=n["default"]},{"../video.js/src/js/tracks/track-enums.js":234}],96:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=4026531840,i=a(e)<<28;t&=~r,t|=i;var o=new O["default"](t);return o.message=n,o}function a(e){switch(e.toLowerCase()){case"amp":return 1;case"azurehtml5js":return 2;case"flashss":return 3;case"silverlightss":return 4;case"html5":return 5;case"html5fairplayhls":return 6;default:return 0}}n.__esModule=!0;var s=e("global/window"),l=i(s),u=e("global/document"),d=i(u),c=e("object.assign"),p=i(c),h=e("lodash-compat/function/throttle"),f=i(h),m=e("./video.js/src/js/utils/events.js"),g=r(m),y=e("./video.js/src/js/utils/guid.js"),v=(r(y),e("./video.js/src/js/utils/fn.js")),_=r(v),b=e("./video.js/src/js/utils/dom.js"),S=r(b),T=e("./video.js/src/js/utils/languageLabels.js"),w=r(T),k=e("./video.js/src/js/utils/url.js"),E=r(k),C=e("./video.js/src/js/utils/browser.js"),P=r(C),I=e("./video.js/src/js/component.js"),M=i(I),A=e("./video.js/src/js/error-display.js"),R=i(A),j=e("./video.js/src/js/media-error.js"),O=i(j),D=e("./video.js/src/js/menu/menu.js"),x=i(D),L=e("./video.js/src/js/player.js"),N=i(L),B=e("./video.js/src/js/tech/tech.js"),F=i(B),U=e("./video.js/src/js/utils/to-title-case.js"),z=i(U),H=e("./video.js/src/js/video.js"),V=i(H),q=e("./video.js/src/js/utils/log.js"),W=e("./video.js/src/js/utils/merge-options.js"),K=i(W),G=(r(k),e("./video.js/src/js/tracks/text-track.js")),J=i(G),Y=e("./lang/languages.js"),Z=(i(Y),e("./ampHeuristicProfiles.js")),Q=r(Z),X=e("./ampDefs.js"),$=r(X),ee=e("./version.js"),te=e("./tech-wrappers/Html5.js"),ne=(i(te),e("./tech-wrappers/amp-tech-azureHtml5JS.js")),re=(i(ne),e("./tech-wrappers/amp-tech-flashSS.js")),ie=(i(re),e("./tech-wrappers/amp-tech-silverlightSS.js")),oe=(i(ie),e("./tech-wrappers/amp-tech-html5FairPlayHLS.js")),ae=(i(oe),e("./Cea608/Cea608Module.js")),se=i(ae),le=e("timers"),ue=V["default"];l["default"].amp=ue,"object"==typeof n&&"object"==typeof t&&(t.exports=ue),n["default"]=ue,ue.errorCode=$.errorCode,ue.eventName=$.eventName,ue.streamEventName=$.streamEventName,ue.streamListEventName=$.streamListEventName,ue.bufferDataEventName=$.bufferDataEventName,ue.internalEventName=$.internalEventName,ue.protectionType=$.protectionType,ue.CorsConfig=$.CorsConfig,ue.downloadableMediaType=$.downloadableMediaType,ue.getIsoLangs=w.getIsoLangs,ue.get2LetterLangCode=w.get2LetterLangCode,ue.decodeURL=E.decodeURL,ue.encodeURL=E.encodeURL,l["default"].videojs=ue,ue.Player=N["default"],ue.options.techOrder=["azureHtml5JS","flashSS","html5FairPlayHLS","silverlightSS","html5"];var de="https://amp.azure.net/libs/amp/",ce=3;ue.levelTwoErrors={},ue.levelTwoErrors[ue.errorCode.srcErrLiveNoSegments]="LEVEL2_ERR_CONTENT_NOT_AVAIL_YET",N["default"].prototype.enterFullscreen=N["default"].prototype.requestFullscreen,N["default"].prototype.addEventListener=N["default"].prototype.on,N["default"].prototype.removeEventListener=N["default"].prototype.off,N["default"].prototype.currentTechName=function(){return this.techName_},N["default"].prototype.playerElement=function(){return this.el_},N["default"].prototype.currentAbsoluteTime=function(e){var t=this.techGet_("currentAbsoluteTime");return void 0!==t&&void 0!==e?(this.trigger("currentTimeChanging",{time:this.fromPresentationTime(e)}),this.techCall_("setCurrentAbsoluteTime",e),t>e&&this.trigger("rewind"),this):t},N["default"].prototype.presentationTimeOffsetInSec=function(){return this.techGet_("presentationTimeOffsetInSec")},N["default"].prototype.currentMediaTime=function(){return this.techGet_("currentMediaTime")},N["default"].prototype.currentVideoStreamList=function(){return this.techGet_("currentVideoStreamList")},N["default"].prototype.currentAudioStreamList=function(){return this.techGet_("currentAudioStreamList")},N["default"].prototype.videoBufferData=function(){return this.techGet_("videoBufferData")},N["default"].prototype.audioBufferData=function(){return this.techGet_("audioBufferData")},N["default"].prototype.currentDownloadBitrate=function(){return this.techGet_("currentDownloadBitrate")},N["default"].prototype.currentPlaybackBitrate=function(){return this.techGet_("currentPlaybackBitrate")},N["default"].prototype.videoWidth=function(){return this.techGet_("videoWidth")},N["default"].prototype.videoHeight=function(){return this.techGet_("videoHeight")},N["default"].prototype.currentProtectionInfo=function(){return this.options_.sourceOptions.protectionInfo},N["default"].prototype.isLive=function(){return this.techGet_("isLive")},N["default"].prototype.manifestPlayableWindowLength=function(){return this.techGet_("manifestPlayableWindowLength")},N["default"].prototype.currentPlayableWindow=function(){return this.techGet_("currentPlayableWindow")},N["default"].prototype.playableWindowEndInSec=function(){return this.techGet_("playableWindowEndInSec")},N["default"].prototype.segmentBoundaries=function(){return this.techGet_("segmentBoundaries")},N["default"].prototype.toPresentationTime=function(e){return this.player().isLive()&&this.player().currentPlayableWindow()?e+this.player().currentPlayableWindow().startInSec:e},N["default"].prototype.fromPresentationTime=function(e){return this.player().isLive()&&this.player().currentPlayableWindow()?e-this.player().currentPlayableWindow().startInSec:e},N["default"].prototype.currentHeuristicProfile=function(e){return void 0===e?Q.findProfile(this.options_.heuristicProfile).name:(this.options_.heuristicProfile=e,this)},N["default"].prototype.currentPlayerSettingValue=function(e){var t=null;return this.tech_&&F["default"]._availableSettings.heuristicSettings.hasOwnProperty(e)&&(this.tech_.updateCurrentPlayerConfigs(),t=this.tech_.options_.currentPlayerConfigs.currentHeuristicConfigs[e]),t},N["default"].getScriptRootURL=function(){var e=d["default"].getElementsByTagName("script"),t=null;if(e&&e.length>=1)for(var n=e.length-1;n>=0;n--){var r=null;r=e[n].src;var i=new RegExp("(.[^?]+)/azuremediaplayer(?:\\.min)?\\.js(?:\\?.*)?$","i");if(r){var o=r.match(i);if(o&&2===o.length){t=o[1];break}}}var a=N["default"].prototype.getAmpVersion();return!t&&a&&(t=de+a),t},N["default"].prototype.getAmpVersion=function(){var e=null;if(ee.ampVersion){var t=new RegExp("([0-9]+.[0-9]+.[0-9]+).[0-9]+"),n=ee.ampVersion.match(t);n&&2===n.length&&(e=n[1])}return e},N["default"].prototype.getFullAmpVersion=function(){return ee.ampVersion},N["default"].prototype.addThrottledWindowResizeListener=function(e,t,n){n&&(e=e.bind(n));var r=f["default"](e,t);l["default"].addEventListener("resize",r),this.on("dispose",function(){l["default"].removeEventListener("resize",r)})},N["default"].prototype.disableTextTracks=function(){var e=this.textTracks();if(e)for(var t=0;t<e.length;t++){var n=e[t];n.mode="disabled"}},N["default"].prototype.setActiveTextTrack=function(e){e instanceof J["default"]||AMP.Logger.error(AMP.Logger.Area.ampAPI,"textTrack is expecting a TextTrack object.");var t=this.textTracks(),n=!1;t||AMP.Logger.error(AMP.Logger.Area.ampAPI,"The text tracks are not found.");for(var r=0;r<t.length;r++){var i=t[r];i.id===e.id?(i.mode="showing",n=!0):i.mode="disabled"}n||AMP.Logger.error(AMP.Logger.Area.ampAPI,"The specified text track not found.")},N["default"].prototype.src=function(e,t,n){if(AMP.Logger.verbose(AMP.Logger.Area.videojs,"AMP version "+this.getFullAmpVersion()),void 0===e)return this.currentSrc();if(this.sizeCal=!1,this.presentationFlow=!0,void 0!==n&&n||(this.presentationFlow=!1,this.presentationLayout({})),!(Array.isArray(e)||e instanceof Object))throw new Error("src is expecting a source object or an array of source objects");this.setupInitAmpEventHandlers_(),this.one("loadstart",function(){var e=!this.techName_||"Html5"===this.techName_,t=!this.techName_||"Html5FairPlayHLS"===this.techName_,n=this.options().autoplay;(e||t&&!n)&&(this.removeClass("vjs-waiting"),this.trigger("removeSpinner"))}),this.showPlayerLoad(),void 0!==t&&null!==t&&t.length>0&&(this.options_.tracks=t),e.selected||(this.currentRetryCountForLiveMediaLoad=0,this.clearPlayerTimers(),this.options_.sdn={},Array.isArray(e)?this.options_.sourceList=e:e instanceof Object&&(this.options_.sourceList=[e]),AMP.Logger.verbose(AMP.Logger.Area.videojs,"dispatching event: sourceset "+JSON.stringify(e,function(e,t){return"authenticationToken"!==e?t:"provided"})),this.trigger(ue.eventName.sourceset),this.drmSupportCheck(this.options_.sourceList));var r=function i(){this.techSetupCheck()&&this.pluginSetupCheck()?e instanceof Object&&e.selected?(this.trigger("playerSetupCheckCompleted"),this.refreshTextTracks(),this.cache_.src=e.src,this.currentType_=e.type||"",this.options_.currentType=this.currentType_,this.techCall_("updatePlayerOptions",this.options_),this.ready(function(){this.loadMediaWithTimeout(function(){this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load()})})):this.sourceList_(UrlRewriter.expandSources(this.options_.sourceList)):le.setTimeout(i.bind(this),50)};return r.call(this),this},N["default"].prototype.vjsOptions=N["default"].prototype.options,N["default"].prototype.options=function(e){var t=this.vjsOptions(e);return this.techCall_("updatePlayerOptions",t),t},N["default"].prototype.showPlayerLoad=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-paused"),this.removeClass("vjs-playing"),this.isPreloadSupported()&&this.addClass("vjs-waiting")},N["default"].prototype.drmSupportCheck=function(e){for(var t=0,n=this.options_.techOrder;t<n.length;t++){var r=z["default"](n[t]),i=F["default"].getTech(r);i&&i.drmSupportCheck&&i.drmSupportCheck(e)}},N["default"].prototype.techSetupCheck=function(){for(var e=0,t=this.options_.techOrder;e<t.length;e++){var n=z["default"](t[e]),r=F["default"].getTech(n);if(r&&r.setupDone&&!r.setupDone())return!1}return!0},N["default"].prototype.pluginSetupCheck=function(){var e=this.options_.plugins;for(var t in e)if(e.hasOwnProperty(t)&&this[t]&&this[t].setupDone&&!this[t].setupDone())return!1;return!0},N["default"].prototype.setupInitAmpEventHandlers_=function(){var e=this;this.ampEventHandlersReady?(this.startTriggered=!1,this.firstQuartileTriggered=!1,this.midpointTriggered=!1,this.thirdQuartileTriggered=!1,this.wasPaused=!1):!function(){var t=e,n=function(e,n){t.addEventListener(e,n),t.addEventListener("dispose",function(){t.removeEventListener(e,n)})};n("timeupdate",function(){var e=this.duration(),t=this.currentTime();e>0&&(!this.startTriggered&&t>0&&(this.startTriggered=!0,this.trigger("start")),this.isLive()||(!this.firstQuartileTriggered&&t>=e/4&&(this.firstQuartileTriggered=!0,this.trigger("firstquartile")),!this.midpointTriggered&&t>=e/2&&(this.midpointTriggered=!0,this.trigger("midpoint")),!this.thirdQuartileTriggered&&t>=3*e/4&&(this.thirdQuartileTriggered=!0,this.trigger("thirdquartile"))))}),n("play",function(){this.wasPaused&&(this.trigger("resume"),this.wasPaused=!1),this.currentRetryCountForLiveMediaLoad=0}),n("pause",function(){this.wasPaused=!0}),n("fullscreenchange",function(){this.trigger(this.isFullscreen()?"fullscreen":"exitfullscreen")}),n("canplaythrough",function(){this.clearPlayerTimers()}),n("loadstart",function(){"azurehtml5js"===this.techName_.toLowerCase()&&this.clearSetupCheckTimer()}),e.ampEventHandlersReady=!0}()},N["default"].prototype.sourceList_=function(e){var t=this.selectSource(e),n=!0;if(t&&(this.updateSourceOptions(t.source),"FlashSS"===t.tech&&void 0!==this.options_.sourceOptions.protectionInfo)){var r=V["default"].getTech(t.tech);r.isVersionSupported("30.0")===!0&&r.isVersionSupported("30.0.0.145")===!1&&(n=!1)}n&&t?(this.tech_&&t.tech===this.techName_&&("FlashSS"!==t.tech||JSON.stringify(this.options_.sourceOptions.protectionInfo)===JSON.stringify(t.source.protectionInfo)&&!this.tech_.isReloadNeeded())?(t.source.selected=!0,this.src(t.source,[],this.presentationFlow)):this.loadMediaWithTimeout(function(){this.loadTech_(t.tech,t.source),this.refreshTextTracks()}),this.cea608Module&&this.cea608Module.dispose(),this.cea608Module=this.cea608Module||new se["default"](this),this.cea608Module.init(),"AzureHtml5JS"===this.techName_&&this.prepareForImsc1Captions(!0)):(this.tech_&&this.unloadTech_(),N["default"].raiseError.call(this,N["default"].getAMPErrorCode.call(this,e)),this.triggerReady())},N["default"].prototype.options_.sourceOptions={},N["default"].prototype.updateSourceOptions=function(e){this.options({sourceOptions:null});var t={};e&&e.protectionInfo&&(t.protectionInfo=e.protectionInfo),this.options({sourceOptions:t})},N["default"].prototype.pauseAndHide=function(){try{this.el().style.display="none",null!==this.currentSrc()&&this.pause()}catch(e){AMP.Logger.warning(AMP.Logger.Area.videojs,"Exception while quering currentSrc in player.pauseAndHide()")}},N["default"].prototype.hide=function(){void 0===this.el().style.opacity?this.el().style.display="none":(this.el().style.opacity=0,this.bigPlayButton.el().style.opacity=0)},N["default"].prototype.isVisible=function(){return"none"!==this.el().style.display},N["default"].prototype.playerContainer=function(){return this.multiPlayerContainerDiv},N["default"].prototype.currentClip=function(){return this.clip},N["default"].prototype.clip=null,N["default"].prototype.playClip=function(e){this.src(e.parent.source,e.parent.tracks,!0),this.clip=e,this.clip.isAd&&(this.title_=e.name)},N["default"].prototype.addMidRoll=function(e){return null===this.scheduler&&(this.scheduler=new AMP.Scheduler.Scheduler(this)),this.scheduler.addMidRoll(e)},N["default"].prototype.show=function(){this.el().style.display="block",this.el().style.opacity=1,this.bigPlayButton.el().style.opacity=1,this.setupSkipAd(),this.trigger("visibilityChange");var e=this;le.setTimeout(function(){if(e.multiPlayerContainerDiv===d["default"].activeElement)try{e.multiPlayerContainerDiv.blur()}catch(t){AMP.Logger.warning(AMP.Logger.Area.videojs,"Exception while removing focus from player container")}},100)},N["default"].prototype.isDisposed=function(){return null===this.el()},N["default"].prototype.resetPlayer=function(){this.error(null),this.clip=null,this.title_="",void 0!==this.skipAdButton&&null!==this.skipAdButton&&(this.skipAdButton.style.display="none",this.skipAdButton.innerHTML="")},N["default"].prototype.setupSkipAd=function(){if(null!==this.clip&&this.clip.isAd&&this.clip.skippable&&this.clip.skippable>0){var e=this,t=function(){if(null!==e.clip&&e.skipAdInitialized){var t=e.duration()>0?Math.min(e.clip.skippable,e.duration()):e.clip.skippable,n=Math.ceil(t-e.currentTime());n>0?e.skipAdButton.innerHTML=AMP.Misc.formatString(e.localize("SKIP_AD_COUNTDOWN_FORMAT"),n):-1===(" "+e.skipAdButton.className+" ").indexOf(" enabled ")&&(e.skipAdButton.className+=" enabled",e.skipAdButton.innerHTML=e.localize("SKIP")),"block"!==e.skipAdButton.style.display&&e.currentTime()>0&&(e.skipAdButton.style.display="block")}},n=function r(){e.skipAdInitialized=!1,e.off("timeupdate",t),e.off("ended",r),e.skipAdButton.className="amp-skip-ad-button",e.skipAdButton.style.display="none"};this.skipAdButton||(this.skipAdButton=l["default"].document.createElement("div"),this.skipAdButton.className="amp-skip-ad-button",this.skipAdButton.style.display="none",this.skipAdButton.onclick=function(){(" "+this.className+" ").indexOf(" enabled ")>=0&&(e.trigger("skip"),n())},this.el().appendChild(this.skipAdButton)),this.skipAdInitialized||(this.on("timeupdate",t),this.on("ended",n),this.skipAdInitialized=!0)}else this.skipAdButton&&(this.skipAdButton.style.display="none")},N["default"].prototype.getSkipButton=function(){return this.skipAdButton},N["default"].prototype.showControls=function(){this.controlBar.el_.style.display="none"},N["default"].prototype.hideControls=function(){this.controlBar.el_.style.display="block"},N["default"].prototype.scheduler=null,N["default"].prototype.getScheduler=function(){return this.scheduler},N["default"].prototype.playlist=function(e){return e?(null===this.scheduler&&(this.scheduler=new AMP.Scheduler.Scheduler(this)),void this.scheduler.setPlaylist(e)):this.scheduler?this.scheduler.playlist():null},N["default"].prototype.oldDispose=N["default"].prototype.dispose,N["default"].prototype.dispose=function(){this.clearPlayerTimers(),this.scheduler&&null!==this.scheduler&&this.scheduler.dispose(),this.oldDispose()},N["default"].prototype.getMemoryLog=function(e){return AMP.Logger.getMemoryLog(e)},N["default"].prototype.saveMemoryLog=function(){return AMP.Logger.saveMemoryLog()},N["default"].prototype.getSavedMemoryLog=function(){return AMP.Logger.getSavedMemoryLog()},N["default"].prototype.setXmlHttpRequestFactory=function(e){this.tech_&&this.tech_.setXmlHttpRequestFactory?this.tech_.setXmlHttpRequestFactory(e):AMP.Logger.warning(AMP.Logger.Area.videojs,"setXmlHttpRequestFactory unavailable on "+this.techName_+" playback technology element.")},F["default"].prototype.updatePlayerOptions=function(e){this.options_.playerOptions=K["default"](this.options_.playerOptions,e)},F["default"].prototype.updateCurrentPlayerConfigs=function(){this.options_.currentPlayerConfigs||(this.options_.currentPlayerConfigs={});var e=Q.findProfile(this.options_.playerOptions.heuristicProfile);void 0===this.options_.heuristicProfile&&e&&(this.options_.heuristicProfile=e.name);var t=e?p["default"]({},e):{},n=this.options_.playerOptions.customPlayerSettings;if(n&&n.customHeuristicSettings){var r={};for(var i in n.customHeuristicSettings)F["default"]._availableSettings.heuristicSettings.hasOwnProperty(i)&&(r[i]=n.customHeuristicSettings[i]);t=p["default"](t,r)}t.maxBufferInWallClockSec<t.preRollInWallClockSec&&(t.maxBufferInWallClockSec=t.preRollInWallClockSec),t.livePlaybackOffsetInWallClockSec<t.preRollInWallClockSec&&(t.livePlaybackOffsetInWallClockSec=t.preRollInWallClockSec),this.options_.currentPlayerConfigs.currentHeuristicConfigs=t},F["default"]._availableSettings={heuristicSettings:{preRollInWallClockSec:0,maxBufferInWallClockSec:0,livePlaybackOffsetInWallClockSec:0,windowSizeHeuristics:!1,useBrowserWindowForWindowSizeRule:!1,minFragmentsForBandwidthAverage:1,bandwidthTestWithTimeThresholdDuringLive:!0,useVariableFragmentSizeMode:!1}},N["default"].canSupportFormats=function(e,t){var n=t[e.type];if(n){if(!e.protectionInfo)return"maybe";for(var r=0;r<e.protectionInfo.length;r++)if(-1!==n.indexOf(e.protectionInfo[r].type))return"maybe"}return""},N["default"].prototype.refreshTextTracks=function(){if(this.tech_){if(this.remoteTextTracks()&&this.remoteTextTracks().tracks_)for(;this.remoteTextTracks().tracks_.length>0;)this.removeRemoteTextTrack(this.remoteTextTracks().tracks_[0]);for(var e=this.options_.tracks||[],t=0;t<e.length;t++){var n=e[t];if(this.player_.addRemoteTextTrack(n),ce>t){var r=this.remoteTextTracks().tracks_[t];r.activeCues}}this.controlBar&&this.controlBar.subtitlesButton&&this.controlBar.subtitlesButton.update(),this.controlBar&&this.controlBar.captionsButton&&this.controlBar.captionsButton.update(),this.options_.tracks.length=0,this.textTracks_=this.player_.textTracks()}},N["default"].prototype.getCurrentTextTrack=function(){var e=this.textTracks(),t=0,n=void 0;if(e)for(;t<e.length;t++)if(n=e[t],"showing"===n.mode)return n},N["default"].prototype.trigger=function(e,t,n,r){switch(e){case"waiting":case"fullscreenchange":AMP.Logger.verbose(AMP.Logger.Area.videojs,"triggering event: "+e)}return n?g.trigger(this.el_,e,t,n,r):g.trigger(this.el_,e,t,this.currentClip(),r),this},N["default"].raiseError=function(e,t){var n=o("amp",e,t);this.error(n)},N["default"].prototype.retryPlayerLoad=function(e){this.clearPlayerTimers();var t=void 0===e;if(void 0!==e)try{t=this.techGet_("isLiveStartupError")}catch(n){t=!1}if(t&&this.options_.manifestFetchAutoRetryForLive&&this.currentRetryCountForLiveMediaLoad<this.options_.maxRetryCountForLive){this.currentRetryCountForLiveMediaLoad++,this.trigger("livestartupretry",{retryCount:this.currentRetryCountForLiveMediaLoad}),AMP.Logger.warning(AMP.Logger.Area.ampAPI,"live startup retry. count :"+this.currentRetryCountForLiveMediaLoad);var r=this;return this.retryTimer=le.setTimeout(function(){r.retryTimer=NaN,r.retryMediaLoad()},this.options_.retryIntervalForLiveInMSec),!0}return!1},N["default"].prototype.clearPlayerTimers=function(){this.retryTimer&&(le.clearTimeout(this.retryTimer),this.retryTimer=NaN),this.clearSetupCheckTimer()},N["default"].prototype.clearSetupCheckTimer=function(){this.techSetupCheckTimer&&(le.clearTimeout(this.techSetupCheckTimer),this.techSetupCheckTimer=NaN)},N["default"].prototype.loadMediaWithTimeout=function(e){e&&(this.originalSetSource=e),e.call(this),this.startSetupTimeout()},N["default"].prototype.retryMediaLoad=function(){this.techCall_("src",this.cache_.src),this.startSetupTimeout()},N["default"].prototype.startSetupTimeout=function(){var e=this;this.clearSetupCheckTimer(),this.options_.playerStartupTimeoutTimer&&(this.techSetupCheckTimer=le.setTimeout(function(){e.techSetupCheckTimer=NaN,e.currentRetryCountForLiveMediaLoad<e.options_.maxRetryCountForLive?e.retryPlayerLoad():N["default"].raiseError.call(this,$.errorCode.srcErrUnknown)},this.options_.playerStartupTimeoutInMSec),this.showBusy())},F["default"].raiseError=function(e,t,n){var r=o(e,t,n);this.error(r)},N["default"].prototype.prepareForImsc1Captions=function(e){var t=this.options().imsc1CaptionsSettings;if(t){t.length>1&&q.Log.warning(AMP.Logger.Area.ttml,"Only 1 IMSC1 track is currently supported.");var n=this;t.forEach(function(t){if(t.label&&void 0!==t.srclang){var r=n.addRemoteTextTrack({kind:"captions",label:t.label,srclang:t.srclang});r&&r.track?(r.track.isImsc1=!0,e&&(r.track.mode="showing")):AMP.Logger.error(AMP.Logger.Area.ttml,"Unable to create IMSC1 track: "+JSON.stringify(t)),n.textTrackSettings.setValues({justification:"left"})}else AMP.Logger.error(AMP.Logger.Area.ttml,"IMSC1 label or srclang is missing: "+JSON.stringify(t))})}},N["default"].prototype.getErrorUI=function(e){var t=ue.levelTwoErrors[268435455&e.code];if(t&&t.length>0)return t;var n=267386880,r=(e.code&n)>>20;return 0===r?e.message:6===r?this.options().notSupportedMessage:255===r?"MEDIA_ERR_UNKNOWN":O["default"].errorTypes[r]||""},R["default"].prototype.content=function(){var e=this.player().error();if(e){var t=this.player().getErrorUI(e);return[this.htmlEncode(this.localize(t)),d["default"].createElement("br"),"(0x"+e.code.toString(16)+")"]}},N["default"].getAMPErrorCode=function(e){for(var t=ue.errorCode.srcPlayerMismatchUnknown,n=0,r=this.options_.techOrder;n<r.length;n++){var i=z["default"](r[n]),o=V["default"].getTech(i);if(o&&(!o.isSupported()||"FlashSS"===i&&o.isVersionSupported("30.0.0.145")===!1&&o.isVersionSupported("30.0")===!0))for(var a=0,s=e;a<s.length;a++){var l=s[a];o.canPlaySource(l)&&("SilverlightSS"===i?t|=ue.errorCode.srcPlayerMismatchSilverlightNotInstalled:"FlashSS"===i&&(t|=ue.errorCode.srcPlayerMismatchFlashNotInstalled))}}return t},N["default"].prototype.checkWidewineHttpErrorScenario=function(e){var t=(16711680&e.code)===ue.errorCode.srcPlayerMismatchStart,n=(16777215&e.code)===ue.errorCode.abortedErrHttpMixedContentBlocked;if(t&&!n){var r=function(e){var t=!1;return void 0!==e&&e.length>0&&e.forEach(function(e){e.protectionInfo&&e.protectionInfo.length>0&&e.protectionInfo.forEach(function(e){"Widevine"===e.type&&(t=!0)})}),t};try{r(this.options_.sourceList)&&(e.code=4278190080&e.code|ue.errorCode.encryptErrDecrypterNotFound)}catch(e){AMP.Logger.warning(AMP.Logger.Area.videojs,"exception in checkWidewineHttpsErrorScenario")}}},N["default"].prototype.preloadClip=function(e){this.options_.preload="auto",this.options_.autoplay=!1,this.src(e.parent.source,e.parent.tracks,!0),this.clip=e,this.clip.isAd&&(this.title_=e.name)},N["default"].prototype.canControlPlaybackRate=function(){return this.tech_&&this.tech_.featuresPlaybackRate},N["default"].prototype.isPreloadSupported=function(){return this.tech_&&this.tech_.featuresPreload},N["default"].prototype.downloadableMedia=function(e){return void 0!==e?(this.downloadableMediaOptions=e,this.trigger("downloadableMediaChanged"),this):this.downloadableMediaOptions},N["default"].prototype.spliceWaiting=function(){var e=[];if(this.tech){var t=this.techGet_("getAdSignalsAndReset");if(t&&t.length>0){var n=!!t[0].simpleSignal;t.forEach(function(t){if(n)e.push({id:t.simpleSignal.id,startOffset:t.simpleSignal.presentationTime,duration:t.simpleSignal.duration,out:!0});else{var r=AMP.Scte35Parser.parseBinaryMessage(t.scteSignal.signalInBinary);r&&r.id&&(t.scteSignal.presentationTimeOverride&&(r.startOffset=t.scteSignal.presentationTimeOverride),e.push(r))}})}}return e},N["default"].prototype.addElClass=function(e,t){S.addElClass(e,t)},N["default"].prototype.removeElClass=function(e,t){S.removeElClass(e,t)},N["default"].prototype.showBusy=function(){S.addElClass(this.el(),"vjs-waiting"),this.trigger("waiting")},N["default"].prototype.presentationLayout=function(e){return void 0===e?this.preLayout:(this.title_="",this.preLayout=e,this.clip=null,void this.trigger("presentationUpdate"))},N["default"].prototype.createAdPlayer=function(){
var e=d["default"].createElement("video");P.isMobile||S.setElAttributes(e,{preload:"auto"}),this.el().parentNode.appendChild(e);var t=this.options_,n={};n.width=t.width,n.height=t.height,n.fluid=t.fluid,n.autoplay=t.autoplay,n.poster=t.poster,n.controls=!1,n.adClickEnabled=!0,n.overrideDisabledForBigPlayButton=!0,n.techOrder=["html5"],n.hotkeys={enableSeek:!1,enablePlayPause:!1},n.isAdPlayer=!0,n.logo={enabled:!1},n.ariaLabel="Ad player";var r=new N["default"](e,n,null,this);return r},q.Log.logByType=AMP.Logger.videoJSLogOverride,M["default"].prototype.prependChild=function(e,t){var n=this.addChild(e,t);return this.contentEl().insertBefore(n.el(),this.contentEl().firstChild),n},M["default"].prototype.toggleClass=function(e,t){return void 0!==t?void(t?this.addClass(e):this.removeClass(e)):void(this.hasClass(e)?this.removeClass(e):this.addClass(e))},M["default"].prototype.addCrossOriginPolicy=function(e,t){t||(t=this.el()),e===ue.CorsConfig.UseCredentials?t.setAttribute("crossorigin","use-credentials"):e===ue.CorsConfig.Anonymous&&t.setAttribute("crossorigin","anonymous")},x["default"].prototype.prependItem=function(e,t){this.prependChild(e),e.parent=t,e.on("click",_.bind(this,function(){this.unlockShowing()}))},t.exports=n["default"]},{"./Cea608/Cea608Module.js":87,"./ampDefs.js":97,"./ampHeuristicProfiles.js":98,"./lang/languages.js":124,"./tech-wrappers/Html5.js":150,"./tech-wrappers/amp-tech-azureHtml5JS.js":152,"./tech-wrappers/amp-tech-flashSS.js":153,"./tech-wrappers/amp-tech-html5FairPlayHLS.js":154,"./tech-wrappers/amp-tech-silverlightSS.js":155,"./version.js":156,"./video.js/src/js/component.js":163,"./video.js/src/js/error-display.js":200,"./video.js/src/js/media-error.js":205,"./video.js/src/js/menu/menu.js":208,"./video.js/src/js/player.js":210,"./video.js/src/js/tech/tech.js":222,"./video.js/src/js/tracks/text-track.js":233,"./video.js/src/js/utils/browser.js":239,"./video.js/src/js/utils/dom.js":242,"./video.js/src/js/utils/events.js":243,"./video.js/src/js/utils/fn.js":244,"./video.js/src/js/utils/guid.js":247,"./video.js/src/js/utils/languageLabels.js":249,"./video.js/src/js/utils/log.js":250,"./video.js/src/js/utils/merge-options.js":251,"./video.js/src/js/utils/to-title-case.js":255,"./video.js/src/js/utils/url.js":256,"./video.js/src/js/video.js":257,"global/document":79,"global/window":80,"lodash-compat/function/throttle":29,"object.assign":73,timers:24}],97:[function(e,t,n){"use strict";n.__esModule=!0;var r={PlayReady:"PlayReady",Widevine:"Widevine",AES:"AES",FairPlay:"FairPlay"};n.protectionType=r;var i={Anonymous:"Anonymous",UseCredentials:"UseCredentials"};n.CorsConfig=i;var o={Smooth:"application/vnd.ms-sstr+xml",Dash:"application/dash+xml",HLS:"application/vnd.apple.mpegurl"};n.StreamingFormatMimeType=o;var a={canplaythrough:"canplaythrough",durationchange:"durationchange",ended:"ended",error:"error",fullscreenchange:"fullscreenchange",loadstart:"loadstart",loadedmetadata:"loadedmetadata",loadeddata:"loadeddata",pause:"pause",play:"play",playing:"playing",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",volumechange:"volumechange",waiting:"waiting",downloadbitratechanged:"downloadbitratechanged",playbackbitratechanged:"playbackbitratechanged",sourceset:"sourceset",ratechange:"ratechange",disposing:"disposing",splicewaiting:"splicewaiting",emsgAvailable:"emsgAvailable",start:"start",firstquartile:"firstquartile",midpoint:"midpoint",thirdquartile:"thirdquartile",complete:"complete",mute:"mute",unmute:"unmute",rewind:"rewind",resume:"resume",fullscreen:"fullscreen",exitfullscreen:"exitfullscreen",click:"tech-click",skip:"skip",errorInPlayingAd:"errorInPlayingAd",livestartupretry:"livestartupretry",embeddedcaptionsfound:"embeddedcaptionsfound",decryptorInitialized:"decryptorInitialized"};n.eventName=a;var s={menuadded:"menuadded",currentTimeChanging:"currentTimeChanging",playingAtLiveDVREdge:"playingAtLiveDVREdge",playingAtStartDVREdge:"playingAtStartDVREdge",playingInDVR:"playingInDVR"};n.internalEventName=s;var l={trackselected:"trackselected"};n.streamEventName=l;var u={streamselected:"streamselected",streamindexinvalid:"streamindexinvalid",streamselectnotsupported:"streamselectnotsupported"};n.streamListEventName=u;var d={abortedErrStart:1048576,abortedErrUnknown:1048576,abortedErrNotImplemented:1048577,abortedErrHttpMixedContentBlocked:1048578,abortedErrEnd:2097151,networkErrStart:2097152,networkErrUnknown:2097152,networkErrHttpResponseBegin:2097552,networkErrHttpBadUrlFormat:2097552,networkErrHttpUserAuthRequired:2097553,networkErrHttpUserForbidden:2097555,networkErrHttpUrlNotFound:2097556,networkErrHttpNotAllowed:2097557,networkErrHttpGone:2097562,networkErrHttpPreconditionFailed:2097564,networkErrHttpInternalServerFailure:2097652,networkErrHttpBadGateway:2097654,networkErrHttpServiceUnavailable:2097655,networkErrHttpGatewayTimeout:2097656,networkErrHttpResponseEnd:2097751,networkErrTimeout:2097752,networkErrError:2097753,networkErrAbort:2097754,networkErrNoInternet:2097755,networkErrEnd:3145727,decodeErrStart:3145728,decodeErrUnknown:3145728,decodeErrEnd:4194303,srcErrStart:4194304,srcErrUnknown:4194304,srcErrParsePresentation:4194305,srcErrParseSegment:4194306,srcErrUnsupportedPresentation:4194307,srcErrInvalidSegment:4194308,srcErrLiveNoSegments:4194309,srcErrEnd:5242879,encryptErrStart:5242880,encryptErrUnknown:5242880,encryptErrDecrypterNotFound:5242881,encryptErrDecrypterInit:5242882,encryptErrDecrypterNotSupported:5242883,encryptErrKeyAcquire:5242884,encryptErrDecryption:5242885,encryptErrLicenseAcquire:5242886,encryptErrEnd:6291455,srcPlayerMismatchStart:6291456,srcPlayerMismatchUnknown:6291456,srcPlayerMismatchFlashNotInstalled:6291457,srcPlayerMismatchSilverlightNotInstalled:6291458,srcPlayerMismatchEnd:7340031,errUnknown:267386880};n.errorCode=d;var c={400:d.networkErrHttpBadUrlFormat,401:d.networkErrHttpUserAuthRequired,403:d.networkErrHttpUserForbidden,404:d.networkErrHttpUrlNotFound,405:d.networkErrHttpNotAllowed,410:d.networkErrHttpGone,412:d.networkErrHttpPreconditionFailed,500:d.networkErrHttpInternalServerFailure,502:d.networkErrHttpBadGateway,503:d.networkErrHttpServiceUnavailable,504:d.networkErrHttpGatewayTimeout};n.httpErrorCode=c;var p={downloadrequested:"downloadrequested",downloadcompleted:"downloadcompleted",downloaddecrypted:"downloaddecrypted",downloadfailed:"downloadfailed"};n.bufferDataEventName=p;var h={video:"video",videoWithCC:"videoWithCC",audio:"audio",transcript:"transcript"};n.downloadableMediaType=h},{}],98:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){for(var t=[{name:a["default"].HeuristicProfile.Hybrid,preRollInWallClockSec:4,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:8,windowSizeHeuristics:!0},{name:a["default"].HeuristicProfile.QuickStart,preRollInWallClockSec:2,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:8,windowSizeHeuristics:!0},{name:a["default"].HeuristicProfile.HighQuality,preRollInWallClockSec:8,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:15,windowSizeHeuristics:!1},{name:a["default"].HeuristicProfile.LowLatency,preRollInWallClockSec:2,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:2,windowSizeHeuristics:!0}],n=0;n<t.length;n++)if(t[n].name===e)return t[n];return t[0]}n.__esModule=!0,n.findProfile=i;var o=e("./video.js/src/js/player"),a=r(o);a["default"].HeuristicProfile={Hybrid:"Hybrid",QuickStart:"QuickStart",HighQuality:"HighQuality",LowLatency:"LowLatency"}},{"./video.js/src/js/player":210}],99:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ar={Play:"",Pause:" ","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:" ",Progress:" ",Fullscreen:" ","Non-Fullscreen":"    ",Mute:" ",Unmute:"  ","Playback Rate":" ",Subtitles:" ","Subtitles Off":"    ",Captions:" ","Captions Off":"    ",Chapters:"",Off:" ",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"  ","Share Video":" ","Next Track":"  ","Previous Track":"  ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"         .          .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"            .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:"   {0}...",SKIP:"",AD_TIMING_INFO:" {0}  ","Media Player":"Media Player","Play Video":" ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:" ",Script:"","Small Caps":" ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"  Url","Embed Code":"  ",English:"","volume level":" ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"  ","Subtitles Menu":"  ","Need Text":"  ",Download:"","Go to live":"   ","End Time":" "},r["default"].prototype.options_.languages["ar-sa"]=r["default"].prototype.options_.languages.ar,r["default"].prototype.options_.languages["ar-ab"]=r["default"].prototype.options_.languages.ar,r["default"].prototype.options_.languages["ar-xm"]=r["default"].prototype.options_.languages.ar,r["default"].prototype.options_.languages["ar-ma"]=r["default"].prototype.options_.languages.ar},{"../video.js/src/js/player.js":210}],100:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.bg={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:" ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:" ",Unmute:" ","Playback Rate":"  ",Subtitles:"","Subtitles Off":".  ",Captions:"","Captions Off":".  ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":"","default":" ","Cast To Device":"  ",Share:"",Volume:"  ","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":"  ",MEDIA_ERR_ABORTED:"    .",MEDIA_ERR_NETWORK:"          .       -.",MEDIA_ERR_DECODE:"     ,            .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             ,       .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"         .",MEDIA_ERR_UNKNOWN:"  ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}",SKIP:"",AD_TIMING_INFO:": {0} ","Media Player":" ","Play Video":"  ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"  ","Text Edge Style":"    ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":"  ","Monospace Serif":"   ","Proportional Serif":" ","Monospace Sans-Serif":"   ","Proportional Sans-Serif":" ",Casual:"",Script:"","Small Caps":"  ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"  URL ","Embed Code":"  ",English:"","volume level":"  ","video progress bar":"    ","playback speed level":"    ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"  ","Subtitles Menu":"  ","Need Text":" ",Download:"","Go to live":"  ","End Time":""}},{"../video.js/src/js/player.js":210}],101:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ca={Play:"Reprodueix",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Durada","Remaining Time":"Temps restant","Stream Type":"Tipus de seqncia",LIVE:"EN DIRECTE",Loaded:"Carregat",Progress:"Progrs",Fullscreen:"Pantalla sencera","Non-Fullscreen":"Mida normal",Mute:"Silencia",Unmute:"Activa el so","Playback Rate":"Velocitat de reproducci",Subtitles:"Subttols","Subtitles Off":"Subttols desactivats",Captions:"Llegendes","Captions Off":"Llegendes desactivades",Chapters:"Captols",Off:"Desactivat",Quality:"Qualitat",Auto:"Automtic","Audio Tracks":"Pistes d'udio","default":"per defecte","Cast To Device":"Emetre al dispositiu",Share:"Comparteix",Volume:"Volum","Playback Speed":"Velocitat de reproducci","Video Quality":"Qualitat de vdeo","Closed Captioning":"Subtitulat ocult","Share Video":"Comparteix el vdeo","Next Track":"Pista segent","Previous Track":"Pista anterior","Skip Forward":"Salta endavant","Skip Backward":"Salta enrere","Fast Forward":"Avana rpidament",Rewind:"Rebobina","Next Frame":"Fotograma segent","Previous Frame":"Fotograma anterior",Settings:"Configuraci",Options:"Opcions","More Options":"Ms opcions",Zoom:"Zoom","Zoom In":"Amplia","Zoom Out":"Redueix","Audio Only":"Noms udio","Picture in Picture":"Imatge a la imatge","Camera Angle":"Angle de cmera",MEDIA_ERR_ABORTED:"S'ha avortat la reproducci de vdeo.",MEDIA_ERR_NETWORK:"Un error de xarxa ha provocat que la baixada del vdeo no es pogus completar. Comproveu la connexi de xarxa o torneu-ho a provar ms tard.",MEDIA_ERR_DECODE:"El vdeo no s'ha pogut carregar a causa d'un error del servidor o de la xarxa o b perqu el format no s compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"S'ha avortat la reproducci del vdeo a causa d'un problema de danys o b perqu el vdeo feia servir caracterstiques no admeses pel navegador.",MEDIA_ERR_ENCRYPTED:"No es pot desencriptar la font del vdeo encriptat.",SRC_PLAYER_MISMATCH:"No s'ha trobat cap font compatible per a l'entorn actual del navegador.",MEDIA_ERR_UNKNOWN:"S'ha produt un error desconegut.",SKIP_AD_COUNTDOWN_FORMAT:"Omet l'anunci d'aqu a {0}...",SKIP:"Omet",AD_TIMING_INFO:"Anunci: {0} segons",Download:"Baixar","Go to live":"Ves al contingut en directe","End Time":"Hora de finalizacin"},r["default"].prototype.options_.languages["ca-es"]=r["default"].prototype.options_.languages.ca},{"../video.js/src/js/player.js":210}],102:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.cs={Play:"Pehrt",Pause:"Pozastavit","Current Time":"Aktuln as","Duration Time":"Doba trvn","Remaining Time":"Zbvajc as","Stream Type":"Typ streamu",LIVE:"IV",Loaded:"Naten",Progress:"Prbh",Fullscreen:"Cel obrazovka","Non-Fullscreen":"Normln zobrazen",Mute:"Ztlumit",Unmute:"Zruit ztlumen","Playback Rate":"Rychlost pehrvn (snmky)",Subtitles:"Titulky","Subtitles Off":"vypnut titulky",Captions:"Titulky","Captions Off":"vypnut titulky",Chapters:"Kapitoly",Off:"Vypnuto",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy","default":"vchoz","Cast To Device":"Petypovat na zazen",Share:"Sdlet",Volume:"Hlasitost","Playback Speed":"Rychlost pehrvn","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulky","Share Video":"Sdlet video","Next Track":"Dal stopa","Previous Track":"Pedchoz stopa","Skip Forward":"Peskoit vped","Skip Backward":"Peskoit zpt","Fast Forward":"Pevinout vped",Rewind:"Pevinout zpt","Next Frame":"Dal snmek","Previous Frame":"Pedchoz snmek",Settings:"Nastaven",Options:"Monosti","More Options":"Dal monosti",Zoom:"Lupa","Zoom In":"Piblit","Zoom Out":"Oddlit","Audio Only":"Jenom zvuk","Picture in Picture":"Obraz v obraze","Camera Angle":"hel kamery",MEDIA_ERR_ABORTED:"Pehrvn videa se peruilo.",MEDIA_ERR_NETWORK:"Bhem stahovn videa dolo k chyb kvli problmu se st. Zkontrolujte prosm pipojen k sti nebo to zkuste znova pozdji.",MEDIA_ERR_DECODE:"Video se nedalo nast, bu kvli chyb serveru nebo st, nebo nem podporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pehrvn videa se peruilo, protoe je video pokozen nebo pouv funkce, kter v prohle nepodporuje.",MEDIA_ERR_ENCRYPTED:"Ned se deifrovat zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenael se dn kompatibiln zdroj pro aktuln prosted prohlee.",MEDIA_ERR_UNKNOWN:"Dolo k neznm chyb.",SKIP_AD_COUNTDOWN_FORMAT:"Peskoit reklamu za {0}...",SKIP:"Peskoit",AD_TIMING_INFO:"Reklama {0} s","Media Player":"Media Player","Play Video":"Pehrt video",Foreground:"Poped",White:"Bl",Black:"ern",Red:"erven",Green:"Zelen",Blue:"Modr",Yellow:"lut",Magenta:"Purpurov",Cyan:"Azurov",Opaque:"Neprhledn","Semi-Opaque":"Poloprhledn",Transparent:"Prhledn",Window:"Okno","Font Size":"Velikost psma","Text Edge Style":"Styl okraje textu",None:"dn",Raised:"Vystoupl",Depressed:"Vmknut",Uniform:"Jednotn",Dropshadow:"Stn","Font Family":"Rodina psem","Monospace Serif":"Neproporciln Serif","Proportional Serif":"Proporcionln Serif","Monospace Sans-Serif":"Neproporciln Sans-Serif","Proportional Sans-Serif":"Proporcionln Sans-Serif",Casual:"Neformln",Script:"Skript","Small Caps":"Kapitlky",Defaults:"Vchoz",Done:"Hotovo",Link:"Odkaz",Embed:"Vloit",Close:"Zavt",Copy:"Koprovat","Copy Url":"Zkoprovat adresu Url","Embed Code":"Kd pro vloen",English:"Anglitina","volume level":"rove hlasitosti","video progress bar":"indiktor prbhu pehrvn videa","playback speed level":"rove rychlosti  pehrvn","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Nabdka skrytch titulk","Subtitles Menu":"Nabdka titulk","Need Text":"Je nutn zadat text.",Download:"Sthnout","Go to live":"Pejt na iv vysln","End Time":"Koncov as"},r["default"].prototype.options_.languages["cs-cz"]=r["default"].prototype.options_.languages.cs},{"../video.js/src/js/player.js":210}],103:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.da={Play:"Afspil",Pause:"Pause","Current Time":"Aktuelt klokkeslt","Duration Time":"Varighed","Remaining Time":"Resterende tid","Stream Type":"Streamtype",LIVE:"LIVE",Loaded:"Indlst",Progress:"Status",Fullscreen:"Fuld skrm","Non-Fullscreen":"Ikke fuldskrm",Mute:"Sl lyd fra",Unmute:"Sl lyd til","Playback Rate":"Afspilningshastighed",Subtitles:"Undertekster","Subtitles Off":"Undertekster fra",Captions:"Billedtekster","Captions Off":"Billedtekster fra",Chapters:"Kapitler",Off:"Fra",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Vis p enhed",Share:"Del",Volume:"Lydstyrke","Playback Speed":"Afspilningshastighed","Video Quality":"Videokvalitet","Closed Captioning":"Undertekster","Share Video":"Del video","Next Track":"Nste spor","Previous Track":"Forrige spor","Skip Forward":"Spring frem","Skip Backward":"Spring tilbage","Fast Forward":"Spol hurtigt frem",Rewind:"Spol tilbage","Next Frame":"Nste billede","Previous Frame":"Forrige billede",Settings:"Indstillinger",Options:"Indstillinger","More Options":"Flere indstillinger",Zoom:"Zoom","Zoom In":"Zoom ind","Zoom Out":"Zoom ud","Audio Only":"Kun lyd","Picture in Picture":"Billede i billede","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Afspilning af video blev afbrudt. ",MEDIA_ERR_NETWORK:"P grund af en netvrksfejl blev videoen ikke downloadet helt. Kontrollr din netvrksforbindelse, eller prv igen senere.",MEDIA_ERR_DECODE:"Videoen kunne ikke indlses. Det skyldes en server- eller netvrksfejl, eller at formatet ikke er understttet.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Afspilning af video blev afbrudt. Det skyldes, at videoen er delagt, eller at videoen bruger funktioner, der ikke understttes af din browser.",MEDIA_ERR_ENCRYPTED:"Den krypterede videokilde kunne ikke dekrypteres.",SRC_PLAYER_MISMATCH:"Der blev ikke fundet en kompatibel kilde til det aktuelle browsermilj.",MEDIA_ERR_UNKNOWN:"Der opstod en ukendt fejl",SKIP_AD_COUNTDOWN_FORMAT:"Spring reklame over om {0}",SKIP:"Spring over",AD_TIMING_INFO:"Reklame p {0} sekunder","Media Player":"Medieafspiller","Play Video":"Afspil video",Foreground:"Forgrund",White:"Hvid",Black:"Sort",Red:"Rd",Green:"Grn",Blue:"Bl",Yellow:"Gul",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Uigennemsigtige","Semi-Opaque":"Nsten uigennemsigtig",Transparent:"Gennemsigtig",Window:"Vindue","Font Size":"Skriftstrrelse","Text Edge Style":"Typografi for tekstkant",None:"Ingen",Raised:"Hvet",Depressed:"Nedsnket",Uniform:"Ensartet",Dropshadow:"Skyggeeffekt","Font Family":"Skrifttypefamilie","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Tilfldig",Script:"Script","Small Caps":"Kapitler",Defaults:"Standarder",Done:"Udfrt",Link:"Link",Embed:"Integrer",Close:"Luk",Copy:"Copy","Copy Url":"Kopir URL-adresse","Embed Code":"Integrere kode",English:"Engelsk","volume level":"lydstyrke","video progress bar":"statuslinje for video","playback speed level":"niveau for afspilningshastighed","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu for billedtekster","Subtitles Menu":"Menuen for undertitler","Need Text":"Har du brug for tekst",Download:"Downloade","Go to live":"G til livestreaming","End Time":"Sluttidspunkt"},r["default"].prototype.options_.languages["da-dk"]=r["default"].prototype.options_.languages.da},{"../video.js/src/js/player.js":210}],104:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.de={Play:"Wiedergeben",Pause:"Anhalten","Current Time":"Aktuelle Zeit","Duration Time":"Dauer","Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:"LIVE",Loaded:"Geladen",Progress:"Status",Fullscreen:"Vollbild","Non-Fullscreen":"Vollbildmodus beenden",Mute:"Ton aus",Unmute:"Ton ein","Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:"Untertitel","Subtitles Off":"Untertitel aus",Captions:"Beschriftungen","Captions Off":"Beschriftungen aus",Chapters:"Kapitel",Off:"Aus",Quality:"Qualitt",Auto:"Automatisch","Audio Tracks":"Audiotitel","default":"Standard","Cast To Device":"Fr Gert umwandeln",Share:"Freigeben",Volume:"Lautstrke","Playback Speed":"Wiedergabegeschwindigkeit","Video Quality":"Videoqualitt","Closed Captioning":"Untertitelung","Share Video":"Video freigeben","Next Track":"Nchster Titel","Previous Track":"Vorheriger Titel","Skip Forward":"Rckwrts","Skip Backward":"Vorwrts","Fast Forward":"Vorlauf",Rewind:"Zurckspulen","Next Frame":"Nchstes Bild","Previous Frame":"Vorheriges Bild",Settings:"Einstellungen",Options:"Optionen","More Options":"Weitere Optionen",Zoom:"Zoom","Zoom In":"Vergrern","Zoom Out":"Verkleinern","Audio Only":"Nur Audio","Picture in Picture":"Bild-im-Bild","Camera Angle":"Kamerawinkel",MEDIA_ERR_ABORTED:"Videowiedergabe abgebrochen.",MEDIA_ERR_NETWORK:"Beim Herunterladen des Videos ist aufgrund eines Netzwerkfehlers ein Fehler aufgetreten. Prfen Sie Ihre Internetverbindung, oder versuchen Sie es spter erneut.",MEDIA_ERR_DECODE:"Das Video konnte nicht geladen werden. Entweder ist ein Server- oder Netzwerkfehler aufgetreten ist, oder das Format wird nicht untersttzt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Die Videowiedergabe wurde abgebrochen. Mglicherweise ist das Video beschdigt, oder es verwendet Funktionen, die in Ihrem Browser nicht untersttzt werden.",MEDIA_ERR_ENCRYPTED:"Die verschlsselte Videoquelle konnte nicht entschlsselt werden.",SRC_PLAYER_MISMATCH:"Keine kompatible Quelle fr die aktuelle Browserumgebung gefunden.",MEDIA_ERR_UNKNOWN:"Unbekannter Fehler.",SKIP_AD_COUNTDOWN_FORMAT:"Werbung in {0} berspringen...",SKIP:"berspringen",AD_TIMING_INFO:"{0} Sekunden Werbung","Media Player":"Media Player","Play Video":"Video wiedergeben",Foreground:"Vordergrund",White:"Wei",Black:"Schwarz",Red:"Rot",Green:"Grn",Blue:"Blau",Yellow:"Gelb",Magenta:"Magenta",Cyan:"Zyan",Opaque:"Undurchsichtig","Semi-Opaque":"Halb deckend",Transparent:"Transparent",Window:"Fenster","Font Size":"Schriftgrad","Text Edge Style":"Kanten-Formatvorlage",None:"Keine",Raised:"Erhht",Depressed:"Gedrckt",Uniform:"Einheitlich",Dropshadow:"Schlagschatten","Font Family":"Schriftfamilie","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Script","Small Caps":"Kapitlchen",Defaults:"Standard",Done:"Erledigt",Link:"Link",Embed:"Einbetten",Close:"Schlieen",Copy:"Kopieren","Copy Url":"URL kopieren","Embed Code":"Einbindungscode",English:"Englisch","volume level":"Lautstrkeregler","video progress bar":"Videostatusanzeige","playback speed level":"Stufe der Wiedergabegeschwindigkeit","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Men Bildtite","Subtitles Menu":"Men Untertitel","Need Text":"Text erforderlich",Download:"Herunterladen","Go to live":"Zu Livestream wechseln","End Time":"Endzeit"},r["default"].prototype.options_.languages["de-at"]=r["default"].prototype.options_.languages.de,r["default"].prototype.options_.languages["de-ch"]=r["default"].prototype.options_.languages.de},{"../video.js/src/js/player.js":210}],105:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.el={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":"   ","Stream Type":" ",LIVE:"LIVE",Loaded:"   ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"   ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .        .",MEDIA_ERR_DECODE:"                .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                 .",MEDIA_ERR_ENCRYPTED:"        . ",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"  .",SKIP_AD_COUNTDOWN_FORMAT:"   {0}...",SKIP:"",AD_TIMING_INFO:"{0}  ","Media Player":"Media Player","Play Video":" ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"-",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":"Serif  ","Proportional Serif":" serif","Monospace Sans-Serif":"Sans Serif  ","Proportional Sans-Serif":" sans serif",Casual:"",Script:" ","Small Caps":" ",Defaults:"",Done:"",Link:"",Embed:"E",Close:"",Copy:"","Copy Url":"  URL","Embed Code":" ",English:"","volume level":" ",
"video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" ",Download:"","Go to live":"   ","End Time":" "},r["default"].prototype.options_.languages["el-gr"]=r["default"].prototype.options_.languages.el},{"../video.js/src/js/player.js":210}],106:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.en={"Non-Fullscreen":"Exit Fullscreen","captions off":"Captions off","Media Download Description":"Beginning of Media Download Dialog. Escape will cancel and close the window.",MEDIA_ERR_ABORTED:"Video playback aborted.",MEDIA_ERR_NETWORK:"A network error caused the video download to fail part-way. Please check your network connection or try again later.",MEDIA_ERR_DECODE:"The video could not be loaded, either because the server or network failed or because the format is not supported.",MEDIA_ERR_SRC_NOT_SUPPORTED:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",MEDIA_ERR_ENCRYPTED:"Unable to decrypt the encrypted video source.",SRC_PLAYER_MISMATCH:"No compatible source found for the current browser environment.",MEDIA_ERR_UNKNOWN:"An unknown error occurred.",LEVEL2_ERR_CONTENT_NOT_AVAIL_YET:"Video playback cannot start because video content is not available yet. Please retry it shortly.",SKIP_AD_COUNTDOWN_FORMAT:"Skip ad in {0}...",SKIP:"Skip",AD_TIMING_INFO:"Ad {0} seconds"}},{"../video.js/src/js/player.js":210}],107:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.es={Play:"Reproducir",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Duracin","Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Tamao normal",Mute:"Silenciar",Unmute:"Reactivar audio","Playback Rate":"Tasa de reproduccin",Subtitles:"Subttulos","Subtitles Off":"subttulos desactivados",Captions:"Subttulos","Captions Off":"subttulos desactivados",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidad",Auto:"Automtico","Audio Tracks":"Pistas de audio","default":"predeterminado","Cast To Device":"Emitir en el dispositivo",Share:"Compartir",Volume:"Volumen","Playback Speed":"Velocidad de reproduccin","Video Quality":"Calidad de vdeo","Closed Captioning":"Subttulos (CC)","Share Video":"Compartir vdeo","Next Track":"Pista siguiente","Previous Track":"Pista anterior","Skip Forward":"Saltar adelante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rpidamente",Rewind:"Rebobinar","Next Frame":"Fotograma siguiente","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opciones","More Options":"Ms opciones",Zoom:"Zoom","Zoom In":"Acercar","Zoom Out":"Alejar","Audio Only":"Solo audio","Picture in Picture":"Imagen en imagen","Camera Angle":"ngulo de cmara",MEDIA_ERR_ABORTED:"La reproduccin de vdeo se cancel.",MEDIA_ERR_NETWORK:"Un error de red provoc que la descarga de vdeo no se pudiera realizar. Compruebe la conexin de red o intntelo de nuevo ms tarde.",MEDIA_ERR_DECODE:"No se pudo cargar el vdeo porque hubo un error en la red o en el servidor o porque el formato no es compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La reproduccin de vdeo se cancel debido a un problema con algn elemento o porque el vdeo contiene caractersticas que no son compatibles con el explorador.",MEDIA_ERR_ENCRYPTED:"La fuente de vdeo cifrada no se puede descifrar.",SRC_PLAYER_MISMATCH:"No se encontr ninguna fuente compatible con el entorno de explorador actual.",MEDIA_ERR_UNKNOWN:"Error desconocido.",SKIP_AD_COUNTDOWN_FORMAT:"Omitir anuncio en {0}...",SKIP:"Omitir",AD_TIMING_INFO:"Anuncio {0} segundos","Media Player":"Reproductor multimedia","Play Video":"Reproducir vdeo",Foreground:"Primer plano",White:"Blanco",Black:"Negro",Red:"Rojo",Green:"Verde",Blue:"Azul",Yellow:"Amarillo",Magenta:"Magenta",Cyan:"Cian",Opaque:"Opaco","Semi-Opaque":"Semiopaco",Transparent:"Transparente",Window:"Ventana","Font Size":"Tamao de fuente","Text Edge Style":"Estilo de borde de texto",None:"Ninguno",Raised:"Elevado",Depressed:"Pulsado",Uniform:"Uniforme",Dropshadow:"Sombra","Font Family":"Familia de fuentes","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Ocasional",Script:"Script","Small Caps":"Versalitas",Defaults:"Valores predeterminados",Done:"Listo",Link:"Vnculo",Embed:"Insertar",Close:"Cerrar",Copy:"Copiar","Copy Url":"Copiar URL","Embed Code":"Cdigo de insercin",English:"Ingls","volume level":"volumen","video progress bar":"barra de progreso de vdeo","playback speed level":"velocidad de reproduccin","Dolby Digital":"Dolby Digital",Stereo:"Estreo","Captions Menu":"Men de leyendas","Subtitles Menu":"Men de subttulos","Need Text":"Necesita texto",Download:"Descargar","Go to live":"Ir al directo","End Time":"Tiempo de finalizacin"},r["default"].prototype.options_.languages["es-ar"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-cl"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-co"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-cr"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-do"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-ec"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-us"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-gt"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-hn"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-xl"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-mx"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-ni"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-pa"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-py"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-pe"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-pr"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-us"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-uy"]=r["default"].prototype.options_.languages.es,r["default"].prototype.options_.languages["es-ve"]=r["default"].prototype.options_.languages.es},{"../video.js/src/js/player.js":210}],108:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.et={Play:"Esita",Pause:"Peata","Current Time":"Praegune kellaaeg","Duration Time":"Kestus","Remaining Time":"Jrelejnud aeg","Stream Type":"Voo tp",LIVE:"OTSE",Loaded:"Laaditud",Progress:"Edenemine",Fullscreen:"Tisekraanvaade","Non-Fullscreen":"Mittetisekraanvaade",Mute:"Vaigista",Unmute:"Llita vaigistus vlja","Playback Rate":"Taasesituse kiirus",Subtitles:"Subtiitrid","Subtitles Off":"subtiitrid vljas",Captions:"Tiitrid","Captions Off":"tiitrid vljas",Chapters:"Peatkid",Off:"Vljas",Quality:"Kvaliteet",Auto:"Automaatne","Audio Tracks":"Heliribad","default":"vaikeste","Cast To Device":"Esita seadmes",Share:"Jaga",Volume:"Helitugevus","Playback Speed":"Taasesituse kiirus","Video Quality":"Video kvaliteet","Closed Captioning":"Subtiitrid vaegkuuljatele","Share Video":"Jaga videot","Next Track":"Jrgmine pala","Previous Track":"Eelmine pala","Skip Forward":"Keri edasi","Skip Backward":"Keri tagasi","Fast Forward":"Edasi",Rewind:"Tagasi","Next Frame":"Jrgmine kaader","Previous Frame":"Eelmine kaader",Settings:"Stted",Options:"Suvandid","More Options":"Rohkem suvandeid",Zoom:"Suum","Zoom In":"Suurenda","Zoom Out":"Vhenda","Audio Only":"Ainult heli","Picture in Picture":"Pilt pildis","Camera Angle":"Vaatenurk",MEDIA_ERR_ABORTED:"Video taasesitamine katkestati.",MEDIA_ERR_NETWORK:"Video allalaadimine nurjus vrgutrke tttu poole pealt. Kontrollige vrguhendust vi proovige hiljem uuesti.",MEDIA_ERR_DECODE:"Videot ei saanud laadida, kuna serveri- vi vrguhendus nurjus vi vormingut ei toetata.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video taasesitamine katkes failirikke tttu vi kuna teie brauser ei toeta videos kasutatud funktsioone.",MEDIA_ERR_ENCRYPTED:"Krptitud videoallikat ei saa dekrptida.",SRC_PLAYER_MISMATCH:"Praeguse brauserikeskkonna jaoks ei leitud hilduvat allikat.",MEDIA_ERR_UNKNOWN:"Ilmnes tundmatu trge",SKIP_AD_COUNTDOWN_FORMAT:"Jta reklaam vahele {0} sekundi prast ",SKIP:"Jta vahele",AD_TIMING_INFO:"Reklaam kestab {0} sekundit","Media Player":"Meediumipleier","Play Video":"Esita video",Foreground:"Esiplaan",White:"Valge",Black:"Must",Red:"Punane",Green:"Roheline",Blue:"Sinine",Yellow:"kollane",Magenta:"Magenta",Cyan:"Tsaan",Opaque:"Lbipaistmatu","Semi-Opaque":"Pooleldi lbipaistmatu",Transparent:"Lbipaistev",Window:"Aken","Font Size":"Fondi suurus","Text Edge Style":"Tekstiserva laad",None:"Pole",Raised:"Tstetud",Depressed:"Svendatud",Uniform:"htlane",Dropshadow:"Langev vari","Font Family":"Fondipere","Monospace Serif":"Seriifidega psisammkiri","Proportional Serif":"Seriifidega proportsionaalkiri","Monospace Sans-Serif":"Seriifideta psisammkiri","Proportional Sans-Serif":"Seriifideta proportsionaalkiri",Casual:"Sidumata kiri",Script:"Script","Small Caps":"Kapiteelkiri",Defaults:"Vaikestted",Done:"Valmis",Link:"Link",Embed:"Manussisu",Close:"Sule",Copy:"Kopeeri","Copy Url":"Kopeeri URL","Embed Code":"Manustamiskood",English:"Inglise","volume level":"Helitugevus","video progress bar":"video edenemisriba","playback speed level":"taasesituse kiirus","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Tiitrimen","Subtitles Menu":"Subtiitrimen","Need Text":"Vajalik tekst",Download:"Alla laadima","Go to live":"Mine reaalaega","End Time":"Lppaeg"},r["default"].prototype.options_.languages["et-ee"]=r["default"].prototype.options_.languages.et},{"../video.js/src/js/player.js":210}],109:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.eu={Play:"Erreproduzitu",Pause:"Pausatu","Current Time":"Uneko ordua","Duration Time":"Iraupena","Remaining Time":"Gelditzen den denbora","Stream Type":"Erreprodukzio mota",LIVE:"ZUZENEAN",Loaded:"Kargatuta",Progress:"Aurrerapena",Fullscreen:"Pantaila osoa","Non-Fullscreen":"Pantaila osoa ez",Mute:"Desaktibatu audioa",Unmute:"Aktibatu audioa","Playback Rate":"Erreprodukzio-abiadura",Subtitles:"Azpitituluak","Subtitles Off":"azpitituluak desaktibatuta",Captions:"Epigrafeak","Captions Off":"epigrafeak desaktibatuta",Chapters:"Atalak",Off:"Desaktibatuta",Quality:"Kalitatea",Auto:"Automatikoa","Audio Tracks":"Audio-pistak","default":"lehenetsia","Cast To Device":"Igorri gailura",Share:"Partekatu",Volume:"Bolumena","Playback Speed":"Erreprodukzio-abiadura","Video Quality":"Bideoaren kalitatea","Closed Captioning":"Epigrafeak","Share Video":"Partekatu bideoa","Next Track":"Hurrengo pista","Previous Track":"Aurreko pista","Skip Forward":"Saltatu aurrera","Skip Backward":"Saltatu atzera","Fast Forward":"Aurreratu",Rewind:"Atzeratu","Next Frame":"Hurrengo fotograma","Previous Frame":"Aurreko fotograma",Settings:"Ezarpenak",Options:"Aukerak","More Options":"Aukera gehiago",Zoom:"Zooma","Zoom In":"Handitu","Zoom Out":"Txikitu","Audio Only":"Audioa soilik","Picture in Picture":"Irudia irudiaren barnean","Camera Angle":"Kamera-angelua",MEDIA_ERR_ABORTED:"Bideo-erreprodukzioa utzi egin da",MEDIA_ERR_NETWORK:"Sare-errore bat gertatu da eta ezin izan da bideo osoa deskargatu. Egiaztatu sarera konektatuta zaudela edo saiatu berriro geroago.",MEDIA_ERR_DECODE:"Ezin izan da kargatu bideoa, zerbitzariak edo sareak huts egin duelako edo formatua onartzen ez delako.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bideo-erreprodukzioa utzi egin da hondatuta dagoelako edo arakatzaileak onartzen ez dituen eginbideak erabiltzen dituelako bideoak.",MEDIA_ERR_ENCRYPTED:"Ezin da desenkriptatu enkriptatutako bideo-iturburua.",SRC_PLAYER_MISMATCH:"Ez da aurkitu iturburu bateragarririk uneko arakatzaile-ingurunerako.",MEDIA_ERR_UNKNOWN:"Errore ezezagun bat gertatu da",SKIP_AD_COUNTDOWN_FORMAT:"Saltatu iragarkia: {0}...",SKIP:"Saltatu",AD_TIMING_INFO:"Iragarkia: {0} segundo",Download:"Deskargatu","Go to live":"Zuzeneko erreprodukzioak","End Time":"Amaiera-ordua"},r["default"].prototype.options_.languages["eu-es"]=r["default"].prototype.options_.languages.eu},{"../video.js/src/js/player.js":210}],110:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.fa={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmute:"  ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:" ","Captions Off":"  ",Chapters:" ",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":"   ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:"  ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:" ","More Options":"  ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .            .",MEDIA_ERR_DECODE:"                     .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                     .",MEDIA_ERR_ENCRYPTED:"        .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"     ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}...",SKIP:" ",AD_TIMING_INFO:" {0} "},r["default"].prototype.options_.languages["fa-ir"]=r["default"].prototype.options_.languages.fa},{"../video.js/src/js/player.js":210}],111:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.fi={Play:"Toista",Pause:"Keskeyt","Current Time":"Nykyinen aika","Duration Time":"Kesto","Remaining Time":"Jljell oleva aika","Stream Type":"Suoratoistotyyppi",LIVE:"LIVE",Loaded:"Ladattu",Progress:"Edistyminen",Fullscreen:"Koko nytt","Non-Fullscreen":"Muu kuin koko nytt",Mute:"Mykist",Unmute:"Poista mykistys","Playback Rate":"Toistonopeus",Subtitles:"Tekstitys","Subtitles Off":"Ei tekstityst",Captions:"Kuvatekstit","Captions Off":"Ei kuvatekstej",Chapters:"Kohtaukset",Off:"Ei kytss",Quality:"Laatu",Auto:"Automaattinen","Audio Tracks":"niraidat","default":"oletus","Cast To Device":"Lhet laitteeseen",Share:"Jaa",Volume:"nenvoimakkuus","Playback Speed":"Toistonopeus","Video Quality":"Videon laatu","Closed Captioning":"Tekstitys","Share Video":"Jaa video","Next Track":"Seuraava raita","Previous Track":"Edellinen raita","Skip Forward":"Siirry eteenpin","Skip Backward":"Siirry taaksepin","Fast Forward":"Kelaa eteenpin",Rewind:"Kelaa taaksepin","Next Frame":"Seuraava kuva","Previous Frame":"Edellinen kuva",Settings:"Asetukset",Options:"Asetukset","More Options":"Lisasetukset",Zoom:"Zoomaus","Zoom In":"Lhenn ","Zoom Out":"Loitonna","Audio Only":"Vain ni","Picture in Picture":"Kuva kuvassa","Camera Angle":"Kamerakulma",MEDIA_ERR_ABORTED:"Videotoisto keskeytetty.",MEDIA_ERR_NETWORK:"Verkkovirhe keskeytti videon lataamisen. Tarkista verkkoyhteys tai yrit myhemmin uudelleen.",MEDIA_ERR_DECODE:"Videota ei voitu ladata verkko- tai palvelinvirheen takia tai koska muotoa ei tueta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videon toisto keskeytettiin vioittumisen takia tai sen takia, ett selaimesi ei tue kaikkia videon kyttmi toimintoja.",MEDIA_ERR_ENCRYPTED:"Salatun videolhteen salausta ei voida purkaa.",SRC_PLAYER_MISMATCH:"Nykyisen selainympristn kanssa yhteensopivaa lhdett ei lytynyt.",MEDIA_ERR_UNKNOWN:"Ilmeni tuntematon virhe",SKIP_AD_COUNTDOWN_FORMAT:"Ohita mainos, kun on kulunut {0}...",SKIP:"Ohita",AD_TIMING_INFO:"Mainos  {0} sekuntia","Media Player":"Media Player","Play Video":"Katso video",Foreground:"Edusta",White:"Valkoinen",Black:"Musta",Red:"Punainen",Green:"Vihre",Blue:"Sininen",Yellow:"Keltainen",Magenta:"Magenta",Cyan:"Syaani",Opaque:"Lpinkymtn","Semi-Opaque":"Puoliksi lpinkyv",Transparent:"Lpinkyv",Window:"Ikkuna","Font Size":"Fonttikoko","Text Edge Style":"Tekstin reunatyyli",None:"Ei mitn",Raised:"Korotettuna",Depressed:"Kokoon painettuna",Uniform:"Yhteninen",Dropshadow:"Varjo","Font Family":"Fonttiperhe","Monospace Serif":"Suhteuttamaton Serif","Proportional Serif":"Suhteellinen Serif","Monospace Sans-Serif":"Suhteuttamaton Sans Serif","Proportional Sans-Serif":"Suhteellinen Sans Serif",Casual:"Rento",Script:"Komentosarja","Small Caps":"Kapiteelit",Defaults:"Oletusasetukset",Done:"Valmis",Link:"Linkki",Embed:"Liit",Close:"Sulje",Copy:"Kopioi","Copy Url":"Kopioi URL-osoite","Embed Code":"Liittmiskoodi",English:"englanti","volume level":"nenvoimakkuuden taso","video progress bar":"videon tilanneilmaisin","playback speed level":"toiston parantaminen tasolle","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Kuvatekstien valikko","Subtitles Menu":"Tekstitys-valikko","Need Text":"On teksti",Download:"Ladata","Go to live":"Siirry live-tilaan","End Time":"Pttymisaika"}},{"../video.js/src/js/player.js":210}],112:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.fr={Play:"Lecture",Pause:"Pause","Current Time":"Heure actuelle","Duration Time":"Dure","Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:"EN DIRECT",Loaded:"Charg",Progress:"Progression",Fullscreen:"Plein cran","Non-Fullscreen":"Plein cran dsactiv",Mute:"Volume muet",Unmute:"Ractiver le son","Playback Rate":"Flux de lecture",Subtitles:"Sous-titres","Subtitles Off":"sous-titres dsactivs",Captions:"Sous-titrage","Captions Off":"sous-titrage dsactiv",Chapters:"Chapitres",Off:"Dsactiv",Quality:"Qualit",Auto:"Auto","Audio Tracks":"Pistes audio","default":"par dfaut","Cast To Device":"Projeter sur un appareil",Share:"Partager",Volume:"Volume","Playback Speed":"Vitesse de lecture","Video Quality":"Qualit vido","Closed Captioning":"Sous-titrage","Share Video":"Partager la vido","Next Track":"Piste suivante","Previous Track":"Piste prcdente","Skip Forward":"Avance rapide","Skip Backward":"Retour rapide","Fast Forward":"Avance rapide",Rewind:"Retour rapide","Next Frame":"Image suivante","Previous Frame":"Image prcdente",Settings:"Paramtres",Options:"Options","More Options":"Autres options",Zoom:"Zoom","Zoom In":"Zoom avant","Zoom Out":"Zoom arrire","Audio Only":"Audio seul","Picture in Picture":"Image dans l'image","Camera Angle":"Angle de camra",MEDIA_ERR_ABORTED:"Lecture vido abandonne.",MEDIA_ERR_NETWORK:"Une erreur rseau a entran l'chec du tlchargement de la vido. Vrifiez votre connexion rseau ou ressayez ultrieurement.",MEDIA_ERR_DECODE:"La vido n'a pas pu tre charge parce que le serveur ou le rseau ont chou ou parce que le format n'est pas pris en charge.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La lecture de la vido a t abandonne en raison d'un problme d'endommagement ou parce que la vido utilise des fonctionnalits que votre navigateur ne prend pas en charge.",MEDIA_ERR_ENCRYPTED:"Impossible de dchiffrer la source vido chiffre.",SRC_PLAYER_MISMATCH:"Aucune source compatible trouve dans l'environnement actuel du navigateur.",MEDIA_ERR_UNKNOWN:"Une erreur inconnue s'est produite.",SKIP_AD_COUNTDOWN_FORMAT:"Ignorer la publicit dans {0}...",SKIP:"Ignorer",AD_TIMING_INFO:"{0} secondes de publicit","Media Player":"Lecteur multimdia","Play Video":"Lire la vido",Foreground:"Premier plan",White:"Blanc",Black:"Noir",Red:"Rouge",Green:"Vert",Blue:"Bleu",Yellow:"Jaune",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Opaque","Semi-Opaque":"Semi-opaque",Transparent:"Transparent",Window:"Fentre","Font Size":"Taille de police","Text Edge Style":"Style de bordure de texte",None:"Aucun",Raised:"En relief",Depressed:"Emboss",Uniform:"Uniforme",Dropshadow:"Ombre porte","Font Family":"Famille de polices","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Informelle",Script:"Script","Small Caps":"Petites majuscules",Defaults:"Valeurs par dfaut",Done:"Termin",Link:"Lien",Embed:"Incorporer",Close:"Fermer",Copy:"Copy","Copy Url":"Copier l'Url","Embed Code":"Incorporer le code",English:"Anglais","volume level":"Volume","video progress bar":"Barre d'avancement de la vido","playback speed level":"Vitesse de lecture","Dolby Digital":"Dolby Digital",Stereo:"Stro","Captions Menu":"Menu des transcriptions","Subtitles Menu":"Menu des sous-titres","Need Text":"Need Text",Download:"Tlcharger","Go to live":"Accder au direct","End Time":"Heure de fin"},r["default"].prototype.options_.languages["fr-ab"]=r["default"].prototype.options_.languages.fr,r["default"].prototype.options_.languages["fr-be"]=r["default"].prototype.options_.languages.fr,r["default"].prototype.options_.languages["fr-ca"]=r["default"].prototype.options_.languages.fr,r["default"].prototype.options_.languages["fr-xf"]=r["default"].prototype.options_.languages.fr,r["default"].prototype.options_.languages["fr-ch"]=r["default"].prototype.options_.languages.fr},{"../video.js/src/js/player.js":210}],113:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.gl={Play:"Reproducir",Pause:"Pausar","Current Time":"Hora actual","Duration Time":"Tempo de duracin","Remaining Time":"Tempo restante","Stream Type":"Tipo de transmisin",LIVE:"EN DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Sen pantalla completa",Mute:"Silenciar",Unmute:"Activar son","Playback Rate":"Velocidade de reproducin",Subtitles:"Subttulos","Subtitles Off":"Sen subttulos",Captions:"Lendas","Captions Off":"Sen lendas",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidade",Auto:"Automtico","Audio Tracks":"Pista de audio","default":"predefinido","Cast To Device":"Converter en dispositivo",Share:"Compartir",Volume:"Volume","Playback Speed":"Velocidade de reproducin","Video Quality":"Calidade de vdeo","Closed Captioning":"Subttulos","Share Video":"Compartir vdeo","Next Track":"Pista seguinte","Previous Track":"Pista anterior","Skip Forward":"Saltar adiante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rapidamente",Rewind:"Rebobinar","Next Frame":"Fotograma seguinte","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opcins","More Options":"Mis opcins",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reducir","Audio Only":"S audio","Picture in Picture":"Imaxe en imaxe","Camera Angle":"Angular da cmara",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN",SKIP_AD_COUNTDOWN_FORMAT:"Ignorar anuncio en {0}...",SKIP:"Ignorar",AD_TIMING_INFO:"Anuncio {0} segundos",Download:"Descargar","Go to live":"Ir ao contido en directo","End Time":"Hora de finalizacin"},r["default"].prototype.options_.languages["gl-es"]=r["default"].prototype.options_.languages.gl},{"../video.js/src/js/player.js":210}],114:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.he={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":" ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"   ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"  ","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  ",MEDIA_ERR_NETWORK:"       .         .",MEDIA_ERR_DECODE:"               .",MEDIA_ERR_SRC_NOT_SUPPORTED:"               .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"Media Player","Play Video":"  ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"Serif  ","Proportional Serif":"Serif ","Monospace Sans-Serif":"Sans Serif  ","Proportional Sans-Serif":"Sans Serif ",Casual:"",Script:"","Small Caps":" ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"  URL","Embed Code":" ",English:"","volume level":" ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" ",Download:"","Go to live":"\t  ","End Time":" "},r["default"].prototype.options_.languages["he-il"]=r["default"].prototype.options_.languages.he},{"../video.js/src/js/player.js":210}],115:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.hi={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:" ","Audio Tracks":" ","default":"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:" ","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"    ",MEDIA_ERR_NETWORK:"           .            .",MEDIA_ERR_DECODE:"    ,             .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                        .",MEDIA_ERR_ENCRYPTED:"         .",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:" {0}  ...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":" ","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:" ",Cyan:" ",Opaque:"","Semi-Opaque":"-",Transparent:"",Window:"","Font Size":"  ","Text Edge Style":"    ",None:" ",Raised:" ",Depressed:" ",Uniform:" ",Dropshadow:"","Font Family":" ","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"",Script:"","Small Caps":" ",Defaults:"",Done:"",Link:"",Embed:" ",Close:" ",Copy:" ","Copy Url":"Url   ","Embed Code":" ",English:"","volume level":"  ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":" ",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":"   ",Download:" ",
"Go to live":" ","End Time":"   "},r["default"].prototype.options_.languages["hi-in"]=r["default"].prototype.options_.languages.hi},{"../video.js/src/js/player.js":210}],116:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.hr={Play:"Reproduciraj",Pause:"Pauziraj","Current Time":"Trenutno vrijeme","Duration Time":"Trajanje","Remaining Time":"Preostalo vrijeme","Stream Type":"Vrsta strujanja",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tijek",Fullscreen:"Preko cijelog zaslona","Non-Fullscreen":"Nije preko cijelog zaslona",Mute:"Iskljui zvuk",Unmute:"Ukljui zvuk","Playback Rate":"Brzina reprodukcije",Subtitles:"Titlovi","Subtitles Off":"titlovi iskljueni",Captions:"Titlovi","Captions Off":"titlovi iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvaliteta",Auto:"Automatski","Audio Tracks":"Audiozapisi","default":"zadano","Cast To Device":"Poalji na ureaj",Share:"Zajedniki koristi",Volume:"Glasnoa","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvaliteta videozapisa","Closed Captioning":"Titlanje","Share Video":"Zajedniki koristi videozapis","Next Track":"Sljedei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Skok unaprijed","Skip Backward":"Skok unatrag","Fast Forward":"Brzo naprijed",Rewind:"Premotaj","Next Frame":"Sljedea slika","Previous Frame":"Prethodna slika",Settings:"Postavke",Options:"Mogunosti","More Options":"Dodatne mogunosti",Zoom:"Zumiranje","Zoom In":"Poveavanje","Zoom Out":"Smanjivanje","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Kut kamere",MEDIA_ERR_ABORTED:"Prekinuta je reprodukcija videozapisa.",MEDIA_ERR_NETWORK:"Mrena pogreka uzrokovala je prekid preuzimanja videozapisa. Provjerite mrenu vezu i pokuajte ponovno.",MEDIA_ERR_DECODE:"Videozapis nije mogue uitati zbog kvara posluitelja ili mree ili jer oblik nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija videozapisa prekinuta je zbog oteenja ili jer videozapis sadri znaajke koje preglednik ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifriranje ifriranog videoizvora.",SRC_PLAYER_MISMATCH:"Nije pronaen kompatibilan izvor za trenutno okruenje preglednika.",MEDIA_ERR_UNKNOWN:"Pojavila se nepoznata pogreka.",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi oglas za {0}...",SKIP:"Preskoi",AD_TIMING_INFO:"Oglas {0} s","Media Player":"Media Player","Play Video":"Reproduciraj videozapis",Foreground:"Prednji plan",White:"Bijela",Black:"Crna",Red:"Crvena",Green:"Zelena",Blue:"Plava",Yellow:"uta",Magenta:"Magenta",Cyan:"Cijan",Opaque:"Neprozirno","Semi-Opaque":"Djelomice neprozirno",Transparent:"Prozirno",Window:"Prozor","Font Size":"Veliina fonta","Text Edge Style":"Stil ruba teksta",None:"Nema",Raised:"Podignuto",Depressed:"Utisnuto",Uniform:"Jednoobrazno",Dropshadow:"Padajua sjena","Font Family":"Grupa fontova","Monospace Serif":"Neproporcionalni serif","Proportional Serif":"Proporcionalni serif","Monospace Sans-Serif":"Neproporcionalni sans-serif","Proportional Sans-Serif":"Proporcionalni sans-serif",Casual:"Neformalno",Script:"Skripta","Small Caps":"Smanjena velika slova",Defaults:"Zadane postavke",Done:"Gotovo",Link:"Veza",Embed:"Ugradi",Close:"Zatvori",Copy:"Kopiraj","Copy Url":"Kopiraj URL","Embed Code":"Ugradi kod",English:"Engleski","volume level":"razina glasnoe","video progress bar":"traka prikaza tijeka videozapisa","playback speed level":"brzina reprodukcije","Dolby Digital":"Dolby Digital",Stereo:"Stereozvuk","Captions Menu":"Izbornik s natpisima","Subtitles Menu":"Izbornik s titlovima","Need Text":"Potreban tekst",Download:"Preuzmi","Go to live":"Prijei na emitiranje uivo","End Time":"Vrijeme zavretka"}},{"../video.js/src/js/player.js":210}],117:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.hu={Play:"Lejtszs",Pause:"Szneteltets","Current Time":"Aktulis id","Duration Time":"Idtartam","Remaining Time":"Htralv id","Stream Type":"Online tartalom tpusa",LIVE:"L",Loaded:"Betltve",Progress:"llapot",Fullscreen:"Teljes kperny","Non-Fullscreen":"Nem teljes kpernys md",Mute:"Elnmts",Unmute:"Nmts feloldsa","Playback Rate":"Lejtszsi sebessg",Subtitles:"Feliratok","Subtitles Off":"feliratok kikapcsolva",Captions:"Feliratok","Captions Off":"feliratozs kikapcsolva",Chapters:"Fejezetek",Off:"Kikapcsolva",Quality:"Minsg",Auto:"Automatikus","Audio Tracks":"Zeneszmok","default":"alaprtelmezett","Cast To Device":"tvitel eszkzre",Share:"Megoszts",Volume:"Hanger","Playback Speed":"Lejtszs sebessge","Video Quality":"Videminsg","Closed Captioning":"Feliratozs","Share Video":"Vide megosztsa","Next Track":"Kvetkez szm","Previous Track":"Elz szm","Skip Forward":"Ugrs elre","Skip Backward":"Ugrs vissza","Fast Forward":"Elretekers",Rewind:"Visszatekers","Next Frame":"Kvetkez kpkocka","Previous Frame":"Elz kpkocka",Settings:"Belltsok",Options:"Belltsok","More Options":"Tovbbi lehetsgek",Zoom:"Nagyts","Zoom In":"Nagyts","Zoom Out":"Kicsinyts","Audio Only":"Csak hang","Picture in Picture":"Kp a kpben","Camera Angle":"Kamera ltszge",MEDIA_ERR_ABORTED:"Videolejtszs megszaktva.",MEDIA_ERR_NETWORK:"A vide letltse hlzati hiba miatt megszakadt. Ellenrizze a hlzati kapcsolatot, vagy prblkozzon jra ksbb.",MEDIA_ERR_DECODE:"Nem sikerlt betlteni a videt a kiszolgl vagy a hlzat hibja miatt, vagy mert a formtum nem tmogatott.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A vide lejtszsa megszakadt adatsrls miatt, vagy mert a vide olyan funkcikat hasznl, amelyeket a bngsz nem tmogat.",MEDIA_ERR_ENCRYPTED:"Nem lehet visszafejteni a titkostott videoforrst.",SRC_PLAYER_MISMATCH:"Nem tallhat a jelenlegi bngszkrnyezettel kompatibilis forrs.",MEDIA_ERR_UNKNOWN:"Ismeretlen hiba trtnt.",SKIP_AD_COUNTDOWN_FORMAT:"Reklm tugrsa: {0}",SKIP:"tugrs",AD_TIMING_INFO:"Reklm  {0} msodperc","Media Player":"Media Player","Play Video":"Play Video",Foreground:"Eltr",White:"Htf",Black:"Fekete",Red:"Vrs",Green:"Zld",Blue:"Kk",Yellow:"Srga",Magenta:"Bbor",Cyan:"Cinkk",Opaque:"tltszatlan","Semi-Opaque":"Flig tltsz",Transparent:"tltsz",Window:"Ablak","Font Size":"Betmret","Text Edge Style":"Szvegszl stlusa",None:"Nincs",Raised:"Dombor",Depressed:"Sllyesztett",Uniform:"Egysges",Dropshadow:"rnykolt","Font Family":"Betkszlet","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Alkalmi",Script:"Parancsfjl","Small Caps":"Kiskapitlis",Defaults:"Alaprtelmezett",Done:"Ksz",Link:"Hivatkozs",Embed:"Begyazs",Close:"Bezrs",Copy:"Msols","Copy Url":"URL-cm msolsa","Embed Code":"Begyazsi kd",English:"Angol","volume level":"hanger","video progress bar":"vide folyamatjelz","playback speed level":"lejtszs sebessge","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Kpalrsok men","Subtitles Menu":"Feliratok men","Need Text":"Szveg szksges",Download:"Letlts","Go to live":"l stream megnyitsa","End Time":"Zr idpont"}},{"../video.js/src/js/player.js":210}],118:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.id={Play:"Putar",Pause:"Jeda","Current Time":"Waktu Saat Ini","Duration Time":"Waktu Durasi","Remaining Time":"Waktu Tersisa","Stream Type":"Tipe Stream",LIVE:"LANGSUNG",Loaded:"Dimuat",Progress:"Progres",Fullscreen:"Layar Penuh","Non-Fullscreen":"Bukan Layar Penuh",Mute:"Matikan Suara",Unmute:"Nyalakan Suara","Playback Rate":"Laju Pemutaran",Subtitles:"Subjudul","Subtitles Off":"subjudul mati",Captions:"Keterangan","Captions Off":"keterangan mati",Chapters:"Bab",Off:"Mati",Quality:"Kualitas ",Auto:"Otomatis","Audio Tracks":"Trek Audio","default":"default","Cast To Device":"Putar Ke Perangkat",Share:"Bagikan",Volume:"Volume","Playback Speed":"Kecepatan Pemutaran","Video Quality":"Kualitas Video","Closed Captioning":"Judul Tertutup","Share Video":"Bagikan Video","Next Track":"Trek Berikutnya","Previous Track":"Trek Sebelumnya","Skip Forward":"Lewati Maju","Skip Backward":"Lewati Mundur","Fast Forward":"Maju Cepat",Rewind:"Mundur","Next Frame":"Bingkai Berikutnya","Previous Frame":"Bingkai Sebelumnya",Settings:"Pengaturan",Options:"Opsi","More Options":"Opsi Lainnya",Zoom:"Zoom","Zoom In":"Perbersar","Zoom Out":"Perkecil","Audio Only":"Hanya Audio","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Pemutaran video dibatalkan.",MEDIA_ERR_NETWORK:"Kesalahan jaringan menyebabkan unduhan video gagal sebagian. Periksa koneksi jaringan Anda atau coba lagi nanti.",MEDIA_ERR_DECODE:"Video tidak dapat dimuat, karena server atau jaringan gagal, atau karena format tidak didukung.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pemutaran video dibatalkan karena masalah kerusakan atau video menggunakan fitur yang tidak didukung browser Anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat mendekripsi sumber video yang dienkripsi.",SRC_PLAYER_MISMATCH:"Sumber yang kompatibel tidak ditemukan untuk lingkungan browser saat ini.",MEDIA_ERR_UNKNOWN:"Terjadi kesalahan tidak diketahui",SKIP_AD_COUNTDOWN_FORMAT:"Lewati iklan dalam {0}",SKIP:"Lewati",AD_TIMING_INFO:"Iklan {0} detik","Media Player":"Pemutar Media","Play Video":"Putar Video",Foreground:"Latar depan",White:"Putih",Black:"Hitam",Red:"Merah",Green:"Hijau",Blue:"Biru",Yellow:"Kuning",Magenta:"Magenta",Cyan:"Sian",Opaque:"Buram","Semi-Opaque":"Semiburam",Transparent:"Transparan",Window:"Jendela","Font Size":"Ukuran Font","Text Edge Style":"Gaya Teks Edge",None:"Tidak Ada",Raised:"Dinaikkan",Depressed:"Diturunkan",Uniform:"Seragam",Dropshadow:"Bayangan Jatuh","Font Family":"Keluarga Font","Monospace Serif":"Serif Monospace","Proportional Serif":"Serif Proporsional","Monospace Sans-Serif":"Sans Serif Monospace","Proportional Sans-Serif":"Sans Serif Proporsional",Casual:"Kasual",Script:"Skrip","Small Caps":"Huruf Kecil",Defaults:"Default",Done:"Selesai",Link:"Tautan",Embed:"Sematkan",Close:"Tutup",Copy:"Salin","Copy Url":"Salin Url","Embed Code":"Kode Semat",English:"Bahasa Inggris","volume level":"tingkat volume","video progress bar":"bilah progres video","playback speed level":"tingkat kecepatan pemutaran","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Keterangan","Subtitles Menu":"Menu Subjudul","Need Text":"Memerlukan Teks",Download:"Unduh","Go to live":"Mulai Siaran Langsung","End Time":"Waktu Selesai"}},{"../video.js/src/js/player.js":210}],119:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.is={Play:"Spila",Pause:"Bi","Current Time":"Nverandi tmi","Duration Time":"Tmalengd","Remaining Time":"Tmi eftir","Stream Type":"Ger straums",LIVE:" beinni",Loaded:"Hlai",Progress:"Framvinda",Fullscreen:"Heill skjr","Non-Fullscreen":"Ekki heill skjr",Mute:"Taka hlj af",Unmute:"Setja hlj ","Playback Rate":"Spilunarhrai",Subtitles:"Skjtextar","Subtitles Off":"Slkkt  skjtexta",Captions:"Myndatextar","Captions Off":"Slkkt  myndatexta",Chapters:"Kaflar",Off:"Af",Quality:"Gi",Auto:"Sjlfvirkt","Audio Tracks":"Hljspor","default":"sjlfvali","Cast To Device":"Varpa  tki",Share:"Deila",Volume:"Hljstyrkur","Playback Speed":"Afspilunarhrai","Video Quality":"Vdegi","Closed Captioning":"Lokair myndatextar","Share Video":"Deila vdei","Next Track":"Nsta spor","Previous Track":"Fyrra spor","Skip Forward":"Hoppa fram  vi","Skip Backward":"Hoppa afturbak","Fast Forward":"Hratt fram",Rewind:"Spla til baka","Next Frame":"Nsti rammi","Previous Frame":"Fyrri rammi",Settings:"Stillingar",Options:"Valkostir","More Options":"Fleiri valkostir",Zoom:"Sma","Zoom In":"Sma inn","Zoom Out":"Sma t","Audio Only":"Aeins hlj","Picture in Picture":"Mynd  mynd","Camera Angle":"Kameruvinkill",MEDIA_ERR_ABORTED:"Htt vi afspilun vdes",MEDIA_ERR_NETWORK:"Villa  netkerfi olli v a niurhal vdes mistkst a hluta. Vinsamlegast athugau nettenginguna na ea reyndu aftur sar.",MEDIA_ERR_DECODE:"Ekki var hgt a hlaa vdei, annahvort vegna ess a jnn ea net voru ekki  lagi ea vegna ess a snii er ekki studd.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Htt var vi afspilun  vde vegna vandamla vegna truflunar ea vegna ess a vde notar eiginleika sem vafrinn inn styur ekki.",MEDIA_ERR_ENCRYPTED:"Gat ekki afka dulkaan uppruna vdes",SRC_PLAYER_MISMATCH:"Enginn samhfur uppruni fannst fyrir nverandi umhverfi vafra.",MEDIA_ERR_UNKNOWN:"ekkt villa kom upp",SKIP_AD_COUNTDOWN_FORMAT:"Sleppa auglsingu eftir {0}...",SKIP:"Sleppa",AD_TIMING_INFO:"Auglsing  {0} sekndur"}},{"../video.js/src/js/player.js":210}],120:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.it={Play:"Riproduci",Pause:"Pausa","Current Time":"Ora corrente","Duration Time":"Durata","Remaining Time":"Tempo residuo","Stream Type":"Tipo di flusso",LIVE:"LIVE",Loaded:"Caricato",Progress:"Stato",Fullscreen:"Schermo intero","Non-Fullscreen":"Schermo normale",Mute:"Disattiva audio",Unmute:"Attiva audio","Playback Rate":"Frequenza di riproduzione",Subtitles:"Sottotitoli","Subtitles Off":"disattiva sottotitoli",Captions:"Didascalie","Captions Off":"disattiva didascalie",Chapters:"Capitoli",Off:"Disattivato",Quality:"Qualit",Auto:"Automatico","Audio Tracks":"Brani audio","default":"predefinito","Cast To Device":"Cast nel dispositivo",Share:"Condividi",Volume:"Volume","Playback Speed":"Velocit di riproduzione","Video Quality":"Qualit video","Closed Captioning":"Sottotitoli codificati","Share Video":"Condividi video","Next Track":"Brano successivo","Previous Track":"Brano precedente","Skip Forward":"Skip avanti","Skip Backward":"Skip indietro","Fast Forward":"Avanzamento rapido",Rewind:"Riavvolgi","Next Frame":"Fotogramma successivo","Previous Frame":"Fotogramma precedente",Settings:"Impostazioni",Options:"Opzioni","More Options":"Altre opzioni",Zoom:"Zoom","Zoom In":"Zoom avanti","Zoom Out":"Zoom indietro","Audio Only":"Solo audio","Picture in Picture":"Immagine nell'immagine","Camera Angle":"Angolazione",MEDIA_ERR_ABORTED:"Riproduzione video interrotta.",MEDIA_ERR_NETWORK:"Il download del video si  interrotto a causa di un errore di rete. Controllare la connessione di rete o riprovare pi tardi.",MEDIA_ERR_DECODE:"Non  stato possibile caricare il video perch si  verificato un errore del server o della rete oppure perch il formato non  supportato.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La riproduzione video  stata interrotta a causa di un problema di danneggiamento oppure perch nel video sono state usate funzionalit non supportate dal browser corrente.",MEDIA_ERR_ENCRYPTED:"Non  possibile decrittografare l'origine video crittografata.",SRC_PLAYER_MISMATCH:"Non sono state trovate origini compatibili per l'ambiente del browser corrente.",MEDIA_ERR_UNKNOWN:"Si  verificato un errore sconosciuto.",SKIP_AD_COUNTDOWN_FORMAT:"Ignora annuncio tra {0}...",SKIP:"Ignora",AD_TIMING_INFO:"Annuncio {0} secondi","Media Player":"Lettore multimediale","Play Video":"Riproduci video",Foreground:"Colore di primo piano",White:"Bianco",Black:"Nero",Red:"Rosso",Green:"Verde",Blue:"Blu",Yellow:"Giallo",Magenta:"Fucsia",Cyan:"Ciano",Opaque:"Opaco","Semi-Opaque":"Semi-opaco",Transparent:"Trasparente",Window:"Finestra","Font Size":"Dimensioni carattere","Text Edge Style":"Stile bordo del testo",None:"Nessuno",Raised:"In rilievo",Depressed:"Incassato",Uniform:"Uniforme",Dropshadow:"Ombra esterna","Font Family":"Famiglia di caratteri","Monospace Serif":"Serif monospazio","Proportional Serif":"Serif proporzionale","Monospace Sans-Serif":"Sans Serif monospazio","Proportional Sans-Serif":"Sans Serif proporzionale",Casual:"Casuale",Script:"Script","Small Caps":"Maiuscoletto",Defaults:"Impostazioni predefinite",Done:"Fine",Link:"Collegamento",Embed:"Incorpora",Close:"Chiudi",Copy:"Copia","Copy Url":"Copia URL","Embed Code":"Codice di incorporamento",English:"Inglese","volume level":"Livello volume","video progress bar":"Indicatore di stato video","playback speed level":"Livello velocit riproduzione","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Didascalie","Subtitles Menu":"Menu Sottotitoli","Need Text":"Testo necessario",Download:"Scaricare","Go to live":"Vai all'evento live","End Time":"Ora di fine"}},{"../video.js/src/js/player.js":210}],121:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ja={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmute:"","Playback Rate":"",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":" ","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:" ",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:" ",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:"{0} ...",SKIP:"",AD_TIMING_INFO:"{0} ","Media Player":" ","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":" Serif","Proportional Serif":" Serif","Monospace Sans-Serif":" Sans-Serif","Proportional Sans-Serif":" Sans-Serif",Casual:"",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"URL ","Embed Code":"",English:"","volume level":" ","video progress bar":"","playback speed level":"","Dolby Digital":" ",Stereo:"","Captions Menu":"[] ","Subtitles Menu":"[] ","Need Text":"",Download:"","Go to live":"","End Time":""},r["default"].prototype.options_.languages["ja-jp"]=r["default"].prototype.options_.languages.ja},{"../video.js/src/js/player.js":210}],122:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.kk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":" ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":" ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .       .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:" {0}   ...",SKIP:" ",AD_TIMING_INFO:" {0} ","Media Player":" ","Play Video":" ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:" ","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:" ",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":"  ","Proportional Serif":", ","Monospace Sans-Serif":"  ","Proportional Sans-Serif":", ",Casual:"",Script:"","Small Caps":"  ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"URL  ","Embed Code":" ",English:"","volume level":" ","video progress bar":"   ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" ",Download:"","Go to live":"  ","End Time":" "},r["default"].prototype.options_.languages["kk-kz"]=r["default"].prototype.options_.languages.kk},{"../video.js/src/js/player.js":210}],123:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ko={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":" ",Share:"",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .      .",MEDIA_ERR_DECODE:"           .",MEDIA_ERR_SRC_NOT_SUPPORTED:"            .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"    .",SKIP_AD_COUNTDOWN_FORMAT:"{0}    ...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"Media Player","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"  ",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"  Serif","Proportional Serif":" Serif","Monospace Sans-Serif":"  Sans Serif","Proportional Sans-Serif":" Sans Serif",Casual:"",Script:"","Small Caps":" ",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"Url ","Embed Code":"Embed ",English:"","volume level":" ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" ",Download:"","Go to live":"  ","End Time":" "},r["default"].prototype.options_.languages["ko-kr"]=r["default"].prototype.options_.languages.ko},{"../video.js/src/js/player.js":210}],124:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("./ar.js"),r=(t(n),e("./bg.js")),i=(t(r),e("./ca.js")),o=(t(i),e("./cs.js")),a=(t(o),e("./da.js")),s=(t(a),e("./de.js")),l=(t(s),e("./el.js")),u=(t(l),e("./en.js")),d=(t(u),e("./es.js")),c=(t(d),e("./et.js")),p=(t(c),e("./eu.js")),h=(t(p),e("./fa.js")),f=(t(h),e("./fi.js")),m=(t(f),e("./fr.js")),g=(t(m),e("./gl.js")),y=(t(g),e("./he.js")),v=(t(y),e("./hi.js")),_=(t(v),e("./hr.js")),b=(t(_),e("./hu.js")),S=(t(b),e("./id.js")),T=(t(S),e("./is.js")),w=(t(T),e("./it.js")),k=(t(w),e("./ja.js")),E=(t(k),e("./kk.js")),C=(t(E),e("./ko.js")),P=(t(C),e("./lt.js")),I=(t(P),e("./lv.js")),M=(t(I),e("./ms.js")),A=(t(M),e("./nb.js")),R=(t(A),e("./nl.js")),j=(t(R),e("./nn.js")),O=(t(j),e("./ph.js")),D=(t(O),e("./pl.js")),x=(t(D),e("./pt-br.js")),L=(t(x),e("./pt-pt.js")),N=(t(L),e("./ro.js")),B=(t(N),e("./ru.js")),F=(t(B),e("./sk.js")),U=(t(F),e("./sl.js")),z=(t(U),e("./sr-cyrl-cs.js")),H=(t(z),e("./sr-latn-rs.js")),V=(t(H),e("./sv.js")),q=(t(V),e("./th.js")),W=(t(q),e("./tl.js")),K=(t(W),e("./tr.js")),G=(t(K),e("./uk.js")),J=(t(G),e("./ur.js")),Y=(t(J),e("./vi.js")),Z=(t(Y),e("./zh-hans.js")),Q=(t(Z),e("./zh-hant.js"));t(Q)},{"./ar.js":99,"./bg.js":100,"./ca.js":101,"./cs.js":102,"./da.js":103,"./de.js":104,"./el.js":105,"./en.js":106,"./es.js":107,"./et.js":108,"./eu.js":109,"./fa.js":110,"./fi.js":111,"./fr.js":112,"./gl.js":113,"./he.js":114,"./hi.js":115,"./hr.js":116,"./hu.js":117,"./id.js":118,"./is.js":119,"./it.js":120,"./ja.js":121,"./kk.js":122,"./ko.js":123,"./lt.js":125,"./lv.js":126,"./ms.js":127,"./nb.js":128,"./nl.js":129,"./nn.js":130,"./ph.js":131,"./pl.js":132,"./pt-br.js":133,"./pt-pt.js":134,"./ro.js":135,"./ru.js":136,"./sk.js":137,"./sl.js":138,"./sr-cyrl-cs.js":139,"./sr-latn-rs.js":140,"./sv.js":141,"./th.js":142,"./tl.js":143,"./tr.js":144,"./uk.js":145,"./ur.js":146,"./vi.js":147,"./zh-hans.js":148,"./zh-hant.js":149}],125:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.lt={Play:"Leisti",Pause:"Pristabdyti","Current Time":"Dabartinis laikas","Duration Time":"Trukm","Remaining Time":"Liks laikas","Stream Type":"Transliavimo tipas",LIVE:"TIESIOGINIS",Loaded:"kelta",Progress:"Eiga",Fullscreen:"Per vis ekran","Non-Fullscreen":"Ne per vis ekran",Mute:"Nutildyti",Unmute:"Ataukti nutildym","Playback Rate":"Leidimo danis",Subtitles:"Subtitrai","Subtitles Off":"subtitrai ijungti",Captions:"Vaizdo apraai","Captions Off":"vaizdo apraai ijungti",Chapters:"Dalys",Off:"Ijungta",Quality:"Kokyb",Auto:"Automatinis","Audio Tracks":"Garso takeliai","default":"numatytoji reikm","Cast To Device":"Parinkti pagal rengin",Share:"Bendrinti",Volume:"Garsumas","Playback Speed":"Leidimo greitis","Video Quality":"Vaizdo rao kokyb","Closed Captioning":"Paslptieji titrai","Share Video":"Bendrinti vaizdo ra","Next Track":"Kitas takelis","Previous Track":"Ankstesnis takelis","Skip Forward":"Pereiti pirmyn","Skip Backward":"Pereiti atgal","Fast Forward":"Sukti pirmyn",Rewind:"Sukti atgal","Next Frame":"Kitas kadras","Previous Frame":"Ankstesnis kadras",Settings:"Parametrai",Options:"Parinktys","More Options":"Daugiau parinki",Zoom:"Mastelio keitimas","Zoom In":"Artinti","Zoom Out":"Tolinti","Audio Only":"Tik garsas","Picture in Picture":"Paveiksllis paveiksllyje","Camera Angle":"Kameros kampas",MEDIA_ERR_ABORTED:"Vaizdo rao leidimas atmestas.",MEDIA_ERR_NETWORK:"Viso vaizdo rao atsisisti nepavyko dl tinklo klaidos. Patikrinkite tinklo ry arba bandykite dar kart vliau.",MEDIA_ERR_DECODE:"Vaizdo rao nepavyko kelti dl serverio arba tinklo klaidos arba dl to, kad nepalaikomas formatas.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Vaizdo rao leidimas buvo atmestas dl gedimo arba dl to, kad vaizdo rae buvo naudojamos funkcijos, kuri js narykl nepalaiko.",MEDIA_ERR_ENCRYPTED:"Nepavyksta iifruoti uifruoto vaizdo rao altinio.",SRC_PLAYER_MISMATCH:"iai narykls aplinkai suderinamas altinis nerastas.",MEDIA_ERR_UNKNOWN:"vyko neinoma klaida",SKIP_AD_COUNTDOWN_FORMAT:"Praleisti reklam {0}...",SKIP:"Praleisti",AD_TIMING_INFO:"{0} sek. reklama","Media Player":"Medijos leistuvas","Play Video":"Leisti vaizdo ra",Foreground:"Priekinis planas",White:"Balta",Black:"Juoda",Red:"Raudona",Green:"alia",Blue:"Mlyna",Yellow:"geltona",Magenta:"Purpurin",Cyan:"ydra",Opaque:"Nepermatoma","Semi-Opaque":"Pusiau nepermatoma",Transparent:"Skaidri",Window:"Langas","Font Size":"rifto dydis","Text Edge Style":"Teksto krato stilius",None:"Nra",Raised:"Pakeltas",Depressed:"Sumainta",Uniform:"Universali",Dropshadow:"elis","Font Family":"rift eimai","Monospace Serif":"Fiksuoto ploio Serif","Proportional Serif":"Proporcingas Serif","Monospace Sans-Serif":"Fiksuoto ploio Sans-Serif","Proportional Sans-Serif":"Proporcingas Sans-Serif",Casual:"Atsitiktinis",Script:"Scenarijus","Small Caps":"Maos didiosios raids",Defaults:"Numatytosios reikms",Done:"Atlikta",Link:"Saitas",Embed:"dti",Close:"Udaryti",Copy:"Kopijuoti","Copy Url":"Kopijuoti URL","Embed Code":"dti kod",English:"Angl","volume level":"garsumas","video progress bar":"vaizdo rao eigos juosta","playback speed level":"leidimo greitis","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Vaizdo apra  meniu","Subtitles Menu":"Subtitr meniu","Need Text":"Reikia teksto",Download:"Atsisisti","Go to live":"Transliuoti tiesiogiai","End Time":"Pabaigos laikas"}},{"../video.js/src/js/player.js":210}],126:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.lv={Play:"Atskaot",Pause:"Pauze","Current Time":"Pareizjais laiks","Duration Time":"Ilguma laiks","Remaining Time":"Atlikuais laiks","Stream Type":"Straumes tips",LIVE:"TIESAISTE",Loaded:"Ieldts",
Progress:"Norise",Fullscreen:"Pilnekrna rems","Non-Fullscreen":"Ne pilnekrna rems",Mute:"Izslgt skau",Unmute:"Ieslgt skau","Playback Rate":"Atskaoanas trums",Subtitles:"Subtitri","Subtitles Off":"Subtitri izslgti",Captions:"Paraksti","Captions Off":"paraksti izslgti",Chapters:"Nodaas",Off:"Izslgts",Quality:"Kvalitte",Auto:"Automtiski","Audio Tracks":"Audio ieraksti","default":"noklusjums","Cast To Device":"Prraidt uz ierci",Share:"Koplietot",Volume:"Skaums","Playback Speed":"Atskaoanas trums","Video Quality":"Video kvalitte","Closed Captioning":"Slptie titri","Share Video":"Kopgot video","Next Track":"Nkamais ieraksts","Previous Track":"Iepriekjais ieraksts","Skip Forward":"Izlaist uz prieku","Skip Backward":"Izlaist atpaka","Fast Forward":"Patt",Rewind:"Attt","Next Frame":"Nkamais kadrs","Previous Frame":"Iepriekjais kadrs",Settings:"Iestatjumi",Options:"Opcijas","More Options":"Papildu opcijas",Zoom:"Tlummaia","Zoom In":"Tuvinana","Zoom Out":"Tlinana","Audio Only":"Tikai audio","Picture in Picture":"Attls attl","Camera Angle":"Kameras leis",MEDIA_ERR_ABORTED:"Video atskaoana prieklaikus prtraukta.",MEDIA_ERR_NETWORK:"Tkla kdas d video lejupielde tika prtraukta pusce. Ldzu, prbaudiet tkla savienojumu vai vlk miniet vlreiz.",MEDIA_ERR_DECODE:"Videoklipu neizdevs ieldt servera vai tkla kmes vai neatbalstta formta d.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video atskaoana tika prieklaikus prtraukta bojjuma problmas d vai tpc, ka videoklip tika izmantoti ldzeki, ko jsu prlkprogramma neatbalsta.",MEDIA_ERR_ENCRYPTED:"Nevar atifrt ifrto video avotu.",SRC_PLAYER_MISMATCH:"Pareizjai prlkprogrammas videi nav atrasts sadergs avots.",MEDIA_ERR_UNKNOWN:"Rads nezinma kda",SKIP_AD_COUNTDOWN_FORMAT:"Drz varsit izlaist reklmu: {0}...",SKIP:"Izlaist",AD_TIMING_INFO:"Reklma {0} sekundes","Media Player":"Media Player","Play Video":"Atskaot video",Foreground:"Priekplns",White:"Balts",Black:"Melns",Red:"Sarkans",Green:"Za",Blue:"Zils",Yellow:"Dzeltens",Magenta:"Fuksna",Cyan:"Cina",Opaque:"Necaurspdgs","Semi-Opaque":"Daji necaurspdgs",Transparent:"Caurspdgs",Window:"Logs","Font Size":"Fonta lielums","Text Edge Style":"Teksta malas stils",None:"Nav",Raised:"Pacelts",Depressed:"Pazemints",Uniform:"Vienots",Dropshadow:"Nolaiama na","Font Family":"Fontu saime","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Parasts",Script:"Skripts","Small Caps":"Kapitei",Defaults:"Noklusjuma vrtbas",Done:"Gatavs",Link:"Saite",Embed:"Iegult",Close:"Aizvrt",Copy:"Kopt","Copy Url":"Kopt URL","Embed Code":"Iegulanas kods",English:"Angu","volume level":"skauma lmenis","video progress bar":"video norises josla","playback speed level":"atskaoanas truma lmenis","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Parakstu izvlne","Subtitles Menu":"Subtitru izvlne","Need Text":"Nepiecieams teksts",Download:"Lejupieldt","Go to live":"Priet uz tieraidi","End Time":"Beigu laiks"}},{"../video.js/src/js/player.js":210}],127:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ms={Play:"Main",Pause:"Jeda","Current Time":"Masa Semasa","Duration Time":"Tempoh Semasa","Remaining Time":"Baki Masa","Stream Type":"Jenis Strim",LIVE:"LANGSUNG",Loaded:"Dimuatkan",Progress:"Kemajuan",Fullscreen:"Skrin Penuh","Non-Fullscreen":"Bukan Skrin Penuh",Mute:"Redam",Unmute:"Nyahredam","Playback Rate":"Kadar Main Semula",Subtitles:"Sari kata","Subtitles Off":"sari kata dimatikan",Captions:"Kapsyen","Captions Off":"kapsyen dimatikan",Chapters:"Babak",Off:"Matikan",Quality:"Kualiti",Auto:"Auto","Audio Tracks":"Lagu Audio","default":"lalai","Cast To Device":"Siarkan Pada Peranti",Share:"Kongsi",Volume:"Volum","Playback Speed":"Kelajuan Main Semula","Video Quality":"Kualiti Video","Closed Captioning":"Penyarikataan Tertutup","Share Video":"Kongsi Video","Next Track":"Lagu berikut","Previous Track":"Lagu Sebelumnya","Skip Forward":"Langkau Ke Depan","Skip Backward":"Langkau Ke Belakang","Fast Forward":"Maju Ke Depan",Rewind:"Gulung Semula","Next Frame":"Bingkai Berikut","Previous Frame":"Bingkai Sebelumnya",Settings:"Seting",Options:"Opsyen","More Options":"Opsyen Lain",Zoom:"Zum","Zoom In":"Zum Masuk","Zoom Out":"Zum Keluar","Audio Only":"Audio Sahaja","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Main semula video dihentikan.",MEDIA_ERR_NETWORK:"Ralat rangkaian menyebabkan muat turun video gagal. Sila semak sambungan rangkaian anda atau cuba lagi kemudian.",MEDIA_ERR_DECODE:"Video tidak dapat dimuatkan, sama ada disebabkan kegagalan pelayan atau rangkaian atau disebabkan format tidak disokong.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Main semula video dihentikan atas sebab masalah pencemaran atau disebabkan video menggunakan ciri yang tidak disokong oleh pelayar anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat menyahsulitkan sumber video yang disulitkan.",SRC_PLAYER_MISMATCH:"Tiada sumber yang serasi ditemui untuk persekitaran pelayar semasa.",MEDIA_ERR_UNKNOWN:"Ralat yang tidak diketahui telah berlaku",SKIP_AD_COUNTDOWN_FORMAT:"Langkau iklan dalam {0}...",SKIP:"Langkau",AD_TIMING_INFO:"Iklan {0} saat","Media Player":"Pemain Media","Play Video":"Mainkan Video",Foreground:"Latar depan",White:"Putih",Black:"Hitam",Red:"Merah",Green:"Hijau",Blue:"Biru",Yellow:"Kuning",Magenta:"Magenta",Cyan:"Sian",Opaque:"Legap","Semi-Opaque":"Separa-Legap",Transparent:"Lutsinar",Window:"Tetingkap","Font Size":"Saiz Fon","Text Edge Style":"Gaya Tepi Teks",None:"Tiada",Raised:"Dinaikkan",Depressed:"Tertekan",Uniform:"Seragam",Dropshadow:"Bayang Jatuh","Font Family":"Keluarga Fon","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Santai",Script:"Skrip","Small Caps":"Huruf Besar Kecil",Defaults:"Lalai",Done:"Selesai",Link:"Pautan",Embed:"Benam",Close:"Tutup",Copy:"Salin","Copy Url":"Salin Url","Embed Code":"Kod Terbenam",English:"Bahasa Inggeris","volume level":"aras volum","video progress bar":"bar kemajuan video","playback speed level":"aras kelajuan main semula","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Kapsyen","Subtitles Menu":"Menu Sari Kata","Need Text":"Perlukan Teks",Download:"Muat turun","Go to live":"Pergi ke secara langsung","End Time":"Waktu Tamat"},r["default"].prototype.options_.languages["ms-my"]=r["default"].prototype.options_.languages.ms},{"../video.js/src/js/player.js":210}],128:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.nb={Play:"Spill av",Pause:"Pause","Current Time":"Tid","Duration Time":"Varighet","Remaining Time":"Gjenstende","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lastet inn",Progress:"Fremdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikke-fullskjerm",Mute:"Demp",Unmute:"Opphev demping","Playback Rate":"Avspillingshyppighet",Subtitles:"Undertekst","Subtitles Off":"undertekst av",Captions:"Bildetekst","Captions Off":"bildetekst av",Chapters:"Kapitler",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Spill av p enhet",Share:"Del",Volume:"Volume","Playback Speed":"Avspillingshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Teksting","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Forrige spor","Skip Forward":"Hopp fremover","Skip Backward":"Hopp bakover","Fast Forward":"Spol fremover",Rewind:"Spol tilbake","Next Frame":"Neste bilde","Previous Frame":"Forrige bilde",Settings:"Innstillinger",Options:"Alternativer","More Options":"Flere alternativer",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Bare lyd","Picture in Picture":"Bilde i bilde","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspilling avbrutt.",MEDIA_ERR_NETWORK:"En nettverksfeil har forrsaket at nedlastingen av denne videoen mislykkes. Prv  oppdatere siden.",MEDIA_ERR_DECODE:"Videoen kan ikke lastes inn, enten fordi tilkoblingen til serveren eller nettverket mislyktes, eller fordi formatet ikke stttes.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspillingen ble avbrutt p grunn skadet programvare eller fordi videoen brukte funksjoner som nettleseren din ikke sttter.",MEDIA_ERR_ENCRYPTED:"Kan ikke dekryptere den krypterte videokilden.",SRC_PLAYER_MISMATCH:"Fant ingen kompatibel kilde for det gjeldende nettlesermiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod en ukjent feil.",SKIP_AD_COUNTDOWN_FORMAT:"Hopp over annonse om {0} ...",SKIP:"Hopp over",AD_TIMING_INFO:"Annonse {0} sekunder","Media Player":"Media Player","Play Video":"Spill av video",Foreground:"Forgrunn",White:"Hvit",Black:"Svart",Red:"Rd",Green:"Grnn",Blue:"Bl",Yellow:"Gul",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Ugjennomsiktig","Semi-Opaque":"Delvis ugjennomsiktig",Transparent:"Gjennomsiktig",Window:"Vindu","Font Size":"Skriftstrrelse","Text Edge Style":"Tekstkantstil",None:"Ingen",Raised:"Opphyd",Depressed:"Senket",Uniform:"Ensartet",Dropshadow:"Senket skygge","Font Family":"Skriftfamilie","Monospace Serif":"Serif med fast tegnavstand","Proportional Serif":"Proporsjonal serif","Monospace Sans-Serif":"Sans-serif med fast tegnavstand","Proportional Sans-Serif":"Proporsjonal sans-serif",Casual:"Tilfeldig",Script:"Skript","Small Caps":"Kapitler",Defaults:"Standarder",Done:"Fullfrt",Link:"Kobling",Embed:"Bygg inn",Close:"Lukk",Copy:"Kopier","Copy Url":"Kopier nettadresse","Embed Code":"Innebyggingskode",English:"Engelsk","volume level":"volumniv","video progress bar":"fremdriftsindikator for video","playback speed level":"hastighetsniv for avspilling","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Bildetekstmeny","Subtitles Menu":"Undertekstmeny","Need Text":"Trenger tekst",Download:"Last ned","Go to live":"G til direktesending","End Time":"Sluttid"},r["default"].prototype.options_.languages["nb-no"]=r["default"].prototype.options_.languages.nb},{"../video.js/src/js/player.js":210}],129:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.nl={Play:"Afspelen",Pause:"Onderbreken","Current Time":"Huidige tijd","Duration Time":"Duur","Remaining Time":"Resterende tijd","Stream Type":"Type stream",LIVE:"LIVE",Loaded:"Geladen",Progress:"Voortgang",Fullscreen:"Volledig scherm","Non-Fullscreen":"Niet-volledig scherm",Mute:"Dempen",Unmute:"Dempen opheffen","Playback Rate":"Afspeelsnelheid",Subtitles:"Ondertitels","Subtitles Off":"ondertitels uit",Captions:"Bijschriften","Captions Off":"ondertiteling uit",Chapters:"Hoofdstukken",Off:"Uit",Quality:"Kwaliteit",Auto:"Automatisch","Audio Tracks":"Audionummers","default":"standaard","Cast To Device":"Casten naar apparaat",Share:"Delen",Volume:"Volume","Playback Speed":"Afspeelsnelheid","Video Quality":"Videokwaliteit","Closed Captioning":"Ondertiteling","Share Video":"Video delen","Next Track":"Volgend nummer","Previous Track":"Vorig nummer","Skip Forward":"Vooruit springen","Skip Backward":"Terug springen","Fast Forward":"Vooruitspoelen",Rewind:"Terugspoelen","Next Frame":"Volgende frame","Previous Frame":"Vorige frame",Settings:"Instellingen",Options:"Opties","More Options":"Meer opties",Zoom:"In-/uitzoomen","Zoom In":"Inzoomen","Zoom Out":"Uitzoomen","Audio Only":"Alleen audio","Picture in Picture":"Picture in Picture","Camera Angle":"Camerahoek",MEDIA_ERR_ABORTED:"Video afspelen is afgebroken.",MEDIA_ERR_NETWORK:"De video is vanwege een netwerkfout gedeeltelijk gedownload. Controleer uw netwerkverbinding of probeer het later opnieuw.",MEDIA_ERR_DECODE:"De video kan niet worden geladen, omdat er een probleem is met de server of het netwerk of omdat de indeling niet wordt ondersteund.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Het afspelen van de video is afgebroken, omdat deze mogelijk is beschadigd of omdat de video functies gebruikt die niet worden ondersteund door uw browser.",MEDIA_ERR_ENCRYPTED:"Kan de versleutelde videobron niet ontsleutelen.",SRC_PLAYER_MISMATCH:"Er is geen compatibele bron gevonden voor de huidige browseromgeving.",MEDIA_ERR_UNKNOWN:"Er is een onbekende fout opgetreden.",SKIP_AD_COUNTDOWN_FORMAT:"Advertentie overslaan over {0}...",SKIP:"Overslaan",AD_TIMING_INFO:"Advertentie van {0} seconden","Media Player":"Mediaspeler","Play Video":"Video afspelen",Foreground:"Voorgrond",White:"Wit",Black:"Zwart",Red:"Rood",Green:"Groen",Blue:"Blauw",Yellow:"Geel",Magenta:"Magenta",Cyan:"Cyaan",Opaque:"Ondoorzichtig","Semi-Opaque":"Half ondoorzichtig",Transparent:"Transparant",Window:"Venster","Font Size":"Tekengrootte","Text Edge Style":"Tekstrandstijl",None:"Geen",Raised:"Verhoogd",Depressed:"Verzonken",Uniform:"Gelijkmatig",Dropshadow:"Slagschaduw","Font Family":"Lettertypefamilie","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans Serif","Proportional Sans-Serif":"Proportional Sans Serif",Casual:"Informeel",Script:"Script","Small Caps":"Klein kapitaal",Defaults:"Standaardwaarden",Done:"Gereed",Link:"Koppeling",Embed:"Insluiten",Close:"Sluiten",Copy:"Kopiren","Copy Url":"URL kopiren","Embed Code":"Invoegcode",English:"Engels","volume level":"volumeniveau","video progress bar":"voortgangsbalk voor video","playback speed level":"niveau van afspeelsnelheid","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Bijschriften","Subtitles Menu":"Menu Ondertitels","Need Text":"Tekst vereist",Download:"Downloaden","Go to live":"Live kijken","End Time":"Eindtijd"},r["default"].prototype.options_.languages["nl-be"]=r["default"].prototype.options_.languages.nl},{"../video.js/src/js/player.js":210}],130:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.nn={Play:"Spel av",Pause:"Pause","Current Time":"Tid","Duration Time":"Tidslengd","Remaining Time":"Tid att","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lasta inn",Progress:"Framdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikkje fullskjerm",Mute:"Sl av lyd",Unmute:"Sl p lyd","Playback Rate":"Avspelingsfart",Subtitles:"Teksting","Subtitles Off":"teksting av",Captions:"Teksting","Captions Off":"teksting av",Chapters:"Kapittel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Spel av p eining",Share:"Del",Volume:"Volum","Playback Speed":"Avspelingsfart","Video Quality":"Videokvalitet","Closed Captioning":"Teksting for hyrselshemma","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Frre spor","Skip Forward":"Hopp framover","Skip Backward":"Hopp bakover","Fast Forward":"Spol framover",Rewind:"Spol tilbake","Next Frame":"Neste bilete","Previous Frame":"Frre bilete",Settings:"Innstillingar",Options:"Alternativ","More Options":"Fleire alternativ",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Berre lyd","Picture in Picture":"Bilete i bilete","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspeling avbroten.",MEDIA_ERR_NETWORK:"Ein nettverksfeil har frt til at nedlastinga av denne videoen mislukkast. Kontroller nettverkstilkoplinga, eller prv p nytt seinare.",MEDIA_ERR_DECODE:"Videoen kan ikkje lastast ned, anten fordi tilkoplinga til tenaren eller nettverket mislukkast, eller fordi formatet ikkje er sttta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspelinga blei avbroten p grunn av skadd programvare eller fordi videoen brukte funksjonar som nettlesaren din ikkje stttar.",MEDIA_ERR_ENCRYPTED:"Kan ikkje dekryptere den krypterte videokjelda.",SRC_PLAYER_MISMATCH:"Finn ikkje noka kompatibel kjelde for det gjeldande nettlesarmiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod ein ukjent feil",SKIP_AD_COUNTDOWN_FORMAT:"Hopp over annonse om {0} ...",SKIP:"Hopp over",AD_TIMING_INFO:"Annonse {0} sekunder"},r["default"].prototype.options_.languages["nn-no"]=r["default"].prototype.options_.languages.nn},{"../video.js/src/js/player.js":210}],131:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ph={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmute:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","Subtitles Off":"Naka-off ang subtitle",Captions:"Mga Caption","Captions Off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio","default":"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forward",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawam sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error",SKIP_AD_COUNTDOWN_FORMAT:"Laktawan ang ad pagkalipas ng {0}...",SKIP:"Laktawan",AD_TIMING_INFO:"Ad {0} (na) segundo"}},{"../video.js/src/js/player.js":210}],132:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.pl={Play:"Odtwrz",Pause:"Wstrzymaj","Current Time":"Biecy czas","Duration Time":"Czas trwania","Remaining Time":"Pozostay czas","Stream Type":"Typ strumienia",LIVE:"NA YWO",Loaded:"Zaadowane",Progress:"Postp",Fullscreen:"Peny ekran","Non-Fullscreen":"Niepeny ekran",Mute:"Wycisz dwik",Unmute:"Wcz dwik","Playback Rate":"Tempo odtwarzania",Subtitles:"Napisy","Subtitles Off":"napisy wyczone",Captions:"Podpisy","Captions Off":"podpisy wyczone",Chapters:"Rozdziay",Off:"Wyczone",Quality:"Jako",Auto:"Auto","Audio Tracks":"cieki dwikowe","default":"domylne","Cast To Device":"Rzutuj na urzdzenie",Share:"Udostpnij",Volume:"Gono","Playback Speed":"Szybko odtwarzania","Video Quality":"Jako wideo","Closed Captioning":"Podpisy kodowane","Share Video":"Udostpnij wideo","Next Track":"Nastpna cieka","Previous Track":"Poprzednia cieka","Skip Forward":"Skocz do tyu","Skip Backward":"Skocz do przodu","Fast Forward":"Przewi do przodu",Rewind:"Przewi do tyu","Next Frame":"Nastpna klatka","Previous Frame":"Poprzednia klatka",Settings:"Ustawienia",Options:"Opcje","More Options":"Wicej opcji",Zoom:"Powikszenie","Zoom In":"Powiksz","Zoom Out":"Pomniejsz","Audio Only":"Tylko dwik","Picture in Picture":"Obraz w obrazie","Camera Angle":"Kt kamery",MEDIA_ERR_ABORTED:"Przerwano odtwarzanie wideo.",MEDIA_ERR_NETWORK:"Bd sieci spowodowa, e trwajce pobieranie wideo zostao przerwane. Sprawd poczenie sieciowe i sprbuj ponownie.",MEDIA_ERR_DECODE:"Nie mona zaadowa wideo. Wystpi bd serwera lub sieci albo format nie jest obsugiwany.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Odtwarzanie wideo zostao przerwane. Dane s uszkodzone lub wideo korzysta z funkcji, ktrych przegldarka nie obsuguje.",MEDIA_ERR_ENCRYPTED:"Nie mona odszyfrowa zaszyfrowanego rda wideo.",SRC_PLAYER_MISMATCH:"Nie znaleziono zgodnego rda dla biecego rodowiska przegldarki.",MEDIA_ERR_UNKNOWN:"Wystpi nieznany bd.",SKIP_AD_COUNTDOWN_FORMAT:"Pomi reklam za {0}...",SKIP:"Pomi",AD_TIMING_INFO:"Reklama: {0} sek.","Media Player":"Odtwarzacz multimediw","Play Video":"Odtwrz klip wideo",Foreground:"Pierwszy plan",White:"Biay",Black:"Czarny",Red:"Czerwony",Green:"Zielony",Blue:"Niebieski",Yellow:"ty",Magenta:"Amarantowy",Cyan:"Bkitny",Opaque:"Nieprzezroczysty","Semi-Opaque":"Pprzezroczysty",Transparent:"Przezroczysty",Window:"Okno","Font Size":"Rozmiar czcionki","Text Edge Style":"Styl krawdzi tekstu",None:"Brak",Raised:"Podniesione",Depressed:"Wklse",Uniform:"Jednolite",Dropshadow:"Z cieniem","Font Family":"Rodzina czcionek","Monospace Serif":"Szeryfowa o staej szerokoci","Proportional Serif":"Szeryfowa proporcjonalna","Monospace Sans-Serif":"Bezszeryfowa o staej szerokoci","Proportional Sans-Serif":"Bezszeryfowa proporcjonalna",Casual:"Nieformalna",Script:"Skrypt","Small Caps":"Kapitaliki",Defaults:"Domylne",Done:"Gotowe",Link:"Link",Embed:"Osad",Close:"Zamknij",Copy:"Kopiuj","Copy Url":"Kopiuj adres URL","Embed Code":"Kod osadzania",English:"Angielski","volume level":"poziom gonoci","video progress bar":"pasek postpu klipu wideo","playback speed level":"poziom prdkoci odtwarzania","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu podpisw","Subtitles Menu":"Menu napisw","Need Text":"Potrzebny tekst",Download:"Pobierz","Go to live":"Przejd do transmisji na ywo","End Time":"Czas zakoczenia"}},{"../video.js/src/js/player.js":210}],133:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages["pt-br"]={Play:"Executar",Pause:"Pausar","Current Time":"Tempo atual","Duration Time":"Tempo de durao","Remaining Time":"Tempo restante","Stream Type":"Tipo de fluxo",LIVE:"AO VIVO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Tela cheia","Non-Fullscreen":"Sem tela cheia",Mute:"Ativar mudo",Unmute:"Desativar mudo","Playback Rate":"Taxa de reproduo",Subtitles:"Legendas","Subtitles Off":"Desativar legendas",Captions:"Legendas","Captions Off":"desativar legendas",Chapters:"Captulos",Off:"Desativado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio","default":"padro","Cast To Device":"Converter para o dispositivo",Share:"Compartilhar",Volume:"Volume","Playback Speed":"Velocidade de reproduo","Video Quality":"Qualidade do vdeo","Closed Captioning":"Legendagem codificada","Share Video":"Compartilhar vdeo","Next Track":"Prxima faixa","Previous Track":"Faixa anterior","Skip Forward":"Prxima faixa","Skip Backward":"Faixa anterior","Fast Forward":"Avanar",Rewind:"Retroceder","Next Frame":"Prximo quadro","Previous Frame":"Quadro anterior",Settings:"Configuraes",Options:"Opes","More Options":"Mais Opes",Zoom:"Aplicar zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Picture in picture","Camera Angle":"ngulo da cmera",MEDIA_ERR_ABORTED:"Reproduo de vdeo anulada.",MEDIA_ERR_NETWORK:"Um erro de rede causou a falha do download do vdeo. Verifique sua conexo de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"O vdeo no pde ser carregado, pois h uma falha na rede ou servidor ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi anulada devido a um problema de corrupo ou porque o vdeo usou recursos que seu navegador no suporta.",MEDIA_ERR_ENCRYPTED:"No foi possvel descriptografar a fonte do vdeo criptogradada.",SRC_PLAYER_MISMATCH:"Nenhuma fonte compatvel encontrada para o ambiente do navegador atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido.",SKIP_AD_COUNTDOWN_FORMAT:"Ignorar anncio em {0}...",SKIP:"Ignorar",AD_TIMING_INFO:"Anncio de {0} segundos","Media Player":"Player de Mdia","Play Video":"Reproduzir Vdeo",Foreground:"Primeiro plano",White:"Branco",Black:"Preto",Red:"Vermelho",Green:"Verde",Blue:"Azul",Yellow:"Amarelo",Magenta:"Magenta",Cyan:"Ciano",Opaque:"Opaco","Semi-Opaque":"Semiopaco",Transparent:"Transparente",Window:"Janela","Font Size":"Tamanho da Fonte","Text Edge Style":"Estilo da Borda do Texto",None:"Nenhum",Raised:"Relevo",Depressed:"Baixo relevo",Uniform:"Uniforme",Dropshadow:"Sombra","Font Family":"Famlia da Fonte","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Script","Small Caps":"Versalete",Defaults:"Padres",Done:"Concludo",Link:"Link",Embed:"Inserir",Close:"Fechar",Copy:"Copiar","Copy Url":"Copiar URL","Embed Code":"Inserir Cdigo",English:"Ingls","volume level":"nvel do volume","video progress bar":"barra de progresso do vdeo","playback speed level":"nvel de velocidade de reproduo","Dolby Digital":"Dolby Digital",Stereo:"Estreo","Captions Menu":"Menu de Legendas Ocultas","Subtitles Menu":"Menu de Legendas","Need Text":"Precisa de texto",Download:"Baixar","Go to live":"Ir para a transmisso ao vivo","End Time":"Tempo de trmino"}},{"../video.js/src/js/player.js":210}],134:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages["pt-pt"]={Play:"Reproduzir",Pause:"Pausa","Current Time":"Tempo Atual","Duration Time":"Tempo de Durao","Remaining Time":"Tempo Restante","Stream Type":"Tipo de Fluxo",LIVE:"EM DIRETO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Ecr Inteiro","Non-Fullscreen":"Sair de Ecr Inteiro",Mute:"Sem volume",Unmute:"Ativar som","Playback Rate":"Taxa de Reproduo",Subtitles:"Legendas","Subtitles Off":"legendas desativadas",Captions:"Legendas","Captions Off":"legendas desligadas",Chapters:"Captulos",Off:"Desligado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio","default":"predefinio","Cast To Device":"Transmitir em Dispositivo",Share:"Partilhar",Volume:"Volume","Playback Speed":"Velocidade de Reproduo","Video Quality":"Qualidade do Vdeo","Closed Captioning":"Legendagem de udio","Share Video":"Partilhar Vdeo","Next Track":"Faixa Seguinte","Previous Track":"Faixa Anterior","Skip Forward":"Para a Frente","Skip Backward":"Para Trs","Fast Forward":"Avanar",Rewind:"Recuar","Next Frame":"Fotograma Seguinte","Previous Frame":"Fotograma Anterior",Settings:"Definies",Options:"Opes","More Options":"Mais Opes",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Imagem na Imagem","Camera Angle":"ngulo da Cmara",MEDIA_ERR_ABORTED:"Reproduo de vdeo abortada.",MEDIA_ERR_NETWORK:"A transferncia do vdeo parou a meio devido a um erro de rede. Verifique a ligao de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"No foi possvel carregar o vdeo. Ocorreu uma falha no servidor ou na rede ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi abortada devido a um problema de danificao ou porque o vdeo utiliza funcionalidades que o seu browser no suporta.",MEDIA_ERR_ENCRYPTED:"No  possvel desencriptar a origem de vdeo encriptada.",SRC_PLAYER_MISMATCH:"No foi encontrada uma origem compatvel para o ambiente de browser atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido.",SKIP_AD_COUNTDOWN_FORMAT:"Ignorar anncio em {0}...",SKIP:"Ignorar",AD_TIMING_INFO:"Anncio {0} segundos","Media Player":"Leitor de Multimdia","Play Video":"Reproduzir Vdeo",Foreground:"Primeiro Plano",White:"Branco",Black:"Preto",Red:"Vermelho",Green:"Verde",Blue:"Azul",Yellow:"Amarelo",Magenta:"Magenta",Cyan:"Turquesa",Opaque:"Opaco","Semi-Opaque":"Semi-opaco",Transparent:"Transparente",Window:"Janela","Font Size":"Tamanho do Tipo de Letra","Text Edge Style":"Estilo do Contorno do Texto",None:"Nenhum",Raised:"Alto Relevo",Depressed:"Baixo Relevo",Uniform:"Uniforme",Dropshadow:"Sombra","Font Family":"Famlia de Tipos de Letra","Monospace Serif":"Serif No Proporcional","Proportional Serif":"Serif Proporcional","Monospace Sans-Serif":"Sans-Serif No Proporcional","Proportional Sans-Serif":"Sans-Serif Proporcional",Casual:"Casual",Script:"Script","Small Caps":"Maisculas Pequenas",Defaults:"Predefinies",Done:"Concludo",Link:"Ligar",Embed:"Incorporar",Close:"Fechar",Copy:"Copiar","Copy Url":"Copiar URL","Embed Code":"Cdigo de Incorporao",English:"Ingls","volume level":"nvel do volume","video progress bar":"barra de progresso do vdeo","playback speed level":"nvel da velocidade de reproduo","Dolby Digital":"Dolby Digital",Stereo:"Estreo","Captions Menu":"Menu de Legendas de udio","Subtitles Menu":"Menu de Legendas","Need Text":"Necessita de Texto",Download:"Transferir","Go to live":"Ir para transmisso em direto","End Time":"Hora de Fim"},r["default"].prototype.options_.languages.pt=r["default"].prototype.options_.languages["pt-pt"]},{"../video.js/src/js/player.js":210}],135:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ro={Play:"Redare",Pause:"Pauz","Current Time":"Ora curent","Duration Time":"Durata de timp","Remaining Time":"Timp rmas","Stream Type":"Tip de flux",LIVE:"LIVE",Loaded:"ncrcat",Progress:"Progres",Fullscreen:"Ecran complet","Non-Fullscreen":"Nu este pe ecran complet",Mute:"Dezactivare sunet",Unmute:"Activare sunet","Playback Rate":"Rat de redare",Subtitles:"Subtitrri","Subtitles Off":"subtitrri dezactivate",Captions:"Legende","Captions Off":"legende dezactivate",Chapters:"Capitole",Off:"Dezactivat",Quality:"Calitate",Auto:"Auto","Audio Tracks":"Piese audio","default":"implicit","Cast To Device":"Difuzare la dispozitiv",Share:"Partajare",Volume:"Volum","Playback Speed":"Vitez de redare","Video Quality":"Calitate video","Closed Captioning":"Subtitrare complex","Share Video":"Partajare video","Next Track":"Piesa urmtoare","Previous Track":"Piesa anterioar","Skip Forward":"Salt nainte","Skip Backward":"Salt napoi","Fast Forward":"Derulare rapid",Rewind:"Derulare napoi","Next Frame":"Cadrul urmtor","Previous Frame":"Cadrul anterior",Settings:"Setri",Options:"Opiuni","More Options":"Mai multe opiuni",Zoom:"Zoom","Zoom In":"Mrire","Zoom Out":"Micorare","Audio Only":"Doar audio","Picture in Picture":"Imagine n imagine","Camera Angle":"Unghi camer",MEDIA_ERR_ABORTED:"Redare video anulat",MEDIA_ERR_NETWORK:"O eroare de reea a determinat nereuita parial a descrcrii videoclipului. Verificai conexiunea la reea sau ncercai din nou mai trziu.",MEDIA_ERR_DECODE:"Videoclipul nu a putut fi ncrcat din cauza unei erori de server sau reea sau pentru c formatul nu este acceptat.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Redarea video a fost abandonat din cauza unei probleme de deteriorare sau pentru c videoclipul a utilizat caracteristici pe care browserul nu le accept.",MEDIA_ERR_ENCRYPTED:"Nu se poate decripta sursa video criptat.",SRC_PLAYER_MISMATCH:"Nu s-a gsit nicio surs compatibil pentru mediul de browser curent.",MEDIA_ERR_UNKNOWN:"Eroare necunoscut",SKIP_AD_COUNTDOWN_FORMAT:"Ignorai publicitatea n {0}...",
SKIP:"Ignorai",AD_TIMING_INFO:"Publicitate - {0} secunde","Media Player":"Player media","Play Video":"Redare video",Foreground:"Prim plan",White:"Alb",Black:"Negru",Red:"Rou",Green:"Verde",Blue:"Albastru",Yellow:"Galben",Magenta:"Fucsia",Cyan:"Bleu",Opaque:"Opac","Semi-Opaque":"Semiopac",Transparent:"Transparent",Window:"Fereastr","Font Size":"Dimensiune font","Text Edge Style":"Stil muchie text",None:"Fr",Raised:"Ridicat",Depressed:"Presat",Uniform:"Uniform",Dropshadow:"Umbr czut","Font Family":"Familie de fonturi","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Script","Small Caps":"Majuscule reduse",Defaults:"Valori implicite",Done:"Gata",Link:"Link",Embed:"ncorporare",Close:"nchidere",Copy:"Copiere","Copy Url":"Copiere URL","Embed Code":"Cod de ncorporare",English:"Englez","volume level":"nivel volum","video progress bar":"bar de progres video","playback speed level":"nivel vitez de redare","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meniul Legende","Subtitles Menu":"Meniul Subtitrri","Need Text":"Text necesar",Download:"Descrcare","Go to live":"Trecei la transmisiunea n direct","End Time":"Ora de sfrit"}},{"../video.js/src/js/player.js":210}],136:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ru={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:" ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"        .       .",MEDIA_ERR_DECODE:"    -        -  .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    -      ,    ,     .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"  .",SKIP_AD_COUNTDOWN_FORMAT:"   {0}",SKIP:"",AD_TIMING_INFO:": {0} ","Media Player":" ","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"  ","Proportional Serif":"  ","Monospace Sans-Serif":"  ","Proportional Sans-Serif":"  ",Casual:"",Script:"","Small Caps":" ",Defaults:"  ",Done:"",Link:" ",Embed:"",Close:"",Copy:"","Copy Url":" URL-","Embed Code":"  ",English:"  ","volume level":" ","video progress bar":"  ","playback speed level":" ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" ",Download:"","Go to live":"  ","End Time":" "}},{"../video.js/src/js/player.js":210}],137:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.sk={Play:"Prehra",Pause:"Pozastavi","Current Time":"Aktulny as","Duration Time":"as trvania","Remaining Time":"Zostvajci as","Stream Type":"Typ streamu",LIVE:"NAIVO",Loaded:"Natan",Progress:"Priebeh",Fullscreen:"Na cel obrazovku","Non-Fullscreen":"Nie na cel obrazovku",Mute:"Stlmi",Unmute:"Zrui stlmenie","Playback Rate":"Rchlos prehrvania",Subtitles:"Titulky","Subtitles Off":"vypnut titulky",Captions:"Popisy","Captions Off":"vypnut popisy",Chapters:"Kapitoly",Off:"Vypnut",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy","default":"predvolen hodnota","Cast To Device":"Vysielanie do zariadenia",Share:"Zdiea",Volume:"Hlasitos","Playback Speed":"Rchlos prehrvania","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulkovanie","Share Video":"Zdiea video","Next Track":"Nasledujca stopa","Previous Track":"Predchdzajca stopa","Skip Forward":"Preskoi dopredu","Skip Backward":"Preskoi dozadu","Fast Forward":"Posun dopredu",Rewind:"Posun dozadu","Next Frame":"Nasledujca snmka","Previous Frame":"Predchdzajca snmka",Settings:"Nastavenia",Options:"Monosti","More Options":"alie monosti",Zoom:"Lupa","Zoom In":"Pribli","Zoom Out":"Vzdiali","Audio Only":"Iba zvuk","Picture in Picture":"Obraz vobraze","Camera Angle":"Uhol kamery",MEDIA_ERR_ABORTED:"Prehrvanie videa bolo preruen.",MEDIA_ERR_NETWORK:"Chyba siete spsobila zlyhanie poas sahovania videa. Skontrolujte sieov pripojenie alebo to skste znova neskr.",MEDIA_ERR_DECODE:"Video sa nepodarilo nata. Dvodom je bu zlyhanie servera alebo siete, alebo nepodporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Prehrvanie videa bolo preruen zdvodu problmu spsobenho pokodenm alebo preto, lebo sa vo videu pouvali funkcie, ktor v prehliada nepodporoval.",MEDIA_ERR_ENCRYPTED:"Nie je mon deifrova zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenaiel sa kompatibiln zdroj pre aktulne prostredie prehliadaa.",MEDIA_ERR_UNKNOWN:"Vyskytla sa neznma chyba",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi reklamu o {0}...",SKIP:"Preskoi",AD_TIMING_INFO:"{0}-sekundov reklama","Media Player":"Prehrva mdi","Play Video":"Prehra video",Foreground:"Popredie",White:"Biela",Black:"ierna",Red:"erven",Green:"Zelen",Blue:"Modr",Yellow:"lt",Magenta:"Purpurov",Cyan:"Azrov",Opaque:"Nepriehadn","Semi-Opaque":"iastone priehadn",Transparent:"Priehadn",Window:"Okno","Font Size":"Vekos psma","Text Edge Style":"tly okrajov textu",None:"iadny",Raised:"Zven",Depressed:"Znen",Uniform:"Jednotn",Dropshadow:"Tieovan","Font Family":"Sria psiem","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Neformlne",Script:"Skriptov","Small Caps":"Kapitlky",Defaults:"Predvolen",Done:"Hotovo",Link:"Prepojenie",Embed:"Vloi",Close:"Zavrie",Copy:"Koprova","Copy Url":"Koprova URL adresu","Embed Code":"Vloi kd",English:"Anglitina","volume level":"rove hlasitosti","video progress bar":"indiktor priebehu videa","playback speed level":"rove rchlosti prehrvania","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Ponuka popisov","Subtitles Menu":"Ponuka titulkov","Need Text":"Potrebn text",Download:"Stiahnu","Go to live":"Prejs na iv stream","End Time":"Koncov as"}},{"../video.js/src/js/player.js":210}],138:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.sl={Play:"Predvajaj",Pause:"Premor","Current Time":"Trenutni as","Duration Time":"as trajanja","Remaining Time":"Preostali as","Stream Type":"Vrsta pretoka",LIVE:"V IVO",Loaded:"Naloeno",Progress:"Napredek",Fullscreen:"Celozaslonski nain","Non-Fullscreen":"Ni v celozaslonskem nainu",Mute:"Izklopi zvok",Unmute:"Vklopi zvok","Playback Rate":"Hitrost predvajanja",Subtitles:"Podnaslovi","Subtitles Off":"podnaslovi so izklopljeni",Captions:"Napisi","Captions Off":"napisi so izklopljeni",Chapters:"Poglavja",Off:"Izklopljeno",Quality:"Kakovost",Auto:"Samodejno","Audio Tracks":"Zvoni posnetki","default":"privzeto","Cast To Device":"Predvajaj v napravo",Share:"Skupna raba",Volume:"Glasnost","Playback Speed":"Hitrost predvajanja","Video Quality":"Kakovost videa","Closed Captioning":"Razirjeni podnapisi","Share Video":"Skupna raba videa","Next Track":"Naslednja skladba","Previous Track":"Prejnja skladba","Skip Forward":"Skoi naprej","Skip Backward":"Skoi nazaj","Fast Forward":"Hitro naprej",Rewind:"Hitro nazaj","Next Frame":"Naslednji okvir","Previous Frame":"Prejnji okvir",Settings:"Nastavitve",Options:"Monosti","More Options":"Dodatne monosti",Zoom:"Poveava","Zoom In":"Poveava","Zoom Out":"Pomanjava","Audio Only":"Samo zvok","Picture in Picture":"Slika v sliki","Camera Angle":"Kot fotoaparata",MEDIA_ERR_ABORTED:"Preklic predvajanja videa.",MEDIA_ERR_NETWORK:"Zaradi napake omreja je prilo med prenosom videa do napake. Preverite omreno povezave ali poskusite znova pozneje.",MEDIA_ERR_DECODE:"Videa ni mogoe naloiti, bodisi zato, ker je prilo do napake v streniku ali omreju, bodisi zato, ker oblika zapisa ni podprta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Predvajanje videa je bilo prekinjeno, ker je prilo do teave zaradi ali ker video uporablja funkcije, ki jih brskalnik ne podpira.",MEDIA_ERR_ENCRYPTED:"ifriranega vira videa ni mogoe deifrirati.",SRC_PLAYER_MISMATCH:"Ni mogoe najti zdruljivega vira videa za trenutno okolje brskalnika.",MEDIA_ERR_UNKNOWN:"Prilo je do neznane napake",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi oglas ez {0} ...",SKIP:"Preskoi",AD_TIMING_INFO:"{0}-sekundni oglas","Media Player":"Media Player","Play Video":"Predvajaj video",Foreground:"Ospredje",White:"Bela",Black:"rna",Red:"Rdea",Green:"Zelena",Blue:"Modra",Yellow:"Rumena",Magenta:"Magenta",Cyan:"Cijan",Opaque:"Neprozorno","Semi-Opaque":"Delno neprozorno",Transparent:"Prosojno",Window:"Okno","Font Size":"Velikost pisave","Text Edge Style":"Slog besedila roba",None:"Brez",Raised:"Dvignjeno",Depressed:"Pritisnjeno",Uniform:"Enotno",Dropshadow:"Spustna senca","Font Family":"Druina pisav","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Vsakdanje",Script:"Skript","Small Caps":"Pomanjane velike rke",Defaults:"Privzete nastavitve",Done:"Dokonano",Link:"Povezava",Embed:"Vdelaj",Close:"Zapri",Copy:"Kopiraj","Copy Url":"Kopiraj URL","Embed Code":"Vdelana koda",English:"angleina","volume level":"glasnost","video progress bar":"vrstica napredovanja videoposnetka","playback speed level":"hitrost predvajanja","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meni z napisi","Subtitles Menu":"Meni s podnaslovi","Need Text":"Obvezno besedilo",Download:"Prenesi","Go to live":"Vsebina v ivo","End Time":"Konni as"},r["default"].prototype.options_.languages["sl-si"]=r["default"].prototype.options_.languages.sl},{"../video.js/src/js/player.js":210}],139:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages["sr-cyrl-cs"]={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:" ",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":"  ",Captions:"","Captions Off":"  ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":"  ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":"  ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN",SKIP_AD_COUNTDOWN_FORMAT:"   {0}...",SKIP:"",AD_TIMING_INFO:"  : {0}",Download:"","Go to live":"   ","End Time":" "}},{"../video.js/src/js/player.js":210}],140:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages["sr-latn-rs"]={Play:"Reprodukuj",Pause:"Pauziraj","Current Time":"Trenutno vreme","Duration Time":"Vreme trajanja","Remaining Time":"Preostalo vreme","Stream Type":"Tip toka",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tok",Fullscreen:"Preko celog ekrana","Non-Fullscreen":"Nije preko celog ekrana",Mute:"Privremeno iskljui",Unmute:"Ponovo ukljui","Playback Rate":"Stopa reprodukcije",Subtitles:"Titl","Subtitles Off":"titl je iskljuen",Captions:"Natpisi","Captions Off":"natpisi su iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvalitet",Auto:"Automatski","Audio Tracks":"Audio zapisi","default":"podrazumevano","Cast To Device":"Prebaci na ureaj",Share:"Deli",Volume:"Jaina zvuka","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvalitet video zapisa","Closed Captioning":"Skriveni titlovi","Share Video":"Deli video","Next Track":"Sledei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Preskoi unapred","Skip Backward":"Preskoi unazad","Fast Forward":"Premotaj unapred",Rewind:"Premotaj unazad","Next Frame":"Sledei okvir","Previous Frame":"Prethodni okvir",Settings:"Postavke",Options:"Opcije","More Options":"Jo opcija",Zoom:"Zumiraj","Zoom In":"Uveaj","Zoom Out":"Umanji","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Ugao kamere",MEDIA_ERR_ABORTED:"Reprodukcija video zapisa je prekinuta.",MEDIA_ERR_NETWORK:"Usled greke na mrei dolo je do otkazivanja tokom preuzimanja video zapisa. Proverite mrenu vezu ili pokuajte ponovo kasnije.",MEDIA_ERR_DECODE:"Nije mogue preuzeti video zbog toga to je dolo do otkazivanja na serveru ili mrei ili zbog toga to format nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija video zapisa je prekinuta zbog problema sa oteenjem ili zbog toga to video koristi funkcije koje pregleda ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifrovati ifrovani izvor video zapisa.",SRC_PLAYER_MISMATCH:"Za aktuelno okruenje pregledaa nije pronaen nijedan kompatibilan izvor.",MEDIA_ERR_UNKNOWN:"Dolo je do nepoznate greke",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi oglas za {0}...",SKIP:"Preskoi",AD_TIMING_INFO:"Oglas traje sekundi: {0}","Media Player":"Media Player","Play Video":"Reprodukuj video",Foreground:"Prednji plan",White:"Bela",Black:"Crna",Red:"Crvena",Green:"Zelena",Blue:"Plava",Yellow:"uta",Magenta:"Magenta",Cyan:"Cijan",Opaque:"Neprozirno","Semi-Opaque":"Poluprozirno",Transparent:"Prozirno",Window:"Prozor","Font Size":"Veliina fonta","Text Edge Style":"Stil ivice teksta",None:"Nijedno",Raised:"Izdignuto",Depressed:"Utisnuto",Uniform:"Podjednako",Dropshadow:"Efekat senke","Font Family":"Porodica fontova","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Skripta","Small Caps":"Mala slova",Defaults:"Podrazumevane vrednosti",Done:"Gotovo",Link:"Veza",Embed:"Ugradi",Close:"Zatvori",Copy:"Kopiranje","Copy Url":"Kopiraj Url","Embed Code":"Ugradi kd",English:"engleski","volume level":"nivo jaine zvuka","video progress bar":"traka toka video snimka","playback speed level":"brzina reprodukcije","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meni Natpisi","Subtitles Menu":"Meni Titl","Need Text":"Potreban je tekst",Download:"Preuzmi","Go to live":"Prei na prenos uivo","End Time":"Vreme zavretka"},r["default"].prototype.options_.languages.sr=r["default"].prototype.options_.languages["sr-latn-rs"]},{"../video.js/src/js/player.js":210}],141:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.sv={Play:"Spela upp",Pause:"Pausa","Current Time":"Aktuell tid","Duration Time":"Varaktighet","Remaining Time":"terstende tid","Stream Type":"Strmtyp",LIVE:"LIVE",Loaded:"Inlst",Progress:"Frlopp",Fullscreen:"Helskrm","Non-Fullscreen":"Ej helskrm",Mute:"Ljud av",Unmute:"Ljud p","Playback Rate":"Uppspelningshastighet",Subtitles:"Textning","Subtitles Off":"Textning av",Captions:"Bildtexter","Captions Off":"Bildtexter av",Chapters:"Kapitel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Ljudspr","default":"standard","Cast To Device":"Snd till enhet",Share:"Dela",Volume:"Volym","Playback Speed":"Uppspelningshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Textning","Share Video":"Dela video","Next Track":"Nsta spr","Previous Track":"Fregende spr","Skip Forward":"Hoppa framt","Skip Backward":"Hoppa bakt","Fast Forward":"Snabbspola framt",Rewind:"Bakt","Next Frame":"Nsta bildruta","Previous Frame":"Fregende bildruta",Settings:"Instllningar",Options:"Alternativ","More Options":"Fler alternativ",Zoom:"Zooma","Zoom In":"Zooma in","Zoom Out":"Zooma ut","Audio Only":"Endast ljud","Picture in Picture":"Bild-i-bild","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videouppspelning avbruten.",MEDIA_ERR_NETWORK:"Ett ntverksfel gjorde att hmtningen av videon avbrts. Kontrollera din ntverksanslutning och frsk igen senare.",MEDIA_ERR_DECODE:"Det gick inte att lsa in den hr videon. Det kan bero p att servern eller ntverket inte fungerade eller p att formatet inte stds.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videouppspelningen avbrts pga att den var skadad eller drfr att videon anvnder funktioner som din webblsare inte stder.",MEDIA_ERR_ENCRYPTED:"Det gick inte att dekryptera den krypterade videokllan.",SRC_PLAYER_MISMATCH:"Ingen kompatibel klla har hittats fr den aktuella webblsarmiljn.",MEDIA_ERR_UNKNOWN:"Det har uppsttt ett ovntat fel.",SKIP_AD_COUNTDOWN_FORMAT:"Hoppa ver reklamen om {0}...",SKIP:"Hoppa ver",AD_TIMING_INFO:"Reklam {0} sekunder","Media Player":"Media Player","Play Video":"Spela upp video",Foreground:"Frgrund",White:"Vit",Black:"Svart",Red:"Rd",Green:"Grn",Blue:"Bl",Yellow:"Gul",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Tckande","Semi-Opaque":"Halvtckande",Transparent:"Transparent",Window:"Fnster","Font Size":"Teckenstorlek","Text Edge Style":"Textkantsformat",None:"Inget",Raised:"Upphjt",Depressed:"Nedsnkt",Uniform:"Enhetligt",Dropshadow:"Skugga","Font Family":"Teckensnittsfamilj","Monospace Serif":"Fast bredd, serif","Proportional Serif":"Proportionerligt, serif","Monospace Sans-Serif":"Fast bredd, sans-serif","Proportional Sans-Serif":"Proportionerligt, sans-serif",Casual:"Enstaka",Script:"Skript","Small Caps":"Kapitler",Defaults:"Standard",Done:"Klart",Link:"Lnk",Embed:"Bdda in",Close:"Stnga",Copy:"Kopiera","Copy Url":"Kopiera URL","Embed Code":"Bdda in kod",English:"Engelska","volume level":"volymniv","video progress bar":"frloppsindikator fr video","playback speed level":"hastighetsniv fr uppspelning","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meny fr beskrivningar","Subtitles Menu":"Meny fr undertexter","Need Text":"Behver text",Download:"Hmta","Go to live":"G live","End Time":"Sluttid"},r["default"].prototype.options_.languages["sv-se"]=r["default"].prototype.options_.languages.sv},{"../video.js/src/js/player.js":210}],142:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.th={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmute:"","Playback Rate":"",Subtitles:"","Subtitles Off":"",Captions:"","Captions Off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:" ",MEDIA_ERR_DECODE:"  ",MEDIA_ERR_SRC_NOT_SUPPORTED:" ",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:" {0}...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":"","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" Url","Embed Code":"",English:"","volume level":"","video progress bar":"","playback speed level":"","Dolby Digital":" Dolby ",Stereo:"","Captions Menu":"","Subtitles Menu":"","Need Text":"",Download:"","Go to live":"","End Time":""}},{"../video.js/src/js/player.js":210}],143:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.tl={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmute:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","Subtitles Off":"Naka-off ang subtitle",Captions:"Mga Caption","Captions Off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio","default":"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forward",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawan sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error"},r["default"].prototype.options_.languages["tl-ph"]=r["default"].prototype.options_.languages.tl},{"../video.js/src/js/player.js":210}],144:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.tr={Play:"Yrt",Pause:"Duraklat","Current Time":"Geerli Zaman","Duration Time":"Sre","Remaining Time":"Kalan Sre","Stream Type":"Ak Tr",LIVE:"CANLI",Loaded:"Yklendi",Progress:"lerleme Durumu",Fullscreen:"Tam Ekran","Non-Fullscreen":"Tam Ekrandan k",Mute:"Sesi Kapat",Unmute:"Sesi A","Playback Rate":"Kayttan Yrtme Hz",Subtitles:"Alt Yazlar","Subtitles Off":"alt yazlar kapal",Captions:"Aklamal Alt Yazlar","Captions Off":"aklamal alt yazlar kapal",Chapters:"Blmler",Off:"Kapal",Quality:"Kalite",Auto:"Otomatik","Audio Tracks":"Ses Paralar","default":"varsaylan","Cast To Device":"Cihazda Yaynla",Share:"Payla",Volume:"Ses Dzeyi","Playback Speed":"Kayttan Yrtme Hz","Video Quality":"Video Kalitesi","Closed Captioning":"Kapal Aklamal Alt Yaz","Share Video":"Videoyu Payla","Next Track":"Sonraki para","Previous Track":"nceki Para","Skip Forward":"leri Atla","Skip Backward":"Geri Atla","Fast Forward":"leri Sar",Rewind:"Geri Sar","Next Frame":"Sonraki Kare","Previous Frame":"nceki Kare",Settings:"Ayarlar",Options:"Seenekler","More Options":"Tm Seenekler",Zoom:"Yaknlatr","Zoom In":"Yaknlatr","Zoom Out":"Uzaklatr","Audio Only":"Yalnzca Ses","Picture in Picture":"Resim inde Resim","Camera Angle":"Kamera As",MEDIA_ERR_ABORTED:"Video kayttan yrtme durduruldu.",MEDIA_ERR_NETWORK:"Video indirme ilemi bir a hatas nedeniyle ksmen baarsz oldu. Ltfen a balantsn kontrol edin veya daha sonra yeniden deneyin.",MEDIA_ERR_DECODE:"Sunucu veya a baarsz olduundan ya da biim desteklenmediinden video yklenemedi.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bir bozulma sorunu ya da videoda taraycnz tarafndan desteklenmeyen zelliklerin kullanlmas nedeniyle video kayttan yrtme durduruldu.",MEDIA_ERR_ENCRYPTED:"ifreli video kaynann ifresi zlemedi.",SRC_PLAYER_MISMATCH:"Geerli tarayc ortamyla uyumlu kaynak bulunamad.",MEDIA_ERR_UNKNOWN:"Bilinmeyen bir hata olutu.",SKIP_AD_COUNTDOWN_FORMAT:"{0} sn iinde reklam atla",SKIP:"Atla",AD_TIMING_INFO:"Reklam {0} saniye","Media Player":"Media Player","Play Video":"Videoyu Oynat",Foreground:"n plan",White:"Beyaz",Black:"Siyah",Red:"Krmz",Green:"Yeil",Blue:"Mavi",Yellow:"Sar",Magenta:"Eflatun",Cyan:"Camgbei",Opaque:"Mat","Semi-Opaque":"Yar mat",Transparent:"Saydam",Window:"Pencere","Font Size":"Yaz Tipi Boyutu","Text Edge Style":"Metin Kenar Stili",None:"Hibiri",Raised:"Ykseltilmi",Depressed:"Bastrlm",Uniform:"Tekdzen",Dropshadow:"Glgeli","Font Family":"Yaz Tipi Ailesi","Monospace Serif":"Tek Aralkl Trnakl","Proportional Serif":"Orantl Trnakl","Monospace Sans-Serif":"Tek Aralkl Trnaksz","Proportional Sans-Serif":"Orantl Trnaksz",Casual:"Gnlk",Script:"El Yazs","Small Caps":"Kk Byk Harf",Defaults:"Varsaylanlar",Done:"Bitti",Link:"Balant",Embed:"Ekle",Close:"Kapat",Copy:"Kopyala","Copy Url":"URLyi Kopyala","Embed Code":"Ekleme Kodu",English:"ngilizce","volume level":"ses dzeyi","video progress bar":"video ilerleme ubuu","playback speed level":"kayttan yrtme hz","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Aklamal Alt Yaz Mens","Subtitles Menu":"Alt Yaz Mens","Need Text":"Metin Gerekiyor",Download:"ndir","Go to live":"Canl yayna git","End Time":"Biti Zaman"}},{"../video.js/src/js/player.js":210}],145:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.uk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:"","Non-Fullscreen":"",Mute:" ",Unmute:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ",
"Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .        .",MEDIA_ERR_DECODE:"        ,    .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    ,     ,      .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:" ,     .",MEDIA_ERR_UNKNOWN:"  ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}",SKIP:"",AD_TIMING_INFO:": {0} ","Media Player":"","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"",Script:"","Small Caps":"  ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" URL-","Embed Code":" ",English:"","volume level":" ","video progress bar":"  ","playback speed level":" ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"  ()","Subtitles Menu":"  ()","Need Text":" ",Download:"","Go to live":"  ","End Time":" "},r["default"].prototype.options_.languages["uk-ua"]=r["default"].prototype.options_.languages.uk},{"../video.js/src/js/player.js":210}],146:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.ur={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmute:" ","Playback Rate":"   ",Subtitles:" ","Subtitles Off":"  ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"       ",MEDIA_ERR_NETWORK:"                       ",MEDIA_ERR_DECODE:"                   ",MEDIA_ERR_SRC_NOT_SUPPORTED:"                             ",MEDIA_ERR_ENCRYPTED:"          ",SRC_PLAYER_MISMATCH:"         ",MEDIA_ERR_UNKNOWN:"    ",SKIP_AD_COUNTDOWN_FORMAT:"  {0}...  ",SKIP:"",AD_TIMING_INFO:" {0} "},r["default"].prototype.options_.languages["ur-pk"]=r["default"].prototype.options_.languages.ur},{"../video.js/src/js/player.js":210}],147:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages.vi={Play:"Pht",Pause:"Tm dng","Current Time":"Thi gian Hin ti","Duration Time":"Thi lng","Remaining Time":"Thi gian Cn li","Stream Type":"Kiu Dng",LIVE:"TRC TIP",Loaded:" ti",Progress:"Tin ",Fullscreen:"Ton mn hnh","Non-Fullscreen":"Thot Ton mn hnh",Mute:"Tt ting",Unmute:"Bt ting","Playback Rate":"Tn sut pht li",Subtitles:"Ph ","Subtitles Off":"tt ph ",Captions:"Ph ","Captions Off":"tt ph ",Chapters:"Chng",Off:"Tt",Quality:"Cht lng",Auto:"T ng","Audio Tracks":"Rnh m thanh","default":"mc nh","Cast To Device":"Truyn ti Thit b",Share:"Chia s",Volume:"m lng","Playback Speed":"Tc  Pht li","Video Quality":"Cht lng Video","Closed Captioning":"Ph  Chi tit","Share Video":"Chia s Video","Next Track":"Rnh K","Previous Track":"Rnh Trc","Skip Forward":"Tin Nhanh","Skip Backward":"Li Nhanh","Fast Forward":"Tin Nhanh",Rewind:"Tua li","Next Frame":"Khung K","Previous Frame":"Khung Trc",Settings:"Thit t ",Options:"Ty chn","More Options":"Xem thm Ty chn",Zoom:"Thu phng","Zoom In":"Phng to","Zoom Out":"Thu nh","Audio Only":"Ch m thanh","Picture in Picture":"nh lng nh","Camera Angle":"Gc My",MEDIA_ERR_ABORTED:" hy pht li video.",MEDIA_ERR_NETWORK:"Li mng gy ra do ti xung video tht bi mt phn. Vui lng kim tra kt ni mng ca bn hoc th li sau.",MEDIA_ERR_DECODE:"Khng th ti video do li my ch hoc li mng, hoc do nh dng khng c h tr.",MEDIA_ERR_SRC_NOT_SUPPORTED:" hy pht li video do s c hng hc hoc do video s dng cc tnh nng m trnh duyt ca bn khng h tr.",MEDIA_ERR_ENCRYPTED:"Khng th gii m ngun video c m ha.",SRC_PLAYER_MISMATCH:"Khng tm thy ngun tng thch vi mi trng trnh duyt hin ti.",MEDIA_ERR_UNKNOWN:"Xut hin li cha xc nh",SKIP_AD_COUNTDOWN_FORMAT:"B qua qung co trong {0}...",SKIP:"B qua",AD_TIMING_INFO:"Qung co {0} giy","Media Player":"B pht Phng tin","Play Video":"Pht Video",Foreground:"Mt trc",White:"Trng",Black:"en",Red:"",Green:"Lc",Blue:"Lam",Yellow:"Vng",Magenta:" ti",Cyan:"Lc lam",Opaque:"M","Semi-Opaque":"Bn M",Transparent:"Trong sut",Window:"Ca s","Font Size":"C Phng","Text Edge Style":"Kiu Cnh Vn bn",None:"Khng c",Raised:"Ni",Depressed:"Nn",Uniform:"ng nht",Dropshadow:"Bng th","Font Family":"H Phng","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Thng thng",Script:"Tp lnh","Small Caps":"Ch hoa Nho",Defaults:"Mc nh",Done:"Hon tt",Link:"Lin kt",Embed:"Nhng",Close:"ng",Copy:"Sao chp","Copy Url":"Sao chp Url","Embed Code":"M Nhng",English:"Ting Anh","volume level":"mc m lng","video progress bar":"thanh tin  video","playback speed level":"mc tc  pht li","Dolby Digital":"Dolby Digital",Stereo:"m thanh ni","Captions Menu":"Menu Ch thch","Subtitles Menu":"Menu Ph ","Need Text":"Cn Vn bn",Download:"Ti xung","Go to live":"Xem pht trc tip","End Time":"Thi gian kt thc"},r["default"].prototype.options_.languages["vi-vn"]=r["default"].prototype.options_.languages.vi},{"../video.js/src/js/player.js":210}],148:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages["zh-hans"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmute:"","Playback Rate":"",Subtitles:"","Subtitles Off":"",Captions:"","Captions Off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:"{0} ...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":"","Monospace Serif":"","Proportional Serif":"","Monospace Sans-Serif":"","Proportional Sans-Serif":"",Casual:"Casual",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" URL","Embed Code":"",English:"","volume level":"","video progress bar":"","playback speed level":"","Dolby Digital":"",Stereo:"","Captions Menu":"","Subtitles Menu":"","Need Text":"",Download:"","Go to live":"","End Time":""},r["default"].prototype.options_.languages.zh=r["default"].prototype.options_.languages["zh-hans"],r["default"].prototype.options_.languages["zh-cn"]=r["default"].prototype.options_.languages["zh-hans"]},{"../video.js/src/js/player.js":210}],149:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/player.js"),r=t(n);r["default"].prototype.options_.languages["zh-hant"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmute:"","Playback Rate":"",Subtitles:"","Subtitles Off":"",Captions:"","Captions Off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:"{0} ",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":"","Monospace Serif":"","Proportional Serif":"","Monospace Sans-Serif":"","Proportional Sans-Serif":"",Casual:"",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" Url","Embed Code":"",English:"","volume level":"","video progress bar":"","playback speed level":"","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"","Subtitles Menu":"","Need Text":"",Download:"","Go to live":"","End Time":""},r["default"].prototype.options_.languages["zh-hk"]=r["default"].prototype.options_.languages["zh-hant"],r["default"].prototype.options_.languages["zh-tw"]=r["default"].prototype.options_.languages["zh-hant"]},{"../video.js/src/js/player.js":210}],150:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var n=e("../video.js/src/js/tech/tech.js"),r=t(n),i=e("../video.js/src/js/tech/html5.js"),o=t(i);o["default"].prototype.vjsTriggerReady=o["default"].prototype.triggerReady,o["default"].prototype.triggerReady=function(){this.setupTriggers(),this.vjsTriggerReady()},o["default"].prototype.setupTriggers=function(){for(var e=this,t=function(t){e.eventHandler(t)},n=o["default"].Events.length-1;n>=0;n--)this.el_.addEventListener(o["default"].Events[n],t)},o["default"].prototype.eventHandler=function(e){"timeupdate"!==e.type&&"progress"!==e.type&&AMP.Logger.verbose(AMP.Logger.Area.html5,"Event: "+e.type),"error"===e.type&&this.error()&&r["default"].raiseError.call(this,"html5",this.error().code<<20)},o["default"].prototype.presentationTimeOffsetInSec=function(){},o["default"].prototype.vjsSetSrc=o["default"].prototype.setSrc,o["default"].prototype.setSrc=function(e){AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.vjsSetSrc(e)},o["default"].prototype.isLiveStartupError=function(){var e=this.error();if(e){var t=e.code<<20;if(0===t)return!0}return!1},o["default"].prototype.currentAudioStreamList=function(){return this.audioStreamList_||(this.audioStreamList_=new AMP.Html5.AudioStreamList(this)),this.audioStreamList_}},{"../video.js/src/js/tech/html5.js":219,"../video.js/src/js/tech/tech.js":222}],151:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){void 0===e&&(e=null);var t=!1;try{var n=null,r=!1;if(a["default"].ActiveXObject)try{n=new a["default"].ActiveXObject("AgControl.AgControl"),null===e?t=!0:n.IsVersionSupported(e)&&(t=!0),n=null}catch(i){r=!0}else r=!0;if(r){var o=a["default"].navigator.plugins["Silverlight Plug-In"];if(o)if(null===e)t=!0;else{var s=o.description;"1.0.30226.2"===s&&(s="2.0.30226.2");for(var l=s.split(".");l.length>3;)l.pop();for(;l.length<4;)l.push(0);for(var u=e.split(".");u.length>4;)u.pop();var d,c,p=0;do d=parseInt(u[p]),c=parseInt(l[p]),p++;while(p<u.length&&d===c);c>=d&&!isNaN(d)&&(t=!0)}}}catch(i){t=!1}return t}n.__esModule=!0,n.isSilverlightInstalled=i;var o=e("global/window"),a=r(o)},{"global/window":80}],152:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),u=e("object.assign"),d=i(u),c=e("../video.js/src/js/tech/tech.js"),p=i(c),h=e("../video.js/src/js/tech/html5.js"),f=i(h),m=e("../video.js/src/js/component.js"),g=i(m),y=e("../video.js/src/js/player.js"),v=i(y),_=e("../video.js/src/js/video.js"),b=i(_),S=e("../video.js/src/js/utils/dom.js"),T=r(S),w=e("../video.js/src/js/utils/fn.js"),k=r(w),E=e("../video.js/src/js/utils/browser.js"),C=r(E),P=e("../ampDefs.js"),I=r(P),M=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.manualTimeUpdatesOff();var i=void 0,a=void 0;this.featuresPlaybackRate=f["default"].canControlPlaybackRate(),this.fullscreenResize=!0,this.progressEvents=!1,this.volumeControl=!0,i=n.source,this.setControls(!1),AzureHtml5JSTech.Log.setLoggerFunction(AMP.Logger.writeEntry,AMP.Logger.Area.azureHtml5JS),a=AzureHtml5JSTech.CreateAzureHtml5(this.el_.videoTag_,n.playerId),n.staleDataTimeLimitInSec&&a.setStaleDataTimeLimit(n.staleDataTimeLimitInSec),this.mediaPlayer=a,this.options_.muted&&this.setMuted(!0),this.setupTriggers(a),i&&this.src!==i.src&&this.setSrc(i.src),C.TOUCH_ENABLED&&n.nativeControlsForTouch===!0&&this.setControls(!0),this.options_.playerOptions.traceConfig&&AzureHtml5JSTech.Log.setConsoleOutputByLevel(this.options_.playerOptions.traceConfig.maxLogLevel),this.triggerReady()}return a(t,e),t.prototype.dispose=function(){null!==this.mediaPlayer&&(this.mediaPlayer.dispose(),this.mediaPlayer=null),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag,n=e;if(!e||this.movingMediaElementInDOM===!1)if(e){var r=e.cloneNode(!0);e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=T.createEl("div"),n=T.createEl("video");var i=this.options_.tag&&T.getElAttributes(this.options_.tag),o=d["default"]({},i);T.setElAttributes(n,d["default"](o,{id:this.options_.techId,"class":"vjs-tech"})),e.appendChild(n),e.videoTag_=n}T.setElAttributes(n,{oncontextmenu:"return false;"}),T.setElAttributes(n,{tabindex:"-1"}),T.setElAttributes(n,{"aria-hidden":"true"});for(var a=["preload","loop"],s=a.length-1;s>=0;s--){var l=a[s],u={};"undefined"!=typeof this.options_[l]&&(u[l]=this.options_[l]),T.setElAttributes(n,u)}return e},t.prototype.autoplay=function(){return this.mediaPlayer.autoplay},t.prototype.setAutoplay=function(e){this.options_.autoplay=e},t.prototype.buffered=function(){return this.mediaPlayer.buffered},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.currentSrc=function(){return this.src()},t.prototype.isLive=function(){return this.mediaPlayer.isLive},t.prototype.manifestPlayableWindowLength=function(){return this.mediaPlayer.manifestPlayableWindowLength},t.prototype.currentPlayableWindow=function(){return this.mediaPlayer.currentPlayableWindow},t.prototype.playableWindowEndInSec=function(){return this.mediaPlayer.playableWindowEndInSec},t.prototype.segmentBoundaries=function(){return this.mediaPlayer.segmentBoundaries},t.prototype.setCurrentTime=function(e){this.mediaPlayer.currentTime=e},t.prototype.setCurrentAbsoluteTime=function(e){this.mediaPlayer.currentAbsoluteTime=e},t.prototype.currentTime=function(){return this.mediaPlayer.currentTime},t.prototype.currentAbsoluteTime=function(){return this.mediaPlayer.currentAbsoluteTime},t.prototype.currentMediaTime=function(){return this.mediaPlayer.currentMediaTime},t.prototype.presentationTimeOffsetInSec=function(){return this.mediaPlayer.presentationTimeOffsetInSec},t.prototype.getWallClockTime=function(e,t,n,r,i){return this.mediaPlayer.getWallClockTime(e,t,n,r,i)},t.prototype.presentationTimeFromPercentageOfDvrWindow=function(e){return this.mediaPlayer.presentationTimeFromPercentageOfDvrWindow(e)},t.prototype.currentType=function(){return this.mediaPlayer.type},t.prototype.currentVideoStreamList=function(){return this.mediaPlayer.currentVideoStreamList},t.prototype.currentAudioStreamList=function(){return this.mediaPlayer.currentAudioStreamList},t.prototype.videoBufferData=function(){return this.mediaPlayer.videoBufferData},t.prototype.audioBufferData=function(){return this.mediaPlayer.audioBufferData},t.prototype.currentDownloadBitrate=function(){return this.mediaPlayer.currentDownloadBitrate},t.prototype.currentPlaybackBitrate=function(){return this.mediaPlayer.currentPlaybackBitrate},t.prototype.duration=function(){return this.mediaPlayer.duration},t.prototype.ended=function(){return this.mediaPlayer.ended},t.prototype.isFullScreen=function(){return this.mediaPlayer.isFullScreen},t.prototype.muted=function(){return this.el_.videoTag_.muted||0===this.mediaPlayer.volume},t.prototype.setMuted=function(e){e?(this.el_.videoTag_.muted=!0,this.setVolume(0)):this.el_.videoTag_.muted=!1},t.prototype.paused=function(){return this.mediaPlayer.paused},t.prototype.seeking=function(){return this.mediaPlayer.seeking},t.prototype.src=function(e){return void 0===e?this.mediaPlayer.src:void this.setSrc(e)},t.prototype.volume=function(){return this.mediaPlayer.volume},t.prototype.setVolume=function(e){this.mediaPlayer.volume=e},t.prototype.height=function(e){return void 0===e?this.mediaPlayer.height:void(this.mediaPlayer.height=e)},t.prototype.width=function(e){return void 0===e?this.mediaPlayer.width:void(this.mediaPlayer.width=e)},t.prototype.videoHeight=function(){return this.mediaPlayer.videoHeight},t.prototype.videoWidth=function(){return this.mediaPlayer.videoWidth},t.prototype.play=function(){this.mediaPlayer.play()},t.prototype.pause=function(){this.mediaPlayer.pause()},t.prototype.setSrc=function(e){var t={type:this.options_.playerOptions.currentType};t=d["default"]({autoPlay:!!this.options_.playerOptions.autoplay},t),t.headers=this.options_.playerOptions.headers,this.updateCurrentPlayerConfigs(),AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.options_.playerOptions.traceConfig&&AzureHtml5JSTech.Log.setConsoleOutputByLevel(this.options_.playerOptions.traceConfig.maxLogLevel);var n={},r=this.options_.currentPlayerConfigs.currentHeuristicConfigs;n.maxBufferInWallClockSec=r.maxBufferInWallClockSec,n.prerollPercent=r.preRollInWallClockSec/r.maxBufferInWallClockSec,n.livePlaybackOffsetPercent=(r.livePlaybackOffsetInWallClockSec-r.preRollInWallClockSec)/r.maxBufferInWallClockSec,n.windowSizeHeuristicsEnabled=r.windowSizeHeuristics,n.useBrowserWindowForWindowSizeRule=r.useBrowserWindowForWindowSizeRule,n.minFragmentsForBandwidthAverage=r.minFragmentsForBandwidthAverage,n.bandwidthTestWithTimeThresholdDuringLive=r.bandwidthTestWithTimeThresholdDuringLive,n.useVariableFragmentSizeMode=r.useVariableFragmentSizeMode,this.options_.maxSkipSegments&&(n.maxSkipSegments=this.options_.maxSkipSegments),this.options_.maxRetryPerSegment&&(n.maxRetryPerSegment=this.options_.maxRetryPerSegment),this.options_.maxTotalRetries&&(n.maxTotalRetries=this.options_.maxTotalRetries),this.options_.infiniteSegmentRetryForPreconditionFailed&&(n.infiniteSegmentRetryForPreconditionFailed=this.options_.infiniteSegmentRetryForPreconditionFailed),"QuickStart"===this.options_.heuristicProfile&&(n.preFetchDataEnabled=!1),this.options_.maxRetriesForKeyAcquireFailure&&(n.maxRetriesForKeyAcquireFailure=this.options_.maxRetriesForKeyAcquireFailure),this.options_.maxWaitTimeBetweenRetriesForKeyAcquireMS&&(n.maxWaitTimeBetweenRetriesForKeyAcquireMS=this.options_.maxWaitTimeBetweenRetriesForKeyAcquireMS),t.userConfig=n;var i=this.options_.playerOptions.sourceOptions.protectionInfo,o=null;if(i){for(var a=0;a<i.length;a++)i[a].type!==I.protectionType.PlayReady&&i[a].type!==I.protectionType.Widevine&&i[a].type!==I.protectionType.AES||!i[a].authenticationToken||(o||(o={}),o[i[a].type]=i[a].authenticationToken);o&&(t=d["default"]({authenticationTokens:o},t))}this.mediaPlayer.setSrc(e,t)},t.prototype.load=function(){},t.prototype.supportsFullScreen=function(){return!0},t.prototype.enterFullScreen=function(){this.mediaPlayer.requestFullScreen()},t.prototype.exitFullScreen=function(){this.mediaPlayer.exitFullscreen()},t.prototype.setXmlHttpRequestFactory=function(e){this.mediaPlayer.setXmlHttpRequestFactory(e)},t.prototype.playbackRate=function(){return this.mediaPlayer.playbackRate()},t.prototype.setPlaybackRate=function(e){this.mediaPlayer.setPlaybackRate(e)},t.prototype.getAdSignalsAndReset=function(){return this.mediaPlayer.getAdSignalsAndReset()},t.prototype.restartCheckMediaWorkflowIfNeeded=function(){this.mediaPlayer.restartCheckMediaWorkflowIfNeeded()},t}(p["default"]);M.isSupported=function(){return!!l["default"].MediaSource},M.canPlaySource=function(e){return v["default"].canSupportFormats(e,this.supportedFormats)},M.supportedFormats={},M.supportedFormats[I.StreamingFormatMimeType.Dash]=[I.protectionType.AES],M._playReadyKeySystemName="com.microsoft.playready",M._widevineKeySystemName="com.widevine.alpha",M._defaultVideoCodecMime='video/mp4; codecs="avc1.42001E"',M._defaultAudioCodecMime='audio/mp4; codecs="mp4a.40.2"',M.CHECK_PENDING="pending",M.CHECK_DONE="done",M._playReadyCheck=null,M._widevineCheck=null,M.drmSupportCheck=function(e){function t(){M.supportedFormats[I.StreamingFormatMimeType.Dash].push(I.protectionType.PlayReady),M._playReadyCheck=M.CHECK_DONE,AzureHtml5JSTech.Log.verbose(AzureHtml5JSTech.Log.Area.encrypted,"playready resolved")}function n(){M._playReadyCheck=M.CHECK_DONE,AzureHtml5JSTech.Log.verbose(AzureHtml5JSTech.Log.Area.encrypted,"playready rejected")}function r(){M.supportedFormats[I.StreamingFormatMimeType.Dash].push(I.protectionType.Widevine),M._widevineCheck=M.CHECK_DONE,AzureHtml5JSTech.Log.verbose(AzureHtml5JSTech.Log.Area.encrypted,"widevine resolved")}function i(){M._widevineCheck=M.CHECK_DONE,AzureHtml5JSTech.Log.verbose(AzureHtml5JSTech.Log.Area.encrypted,"widevine rejected")}for(var o=0;e&&o<e.length;o++)for(var a=e[o].protectionInfo,s=0;a&&s<a.length;s++){var l=a[s].type;if(C.IS_FIREFOX&&C.FIREFOX_VERSION<47||C.IS_MACWEBVIEW)return M._playReadyCheck=M.CHECK_DONE,void(M._widevineCheck=M.CHECK_DONE);M._playReadyCheck||l!==I.protectionType.PlayReady?M._widevineCheck||l!==I.protectionType.Widevine||(AzureHtml5JSTech.EmeUtil.isTypeSupported(M._widevineKeySystemName,M._defaultAudioCodecMime,M._defaultVideoCodecMime).then(r,i),M._widevineCheck=M.CHECK_PENDING):(AzureHtml5JSTech.EmeUtil.isTypeSupported(M._playReadyKeySystemName,M._defaultAudioCodecMime,M._defaultVideoCodecMime).then(t,n),M._playReadyCheck=M.CHECK_PENDING)}},M.setupDone=function(){return M._playReadyCheck!==M.CHECK_PENDING&&M._widevineCheck!==M.CHECK_PENDING},M.prototype.setupTriggers=function(e){e.addEventListener(AzureHtml5JSTech.EventName.volumechange,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.ended,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.timeupdate,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.pause,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.play,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.playing,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.seeking,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.seeked,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.suspend,k.bind(this,M.onSuspend)),e.addEventListener(AzureHtml5JSTech.EventName.loadstart,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.loadedmetadata,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.loadeddata,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.fullscreenchange,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.waiting,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.canplaythrough,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.error,k.bind(this,M.onError)),e.addEventListener(AzureHtml5JSTech.EventName.durationchange,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.downloadbitratechanged,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.playbackbitratechanged,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.ratechange,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.spliceWaiting,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.emsgAvailable,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.decryptorInitialized,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.aesKeyFetchCompleted,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.decryptionFailed,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.manifestFetchCompleted,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.initialBandwidthEstimationCompleted,k.bind(this,M.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.mediaSourceSrcSetResolved,k.bind(this,M.onPassthroughHandler)),e.addEventListener("saveMemoryLog",k.bind(this,M.onPassthroughHandler)),e.addEventListener("drmselected",k.bind(this,M.onPassthroughHandler))},M.onPassthroughHandler=function(e){this.trigger(e)},M.onSuspend=function(){this.removeClass("vjs-waiting")},M.onError=function(){var e=this.mediaPlayer.error;p["default"].raiseError.call(this,"AzureHtml5JS",e.code,e.message)},M.prototype.isLiveStartupError=function(){var e=this.mediaPlayer.error;return e&&this.isLive()&&e.code===AzureHtml5JSTech.ErrorCode.srcErrLiveNoChunks},M.prototype.movingMediaElementInDOM=!C.IS_IOS,M.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);f["default"].disposeMediaElement(e.videoTag_),e.videoTag_=null}},b["default"].options.azureHtml5JS={},g["default"].registerComponent("AzureHtml5JS",M),p["default"].registerTech("AzureHtml5JS",M),n["default"]=M,t.exports=n["default"]},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/player.js":210,"../video.js/src/js/tech/html5.js":219,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/browser.js":239,"../video.js/src/js/utils/dom.js":242,"../video.js/src/js/utils/fn.js":244,"../video.js/src/js/video.js":257,"global/window":80,"object.assign":73}],153:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.charAt(0).toUpperCase()+e.slice(1);N["set"+t]=function(e){return this.el_["set"+t]?this.el_["set"+t](e):null}}function l(e){N[e]=function(){var t=e.charAt(0).toUpperCase()+e.slice(1);return this.el_["get"+t]?this.el_["get"+t]():null}}n.__esModule=!0;for(var u=e("global/window"),d=i(u),c=e("global/document"),p=i(c),h=e("object.assign"),f=i(h),m=e("../video.js/src/js/tech/tech.js"),g=i(m),y=e("../video.js/src/js/tech/flash.js"),v=i(y),_=e("../video.js/src/js/component.js"),b=i(_),S=e("../video.js/src/js/player.js"),T=i(S),w=e("../video.js/src/js/video.js"),k=i(w),E=e("../video.js/src/js/utils/time-ranges.js"),C=e("../video.js/src/js/utils/dom.js"),P=r(C),I=e("../video.js/src/js/utils/fn.js"),M=r(I),A=e("../video.js/src/js/utils/browser.js"),R=r(A),j=e("../video.js/src/js/utils/url.js"),O=r(j),D=e("../ampDefs.js"),x=r(D),L=function(e){
function t(n,r){var i=this;return o(this,t),e.call(this,n,r),this.manualTimeUpdatesOff(),n.source?(n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)}),d["default"].amp=d["default"].amp||{},d["default"].amp.FlashSS=d["default"].amp.FlashSS||{},d["default"].amp.FlashSS.onEvent=t.onEvent,this.ready(this.setupTriggers),void((R.IS_IE||R.IS_EDGE)&&!function(){var e=M.bind(i,i.mouseUp);d["default"].addEventListener("mouseup",e,!1),i.on("dispose",function(){d["default"].removeEventListener("mouseup",e)})}())):(AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),void this.triggerReady())}return a(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_,n=T["default"].getScriptRootURL();!e.swf&&n&&(e.swf=n+"/techs/StrobeMediaPlayback.2.0.swf");var r=e.source,i=e.techId,o=f["default"]({playerId:this.id(),controlBarMode:"none",playButtonOverlay:"false",bufferingOverlay:"false",AdaptiveStreamingPlugin_retryLive:"true",autoPlay:!0,preload:e.preload,loop:e.loop,muted:e.muted,sendRawDataToJS:e.playerOptions.cea708CaptionsSettings&&e.playerOptions.cea708CaptionsSettings.enabled},e.flashVars),a=f["default"]({menu:!1,wmode:"opaque",bgcolor:"#000000"},e.params),s=f["default"]({id:i,name:i,"class":"vjs-tech",tabindex:"-1"},e.attributes);if(this.flashSS=this,this.flashSS.lastSeekTarget_=NaN,this.reset(),r&&(r.src=t.getFullSourceURL(r.src),t._src=r.src,o.src=r.src,r.protectionInfo))for(var l=0;l<r.protectionInfo.length;l++)r.protectionInfo[l].type===x.protectionType.AES&&r.protectionInfo[l].authenticationToken&&(o.AdaptiveStreamingPlugin_encryptionKeyToken=r.protectionInfo[l].authenticationToken);this.updateCurrentPlayerConfigs();var u=e.currentPlayerConfigs.currentHeuristicConfigs;if(o.AdaptiveStreamingPlugin_minimumBufferTimeInSeconds=u.preRollInWallClockSec,o.AdaptiveStreamingPlugin_maximumBufferTimeInSeconds=u.maxBufferInWallClockSec,o.AdaptiveStreamingPlugin_livePlaybackOffsetInSecond=u.livePlaybackOffsetInWallClockSec,t._heuristicSettings.minimumBufferTimeInSeconds=u.preRollInWallClockSec,t._heuristicSettings.maximumBufferTimeInSeconds=u.maxBufferInWallClockSec,t._heuristicSettings.livePlaybackOffsetInSecond=u.livePlaybackOffsetInWallClockSec,t._isTraceEnabled=e.isTraceEnabled,AMP.Logger.setLogConfig(e.playerOptions.traceConfig),e.playerOptions.traceConfig&&e.playerOptions.traceConfig.maxLogLevel)switch(o.AdaptiveStreamingPlugin_enableOSMFLogging=!0,d["default"].org.osmf.player.debug.logs=t.onLogMessage,e.playerOptions.traceConfig.maxLogLevel){case 0:o.AdaptiveStreamingPlugin_minimalLogLevel=0,o.AdaptiveStreamingPlugin_enableOSMFLogging=!1,d["default"].org.osmf.player.debug.logs=void 0;break;case 1:o.AdaptiveStreamingPlugin_minimalLogLevel=2;break;case 2:o.AdaptiveStreamingPlugin_minimalLogLevel=1;break;case 3:o.AdaptiveStreamingPlugin_minimalLogLevel=0;break;default:o.AdaptiveStreamingPlugin_minimalLogLevel=0}else o.AdaptiveStreamingPlugin_enableOSMFLogging=!1,d["default"].org.osmf.player.debug.logs=void 0;return t._traceConfig=e.playerOptions.traceConfig,this.el_=v["default"].embed(e.swf,o,a,s),this.el_.tech=this,this.el_},t.prototype.autoplay=function(){return!!this.options_.playerOptions.autoplay},t.prototype.setAutoplay=function(){},t.prototype.isLive=function(){return!(!this.el_.getStreamType||"dvr"!==this.el_.getStreamType())},t.prototype.buffered=function(){return this.el_.getBufferLength?E.createTimeRange(this.currentTime(),this.currentTime()+this.el_.getBufferLength()):null},t.prototype.setCurrentTime=function(e){this.el_.setCurrentTime&&(e=e<=this.duration()?e:this.duration(),e=e>0?e:0,this.lastSeekTarget_=e,this.el_.setCurrentTime(e))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.getCurrentTime?this.el_.getCurrentTime():null},t.prototype.currentAbsoluteTime=function(){},t.prototype.currentMediaTime=function(){return this.el_.getCurrentMediaTime?this.el_.getCurrentMediaTime():null},t.prototype.presentationTimeOffsetInSec=function(){},t.prototype.currentVideoStreamList=function(){return t._currentVideoStreamList},t.prototype.currentAudioStreamList=function(){return t._currentAudioStreamList},t.prototype.videoBufferData=function(){return t._videoBufferData},t.prototype.audioBufferData=function(){return t._audioBufferData},t.prototype.currentDownloadBitrate=function(){if(t._currentVideoStreamList&&this.el_.getCurrentDynamicStreamIndex){var e=this.el_.getCurrentDynamicStreamIndex();return t._currentVideoStreamList.streams[0].tracks[e].bitrate}},t.prototype.currentPlaybackBitrate=function(){},t.prototype.ended=function(){return t._ended},t.prototype.isFullscreen=function(){return this.isFullscreen()},t.prototype.src=function(e){return void 0===e?this.currentSrc():void(this.el_.setAutoPlay&&this.el_.setMediaResourceURL&&(this.reset(),e=t.getFullSourceURL(e),t._src=e,this.mediaError=null,this.el_.setAutoPlay(!0),this.el_.setMediaResourceURL(e)))},t.prototype.currentSrc=function(){return t._src?t._src:this.el_.getCurrentSrc?this.el_.getCurrentSrc():null},t.prototype.load=function(){this.el_.load&&this.el_.load()},t.prototype.play=function(){this.el_.play2&&this.el_.play2()},t.prototype.pause=function(){this.el_.pause&&this.el_.pause()},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t.prototype.getWallClockTime=function(){},t.prototype.restartCheckMediaWorkflowIfNeeded=function(){},t}(g["default"]),N=L.prototype,B="controls,muted,volume".split(","),F="duration,paused,seeking,videoHeight,videoWidth".split(","),U=0;U<B.length;U++)l(B[U]),s(B[U]);for(var U=0;U<F.length;U++)l(F[U]);"undefined"==typeof d["default"].org&&(d["default"].org={}),"undefined"==typeof d["default"].org.osmf&&(d["default"].org.osmf={}),"undefined"==typeof d["default"].org.osmf.player&&(d["default"].org.osmf.player={}),"undefined"==typeof d["default"].org.osmf.player.debug&&(d["default"].org.osmf.player.debug={}),L.onLogMessage=function(e){for(var t=e.split("###"),n=0;n<t.length;n++)AMP.Logger.verbose(AMP.Logger.Area.flashSS,t[n])},L.isSupported=function(){return v["default"].isSupported()},L.isVersionSupported=function(e){return v["default"].isVersionSupported(e)},L.canPlaySource=function(e){return T["default"].canSupportFormats(e,this.supportedFormats)},L.supportedFormats={},L.supportedFormats[x.StreamingFormatMimeType.Smooth]=[x.protectionType.AES],L.prototype.setupTriggers=function(){this.el_.addEventListener("switchingChange","amp.FlashSS.onEvent")},L.prototype.mouseUp=function(e){var t=p["default"].elementFromPoint(e.clientX,e.clientY);t===this.el()?this.el().parentNode.focus():this.el().parentNode.blur()},L.onReady=function(e){AMP.Logger.verbose(AMP.Logger.Area.flashSS,e+" - Ready");var t=P.getEl(e),n=t&&t.tech;n&&n.el()&&L.checkReady(n)},L.checkReady=function(e){return!!e.el()&&(e.el().getBufferTime?(e.triggerReady(),L._videoBufferData=new AMP.FlashSS.BufferData(e.el(),AMP.FlashSS.MediaType.video),L._audioBufferData=new AMP.FlashSS.BufferData(e.el(),AMP.FlashSS.MediaType.audio),!0):(this.setTimeout(function(){L.checkReady(e)},50),!1))},L._firstReady=!0,L._src=null,L._ended=!1,L._heuristicSettings={},L._currentVideoStreamList=void 0,L._currentAudioStreamList=void 0,L._videoBufferData=void 0,L._audioBufferData=void 0,L._traceConfig=void 0,L._passThroughEvents=["seeking","durationchange","loadstart","waiting","volumechange"],L.prototype.forcePauseToPlayStateTransition=function(){try{!this.stateTransitionForced&&this.currentTime()>.05&&!this.isLive()&&(AMP.Logger.warning(AMP.Logger.Area.flashSS," Forcing a state transition to play by pausing first."),this.pause(),this.play(),this.stateTransitionForced=!0)}catch(e){}},L.onEvent=function(e,t,n){try{var r=P.getEl(e),i=r&&r.tech;if(!i||!i.el())return void AMP.Logger.warning(AMP.Logger.Area.flashSS," Got an event from stale flashSS tech "+e+" - Event:"+t);if(-1!==L._passThroughEvents.indexOf(t)&&i.trigger(t),!i.firstPlayingOccurredWithAutoplayFalse_&&"timeupdate"===t)return void i.forcePauseToPlayStateTransition();switch(t){case"onJavaScriptBridgeCreated":L.onReady(e),i.trigger("javascriptBridgeCreated");break;case"complete":L._ended=!0,i.trigger("ended");break;case"emptied":L._firstReady&&(L._currentVideoStreamList||(L._currentVideoStreamList=new AMP.FlashSS.VideoStreamList(i.el()),L._currentAudioStreamList=new AMP.FlashSS.AudioStreamList(i.el()),0===L._currentAudioStreamList.streams.length&&(L._currentAudioStreamList=void 0)),i.trigger("loadeddata"),i.trigger("loadedmetadata"),L._firstReady=!1,i.el().setAutoDynamicStreamSwitch(!0));break;case"downloadevent":i.downloadEvent(n);break;case"play":i.options_.playerOptions.autoplay||i.firstPlayingOccurredWithAutoplayFalse_?(i.firstPlayingOccurredWithAutoplayFalse_||(i.trigger("canplaythrough"),i.firstPlayingOccurredWithAutoplayFalse_=!0),i.trigger("play"),i.trigger("playing")):(i.pause(),i.trigger("canplaythrough"),i.firstPlayingOccurredWithAutoplayFalse_=!0);break;case"pause":i.firstPlayingOccurredWithAutoplayFalse_&&i.trigger("pause");break;case"seeked":i.firstPlayingOccurredWithAutoplayFalse_&&i.trigger("seeked");break;case"timeupdate":i.firstPlayingOccurredWithAutoplayFalse_&&i.trigger("timeupdate");break;case"error":i.currentSrc()&&(i.mediaError=n.code,g["default"].raiseError.call(i,"flashss",L.getMediaErrorCode(n.code,n.detail),L.getMediaErrorMsg(n.code)),i.firstPlayingOccurredWithAutoplayFalse_=!1);break;case"switchingChange":i.trigger("downloadbitratechanged")}"timeupdate"!==t&&"progress"!==t&&AMP.Logger.verbose(AMP.Logger.Area.flashSS,e+" - Event:"+t)}catch(o){throw AMP.Logger.error(AMP.Logger.Area.flashSS,e+" - Event:"+t+" - error:"+o),o}},L.prototype.downloadEvent=function(e){function t(e,t){!e.isAudio&&e.rawData&&(t.mediaDownload.rawSampleTimeScale=e.rawSampleTimeScale,t.mediaDownload.data=n(e.rawData),e.rawSampleTimeScale&&(t.mediaDownload.presentationTimeOffsetInSec=e.presentationTimeOffset/e.rawSampleTimeScale))}function n(e){for(var t=d["default"].atob(e),n=t.length,r=new Uint8Array(n),i=0;n>i;i++)r[i]=t.charCodeAt(i);return r.buffer}if(e&&e.type){var r=void 0;switch(e.type){case"downloadStarted":r=e.isAudio?L._audioBufferData:L._videoBufferData,r.downloadRequested=r.downloadRequested||{},r.downloadRequested.url=e.url,r.downloadRequested.bitrate=e.bitrate,r.downloadRequested.mediaTime=e.mediaTime,r.dispatchEvent(x.bufferDataEventName.downloadrequested);break;case"downloadCompleted":r=e.isAudio?L._audioBufferData:L._videoBufferData,r.downloadCompleted=r.downloadCompleted||{},r.downloadCompleted.measuredBandwidth=8*e.downloadBytes/e.downloadTime,r.downloadCompleted.totalBytes=e.downloadBytes,r.downloadCompleted.totalDownloadMs=1e3*e.downloadTime,r.downloadCompleted.mediaDownload=r.downloadCompleted.mediaDownload||{},r.downloadCompleted.mediaDownload.url=e.url,r.downloadCompleted.mediaDownload.bitrate=e.bitrate,r.downloadCompleted.mediaDownload.mediaTime=e.mediaTime,t(e,r.downloadCompleted),r.dispatchEvent(x.bufferDataEventName.downloadcompleted);break;case"downloadDecrypted":r=e.isAudio?L._audioBufferData:L._videoBufferData,r.decryptionCompleted=r.decryptionCompleted||{},r.decryptionCompleted.mediaDownload=r.downloadCompleted.mediaDownload||{},r.decryptionCompleted.mediaDownload.mediaTime=e.mediaTime,t(e,r.decryptionCompleted),r.dispatchEvent(x.bufferDataEventName.downloaddecrypted);break;case"mediaError":r=e.isAudio?L._audioBufferData:L._videoBufferData,r.downloadFailed=r.downloadFailed||{},r.downloadFailed.code=e.code,r.downloadFailed.message=e.message,r.downloadFailed.mediaDownload=r.downloadFailed.mediaDownload||{},r.downloadFailed.mediaDownload.url=e.url,r.downloadFailed.mediaDownload.bitrate=e.bitrate,r.downloadFailed.mediaDownload.mediaTime=e.mediaTime,r.dispatchEvent(x.bufferDataEventName.downloadfailed),g["default"].raiseError.call(this,"flashss",L.getMediaErrorCode(e.code,e.detail),L.getMediaErrorMsg(e.code))}}},L.getMediaErrorCode=function(e,t){switch(e){case L.errorCodes.OSMF_HTTP_GET_FAILED:case L.errorCodes.OSMF_NETCONNECTION_REJECTED:case L.errorCodes.OSMF_NETCONNECTION_APPLICATION_INVALID:case L.errorCodes.OSMF_NETCONNECTION_FAILED:case L.errorCodes.FRAGMENT_DOWNLOAD_ERROR:case L.errorCodes.MANIFEST_DOWNLOAD_ERROR:return L.getHttpErrorCode(t);case L.errorCodes.OSMF_NETCONNECTION_TIMEOUT:case L.errorCodes.MANIFEST_DOWNLOAD_TIMEOUT:case L.errorCodes.FRAGMENT_DOWNLOAD_TIMEOUT:return x.errorCode.networkErrTimeout;case L.errorCodes.MANIFEST_NOT_SUPPORTED_ELEMENT:case L.errorCodes.MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:case L.errorCodes.MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:case L.errorCodes.VIDEO_STREAM_MISSING:case L.errorCodes.MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:return x.errorCode.srcErrUnsupportedPresentation;case L.errorCodes.TOO_EARLY_TO_JOIN_LIVE_EVENT:return x.errorCode.srcErrLiveNoSegments;case L.errorCodes.MANIFEST_PARSE_TIMEOUT:case L.errorCodes.MANIFEST_MAJOR_VERSION_MISSING:case L.errorCodes.MANIFEST_MINOR_VERSION_MISSING:case L.errorCodes.MANIFEST_STREAMINDEX_MISSING:case L.errorCodes.MANIFEST_UNEXPECTED_ROOT_ELEMENT:case L.errorCodes.MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:case L.errorCodes.MANIFEST_STREAMINFO_TYPE_MISSING:case L.errorCodes.MANIFEST_STREAMINFO_URL_MISSING:case L.errorCodes.MANIFEST_CHUNK_ATTRIBUTE_MISSING:case L.errorCodes.MANIFEST_INVALID_ATTRIBUTE_VALUE:case L.errorCodes.INVALID_SMOOTH_DYNAMIC_RESOURCE:case L.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:case L.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:case L.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:case L.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:case L.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:case L.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:case L.errorCodes.MANIFEST_UNEXPECTED_PROTECTION_HEADER:case L.errorCodes.MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:return x.errorCode.srcErrParsePresentation;case L.errorCodes.OSMF_NETSTREAM_PLAY_FAILED:case L.errorCodes.OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:case L.errorCodes.OSMF_IO_ERROR:case L.errorCodes.OSMF_SECURITY_ERROR:case L.errorCodes.OSMF_ASYNC_ERROR:case L.errorCodes.OSMF_ARGUMENT_ERROR:case L.errorCodes.OSMF_URL_SCHEME_INVALID:case L.errorCodes.OSMF_MEDIA_LOAD_FAILED:case L.errorCodes.OSMF_PLUGIN_VERSION_INVALID:case L.errorCodes.OSMF_PLUGIN_IMPLEMENTATION_INVALID:case L.errorCodes.OSMF_SOUND_PLAY_FAILED:case L.errorCodes.OSMF_NETSTREAM_STREAM_NOT_FOUND:case L.errorCodes.OSMF_DVRCAST_SUBSCRIBE_FAILED:case L.errorCodes.OSMF_DVRCAST_CONTENT_OFFLINE:case L.errorCodes.OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:case L.errorCodes.OSMF_F4M_FILE_INVALID:case L.errorCodes.CANNOT_SET_AUDIO_STREAM_INDEX:case L.errorCodes.PLUGIN_INVALID_PARAM:case L.errorCodes.PLUGIN_NULL_PARAM:return x.errorCode.srcErrUnknown;case L.errorCodes.ENCRYPTIONKEY_DOWNLOAD_ERROR:case L.errorCodes.ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:case L.errorCodes.ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:case L.errorCodes.ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:return x.errorCode.encryptErrKeyAcquire;case L.errorCodes.FRAGMENT_DECRYPT_ERROR:return x.errorCode.encryptErrDecryption;default:return x.errorCode.errUnknown}},L.getHttpErrorCode=function(e){var t=x.errorCode.networkErrUnknown;if(e){var n=e.match(/^httpStatus:([0-9]+)/);2===n.length&&(t=x.httpErrorCode[n[1]]||t)}return t},L.errorCodes={OSMF_IO_ERROR:1,OSMF_SECURITY_ERROR:2,OSMF_ASYNC_ERROR:3,OSMF_ARGUMENT_ERROR:4,OSMF_URL_SCHEME_INVALID:5,OSMF_HTTP_GET_FAILED:6,OSMF_MEDIA_LOAD_FAILED:7,OSMF_PLUGIN_VERSION_INVALID:8,OSMF_PLUGIN_IMPLEMENTATION_INVALID:9,OSMF_SOUND_PLAY_FAILED:10,OSMF_NETCONNECTION_REJECTED:11,OSMF_NETCONNECTION_APPLICATION_INVALID:12,OSMF_NETCONNECTION_FAILED:13,OSMF_NETCONNECTION_TIMEOUT:14,OSMF_NETSTREAM_PLAY_FAILED:15,OSMF_NETSTREAM_STREAM_NOT_FOUND:16,OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:17,OSMF_NETSTREAM_NO_SUPPORTED_TRACK_FOUND:18,OSMF_DRM_SYSTEM_UPDATE_ERROR:19,OSMF_DVRCAST_SUBSCRIBE_FAILED:20,OSMF_DVRCAST_CONTENT_OFFLINE:21,OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:22,OSMF_F4M_FILE_INVALID:23,MANIFEST_DOWNLOAD_TIMEOUT:1e3,MANIFEST_PARSE_TIMEOUT:1001,MANIFEST_DOWNLOAD_ERROR:1002,MANIFEST_MAJOR_VERSION_MISSING:1003,MANIFEST_MINOR_VERSION_MISSING:1004,MANIFEST_STREAMINDEX_MISSING:1005,MANIFEST_UNEXPECTED_ROOT_ELEMENT:1006,MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:1007,MANIFEST_STREAMINFO_TYPE_MISSING:1008,MANIFEST_STREAMINFO_URL_MISSING:1009,MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:1010,MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:1011,MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:1012,MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:1013,MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:1014,MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:1015,MANIFEST_CHUNK_ATTRIBUTE_MISSING:1016,MANIFEST_NOT_SUPPORTED_ELEMENT:1017,MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:1018,MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:1019,MANIFEST_INVALID_ATTRIBUTE_VALUE:1020,INVALID_SMOOTH_DYNAMIC_RESOURCE:1021,FRAGMENT_DOWNLOAD_TIMEOUT:1022,FRAGMENT_DOWNLOAD_ERROR:1023,CANNOT_SET_AUDIO_STREAM_INDEX:1024,VIDEO_STREAM_MISSING:1025,MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:1026,PLUGIN_INVALID_PARAM:1027,PLUGIN_NULL_PARAM:1028,MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:1029,TOO_EARLY_TO_JOIN_LIVE_EVENT:1030,MANIFEST_UNEXPECTED_PROTECTION_HEADER:1048,ENCRYPTIONKEY_DOWNLOAD_ERROR:1049,ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:1050,ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:1051,ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:1052,FRAGMENT_DECRYPT_ERROR:1053},L.getMediaErrorMsg=function(e){for(var t in L.errorCodes)if(L.errorCodes.hasOwnProperty(t)&&L.errorCodes[t]===e)return t;return e},L.getFullSourceURL=function(e){return e=O.getAbsoluteURL(e),0===e.indexOf("//")&&(e=d["default"].location.protocol+e),e},L.prototype.reset=function(){L._firstReady=!0,L._ended=!1,L._src=null,L._currentVideoStreamList=void 0,L._currentAudioStreamList=void 0,this.flashSS.firstPlayingOccurredWithAutoplayFalse_=!1,this.stateTransitionForced=!1},L.prototype.setPlaybackRate=function(){},L.prototype.isReloadNeeded=function(){var e=this.options_.currentPlayerConfigs;return null==L._src||!e||!e.currentHeuristicConfigs||L._heuristicSettings.minimumBufferTimeInSeconds!==e.currentHeuristicConfigs.preRollInWallClockSec||L._heuristicSettings.maximumBufferTimeInSeconds!==e.currentHeuristicConfigs.maxBufferInWallClockSec||L._heuristicSettings.livePlaybackOffsetInSecond!==e.currentHeuristicConfigs.livePlaybackOffsetInWallClockSec||L._traceConfig!==this.options_.traceConfig},L.prototype.isLiveStartupError=function(){return this.mediaError===L.errorCodes.MANIFEST_DOWNLOAD_ERROR||this.mediaError===L.errorCodes.TOO_EARLY_TO_JOIN_LIVE_EVENT},k["default"].options.flashSS={},b["default"].registerComponent("FlashSS",L),g["default"].registerTech("FlashSS",L),n["default"]=L,t.exports=n["default"]},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/player.js":210,"../video.js/src/js/tech/flash.js":218,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/browser.js":239,"../video.js/src/js/utils/dom.js":242,"../video.js/src/js/utils/fn.js":244,"../video.js/src/js/utils/time-ranges.js":253,"../video.js/src/js/utils/url.js":256,"../video.js/src/js/video.js":257,"global/document":79,"global/window":80,"object.assign":73}],154:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../video.js/src/js/tech/tech.js"),l=i(s),u=e("../video.js/src/js/tech/html5.js"),d=i(u),c=e("../video.js/src/js/component.js"),p=i(c),h=e("../video.js/src/js/utils/fn.js"),f=r(h),m=e("global/window"),g=i(m),y=e("../ampDefs.js"),v=r(y),_=function(e){function t(n,r){o(this,t),e.call(this,n,r)}return a(t,e),t.prototype.dispose=function(){this.fairplay&&this.fairplay.dispose(),e.prototype.dispose.call(this)},t.prototype.eventHandler=function(e){"timeupdate"!==e.type&&"progress"!==e.type&&AMP.Logger.verbose(AMP.Logger.Area.html5FairplayHLS,"Event: "+e.type),"error"===e.type&&this.error()&&l["default"].raiseError.call(this,"html5FairPlayHLS",this.error().code<<20)},t.prototype.setSrc=function(e){AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.fairplay&&(this.fairplay.dispose(),this.fairplay=null);var n=[];this.options_&&this.options_.playerOptions&&this.options_.playerOptions.sourceOptions&&this.options_.playerOptions.sourceOptions.protectionInfo&&(n=this.options_.playerOptions.sourceOptions.protectionInfo);for(var r=null,i=0;i<n.length;i++)if("FairPlay"===n[i].type){r=n[i];break}if(r&&t.isFairPlaySupported()){var o=new AMP.Html5Fairplay.SrcInfo(e,this.options_.playerOptions.autoplay,r);this.fairplay=new AMP.Html5Fairplay.FairPlay(this.el_,o,f.bind(this,this.handleFairPlayErrors_),f.bind(this,this.handleFairPlayEvent_))}else this.handleFairPlayErrors_(v.errorCode.srcPlayerMismatchUnknown,"html5FairPlayHLS tech can only be used with FairPlay protected content")},t.prototype.handleFairPlayErrors_=function(e,t){l["default"].raiseError.call(this,"Html5FairPlayHLS",e,t)},t.prototype.handleFairPlayEvent_=function(e){this.trigger(e)},t.prototype.play=function(){this.fairplay.play()},t.prototype.getWallClockTime=function(){},t.prototype.restartCheckMediaWorkflowIfNeeded=function(){},t}(d["default"]);_.prototype.fairplay=null,_.nativeSourceHandler={},_.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},_.nativeSourceHandler.canHandleSource=function(e){function t(e){try{return d["default"].TEST_VID.canPlayType(e)}catch(t){return""}}var n=void 0,r=void 0,i=function(e){if(e.protectionInfo)for(var t=0;t<e.protectionInfo.length;t++)if("FairPlay"===e.protectionInfo[t].type)return!0;return!1},o=i(e)&&_.isFairPlaySupported();return o?"application/vnd.apple.mpegurl"===e.type?t(e.type):e.src?(n=e.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),r=n&&n[1],t("video/"+r)):"":""},_.nativeSourceHandler.dispose=function(){},_.sourceHandlers=null,l["default"].withSourceHandlers(_),_.registerSourceHandler(_.nativeSourceHandler),_.isFairPlaySupported=function(){return g["default"].WebKitMediaKeys&&g["default"].WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")},_.isSupported=function(){return d["default"].isSupported.call(this)},p["default"].registerComponent("Html5FairPlayHLS",_),l["default"].registerTech("Html5FairPlayHLS",_),n["default"]=_,t.exports=n["default"]},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/tech/html5.js":219,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/fn.js":244,"global/window":80}],155:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),u=e("global/document"),d=i(u),c=e("object.assign"),p=i(c),h=e("../video.js/src/js/tech/tech.js"),f=i(h),m=e("../video.js/src/js/component.js"),g=i(m),y=e("../video.js/src/js/player.js"),v=i(y),_=e("../video.js/src/js/video.js"),b=i(_),S=e("../video.js/src/js/utils/time-ranges.js"),T=e("../video.js/src/js/utils/dom.js"),w=r(T),k=e("../video.js/src/js/utils/fn.js"),E=r(k),C=e("../video.js/src/js/utils/browser.js"),P=r(C),I=e("../ampDefs.js"),M=r(I),A=e("./Silverlight.js"),R={Closed:0,Opening:1,Buffering:2,Playing:3,Paused:4,Stopped:5,Individualizing:6,AcquiringLicense:7},j=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.manualTimeUpdatesOff()}return a(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_,n=v["default"].getScriptRootURL();!e.xap&&n&&(e.xap=n+"/techs/SmoothStreamingPlayer.xap");var r=this,i=[],o=e.source;this.mediaPlayer=null,this.reset();var a=e.techId,s=e.autoplay;void 0!==s&&i.push("Autoplay="+s);var l=p["default"]({id:a,name:a,"class":"vjs-tech",tabindex:"-1"},e.attributes);silverlightSSLoaded=function(e){var t=d["default"].getElementById(a);r.mediaPlayer=t.content.mainPlayer,o&&r.src(o.src),r.triggerReady(),r.setTriggers(e)},onSilverlightError=function(e,t){var n="";null!=e&&0!==e&&(n=e.getHost().Source);var i=t.ErrorType,o=t.ErrorCode,a="Unhandled Error in Silverlight Application "+n+"\n";a+="Code: "+o+"    \n",a+="Category: "+i+"       \n",a+="Message: "+t.ErrorMessage+"     \n","ParserError"===i?(a+="File: "+t.xamlFile+"     \n",a+="Line: "+t.lineNumber+"     \n",a+="Position: "+t.charPosition+"     \n"):"RuntimeError"===i&&(0!==t.lineNumber&&(a+="Line: "+t.lineNumber+"     \n",a+="Position: "+t.charPosition+"     \n"),a+="MethodName: "+t.methodName+"     \n"),f["default"].raiseError.call(r,"silverlightss",M.errorCode.errUnknown,a)};var u=p["default"]({source:e.xap,onError:"onSilverlightError",minRuntimeVersion:"5.0.61118.0",onload:"silverlightSSLoaded",enableHtmlAccess:!0,width:"100%",height:"100%",windowless:"true",wmode:"opaque",bgcolor:"#000000"},e.params);return i.push("ScriptableName=mainPlayer"),i.push("IsControlStripVisible=false"),this.el_=t.embed(l,u,i),this.el_.tech=this,this.el_},t.prototype.autoplay=function(){return this.mediaPlayer.AutoPlay},t.prototype.setAutoplay=function(e){this.mediaPlayer.AutoPlay=e},t.prototype.isLive=function(){return this.mediaPlayer.IsLive},t.prototype.buffered=function(){return S.createTimeRange(this.currentTime(),this.currentTime())},t.prototype.currentSrc=function(){return t._srcSet?this.mediaPlayer.MediaSource:void 0},t.prototype.setCurrentTime=function(e){try{t._seeking=!0,this.trigger(M.eventName.seeking),this.mediaPlayer.SeekToPosition(e)}catch(n){f["default"].raiseError.call(this,"silverlightss",M.errorCode.srcErrUnknown,n.message)}},t.prototype.currentTime=function(){return this.mediaPlayer.PlaybackPositionSeconds},t.prototype.currentAbsoluteTime=function(){},t.prototype.currentMediaTime=function(){},t.prototype.presentationTimeOffsetInSec=function(){},t.prototype.currentVideoStreamList=function(){},t.prototype.currentAudioStreamList=function(){},t.prototype.videoBufferData=function(){},t.prototype.audioBufferData=function(){},t.prototype.currentDownloadBitrate=function(){return t._downloadBitrate},t.prototype.currentPlaybackBitrate=function(){return t._playbackBitrate},t.prototype.duration=function(){return this.mediaPlayer.EndPositionSeconds-this.mediaPlayer.StartPositionSeconds},t.prototype.ended=function(){return t._ended},t.prototype.isFullscreen=function(){return this.mediaPlayer.isFullscreen},t.prototype.muted=function(){return this.mediaPlayer.IsMuted},t.prototype.setMuted=function(e){this.mediaPlayer.IsMuted=e},t.prototype.paused=function(){return this.mediaPlayer.PlayState===R.Paused||this.mediaPlayer.PlayState===R.Buffering},t.prototype.seeking=function(){return t._seeking},t.prototype.src=function(e){return void 0===e?this.currentSrc():(0===e.indexOf("//")&&(e=l["default"].location.protocol+e),void this.setSrc(e))},t.prototype.volume=function(){return this.mediaPlayer.GetVolume()},t.prototype.setVolume=function(e){this.mediaPlayer.SetVolume(e)},t.prototype.height=function(e){return void 0===e?this.mediaPlayer.height:void(this.mediaPlayer.height=e)},t.prototype.width=function(e){return void 0===e?this.mediaPlayer.width:void(this.mediaPlayer.width=e)},t.prototype.videoHeight=function(){return this.mediaPlayer.VideoHeight},t.prototype.videoWidth=function(){return this.mediaPlayer.VideoWidth},t.prototype.play=function(){t._errored||this.mediaPlayer.Play()},t.prototype.pause=function(){t._errored||this.mediaPlayer.Pause()},t.prototype.setSrc=function(e){this.reset(),this.mediaPlayer.AutoPlay=!!this.options_.playerOptions.autoplay,this.updateCurrentPlayerConfigs();var n=this.options_.currentPlayerConfigs.currentHeuristicConfigs;this.mediaPlayer.BufferingTime=n.preRollInWallClockSec,this.mediaPlayer.LivePlaybackOffset=n.livePlaybackOffsetInWallClockSec,AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.mediaPlayer.IsTraceEnabled=this.options_.playerOptions.traceConfig&&this.options_.playerOptions.traceConfig.maxLogLevel&&this.options_.playerOptions.traceConfig.maxLogLevel>0;var r=this.mediaPlayer.CreatePlaylist(),i=this.mediaPlayer.CreatePlaylistItem(e,"","","");i.DeliveryMethod="AdaptiveStreaming";var o=this.options_.playerOptions.sourceOptions.protectionInfo;if(o)for(var a=0;a<o.length;a++)o[a].type===M.protectionType.PlayReady&&o[a].authenticationToken&&(i.BearerToken=o[a].authenticationToken);r.AddPlaylistItem(i),this.mediaPlayer.SetPlaylist(r),t._srcSet=!0},t.prototype.load=function(){},t.prototype.supportsFullscreen=function(){return!1},t.prototype.enterFullscreen=function(){},t.prototype.exitFullscreen=function(){},t.prototype.getWallClockTime=function(){},t.prototype.restartCheckMediaWorkflowIfNeeded=function(){},t}(f["default"]);j.embed=function(e,t,n){var r=j.getEmbedCode(e,t,n),i=w.createEl("div",{innerHTML:r}).childNodes[0];return i},j.getEmbedCode=function(e,t,n){var r='<object  data="data:application/x-silverlight-2," type="application/x-silverlight-2" ';return e&&Object.getOwnPropertyNames(e).forEach(function(t){r+=encodeURIComponent(t)+'="'+encodeURIComponent(e[t])+'" '}),r+=">",t=p["default"]({InitParams:n.join(",")},t),Object.getOwnPropertyNames(t).forEach(function(e){r+='<param name="'+encodeURIComponent(e)+'" value="'+encodeURI(t[e])+'" />'}),r+="</object>"},j.isSupported=function(){return A.isSilverlightInstalled("5.0")},j.canPlaySource=function(e){return v["default"].canSupportFormats(e,this.supportedFormats)},j.supportedFormats={},j.supportedFormats[M.StreamingFormatMimeType.Smooth]=[M.protectionType.PlayReady],j._srcSet=!1,j._errored=!1,j._seeking=!1,j._ended=!1,j._opening=!0,j._firstTimeUpdateOccuredAfterOpening=!1,j._adaptiveStreamingError=null,j._networkError="Failed to download",j._licenseError="Unable to acquire license due to a network or protocol error",j._tokenError="Unable to complete operation due to a service specific error coming from a network response",j._parseSegmentError="Too many consecutive chunk parse errors",j._parsePresentationError="Manifest file error",j._unsupportedPresentation="Unrecognized manifest",j._licenseAcquisitionErrorCode="6002",j._licenseAcquisitionServiceSpecificErrorCode="6007",j._downloadBitrate,j._playbackBitrate,j.prototype.setTriggers=function(){var e=this;this.mediaPlayer.addEventListener("PlayStateChanged",E.bind(this,this.playStateChangedHandler)),this.mediaPlayer.addEventListener("MediaOpened",E.bind(this,this.onMediaOpened)),this.mediaPlayer.addEventListener("SeekCompleted",E.bind(this,this.onSeekCompleted)),this.mediaPlayer.addEventListener("MediaEnded",E.bind(this,this.onMediaEnded)),this.mediaPlayer.addEventListener("PlaybackPositionChanged",E.bind(this,this.onTimeUpdate)),this.mediaPlayer.addEventListener("VolumeLevelChanged",E.bind(this,this.onVolumeChanged)),this.mediaPlayer.addEventListener("MuteChanged",E.bind(this,this.onVolumeChanged)),this.mediaPlayer.addEventListener("MediaFailed",E.bind(this,this.onMediaFailed)),this.mediaPlayer.addEventListener("AdaptiveStreamingErrorOccurred",E.bind(this,this.onAdaptiveStreamingErrorOccurred)),this.mediaPlayer.addEventListener("ReportDiagTrace",E.bind(this,this.onReportDiagTrace)),
this.mediaPlayer.addEventListener("DownloadBitrateChanged",E.bind(this,this.onVideoDownloadBitrateChanged)),this.mediaPlayer.addEventListener("PlaybackBitrateChanged",E.bind(this,this.onVideoPlaybackBitrateChanged)),this.mediaPlayer.addEventListener("FullScreenChanged",E.bind(this,this.onFullScreenChanged));var t=void 0;this.mediaPlayer.addEventListener("PlaybackPositionChanged",E.bind(this,function(){this.duration()!==t&&(t=this.duration(),this.trigger(M.eventName.durationchange)),j._firstTimeUpdateOccuredAfterOpening||j._opening||(this.trigger(M.eventName.play),this.trigger(M.eventName.playing),j._firstTimeUpdateOccuredAfterOpening=!0)})),P.IS_IE&&!function(){var t=E.bind(e,e.onMouseUp);l["default"].addEventListener("mouseup",t,!1),e.on("dispose",function(){l["default"].removeEventListener("mouseup",t)})}()},j.prototype.playStateChangedHandler=function(){switch(this.mediaPlayer.PlayState){case R.Playing:j._firstTimeUpdateOccuredAfterOpening&&(this.trigger(M.eventName.play),this.trigger(M.eventName.playing));break;case R.Paused:this.trigger(M.eventName.pause);break;case R.Buffering:j._firstTimeUpdateOccuredAfterOpening||this.trigger(M.eventName.waiting)}},j.prototype.onMediaOpened=function(){j._opening=!1,this.trigger(M.eventName.durationchange),this.trigger(M.eventName.loadstart),this.trigger(M.eventName.loadedmetadata),this.trigger(M.eventName.loadeddata),this.trigger(M.eventName.canplaythrough)},j.prototype.onMediaFailed=function(e,t){var n=t.Result.Message,r=t.Result.Message;j._adaptiveStreamingError&&(n+=": "+j._adaptiveStreamingError.Message,r=j._adaptiveStreamingError.Message);var i=M.errorCode.errUnknown;-1!==r.indexOf(j._networkError)?i=M.errorCode.networkErrUnknown:-1!==r.indexOf(j._licenseError)||-1!==r.indexOf(j._licenseAcquisitionErrorCode)||-1!==r.indexOf(j._tokenError)||-1!==r.indexOf(j._licenseAcquisitionServiceSpecificErrorCode)?i=M.errorCode.encryptErrLicenseAcquire:-1!==r.indexOf(j._parseSegmentError)?i=M.errorCode.srcErrParseSegment:-1!==r.indexOf(j._parsePresentationError)?i=M.errorCode.srcErrParsePresentation:-1!==r.indexOf(j._unsupportedPresentation)&&(i=M.errorCode.srcErrUnsupportedPresentation),j._errored=!0,f["default"].raiseError.call(this,"silverlightss",i,n)},j.prototype.onAdaptiveStreamingErrorOccurred=function(e,t){j._adaptiveStreamingError=t.Result},j.prototype.onSeekCompleted=function(){j._seeking=!1,this.trigger(M.eventName.seeked)},j.prototype.onMediaEnded=function(){j._ended=!0,this.trigger(M.eventName.ended)},j.prototype.onTimeUpdate=function(){this.trigger(M.eventName.timeupdate)},j.prototype.onFullScreenChanged=function(){this.trigger(M.eventName.fullscreenchange)},j.prototype.onVolumeChanged=function(){this.trigger(M.eventName.volumechange)},j.prototype.onReportDiagTrace=function(e,t){AMP.Logger.verbose(AMP.Logger.Area.silverlightSS,t.Result)},j.prototype.onVideoDownloadBitrateChanged=function(e,t){j._downloadBitrate=t.Result,this.trigger(M.eventName.downloadbitratechanged)},j.prototype.onVideoPlaybackBitrateChanged=function(e,t){j._playbackBitrate=t.Result,this.trigger(M.eventName.playbackbitratechanged)},j.prototype.onMouseUp=function(e){var t=d["default"].elementFromPoint(e.clientX,e.clientY);t===this.el()?this.el().parentNode.focus():this.el().parentNode.blur()},j.prototype.reset=function(){j._srcSet=!1,j._seeking=!1,j._ended=!1,j._opening=!0,j._firstTimeUpdateOccuredAfterOpening=!1,j._adaptiveStreamingError=null,j._errored=!1},b["default"].options.silverlightSS={},g["default"].registerComponent("SilverlightSS",j),f["default"].registerTech("SilverlightSS",j),n["default"]=j,t.exports=n["default"]},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/player.js":210,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/browser.js":239,"../video.js/src/js/utils/dom.js":242,"../video.js/src/js/utils/fn.js":244,"../video.js/src/js/utils/time-ranges.js":253,"../video.js/src/js/video.js":257,"./Silverlight.js":151,"global/document":79,"global/window":80,"object.assign":73}],156:[function(e,t,n){"use strict";n.__esModule=!0;var r="2.3.8.2";n.ampVersion=r},{}],157:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./component"),s=r(a),l=e("object.assign"),u=r(l),d=function(e){function t(n,r){i(this,t),e.call(this,n,r)}return o(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return t=u["default"]({className:this.buildCSSClass()},t),s["default"].prototype.createEl.call(this,e,t,n)},t.prototype.buildCSSClass=function(){return"vjs-fullscreen-outline "+e.prototype.buildCSSClass.call(this)},t}(s["default"]);s["default"].registerComponent("FullscreenOutline",d),n["default"]=d,t.exports=n["default"]},{"./component":163,"object.assign":73}],158:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=i(s),u=e("./utils/dom.js"),d=r(u),c=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,["removeSpinner","canplaythrough","canplay","playing","pause","seeked","error"],this.updatePlaying),this.on(n,["sourceset","waiting","seeking"],this.updateWaiting),this.on(n,"fullscreenchange",this.handleFullscreenChange),this.on("focus",this.handleFocus)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"p",{className:"vjs-screen-reader-text",id:"player-use-for-screen-reader-alert-only"+Math.random()});return t.setAttribute("role","alert"),t.setAttribute("aria-atomic","true"),t},t.prototype.updateWaiting=function(){var e=this;setTimeout(function(){null!=e.el_&&(e.el_.innerHTML=e.htmlEncode(e.localize("video buffering")))},0)},t.prototype.updatePlaying=function(){var e=this;setTimeout(function(){null!=e.el_&&(e.el_.innerHTML="")},0)},t.prototype.switchFocusToLastControlForSelectorInControlBar=function(e){for(var t=e+" .vjs-control",n=this.player_.controlBar.el().querySelectorAll(t),r=n.length,i=r-1;i>=0;i--){var o=n[i].getAttribute("tabIndex"),a=d.isVisible(n[i]);if(o>=0&&a)return n[i].focus(),!0}return!1},t.prototype.reverseFocus=function(){for(var e=[".amp-controlbaricons-right",".amp-cotnrolbaricons-middle",".amp-controlbaricons-left"],t=0;t<e.length;t++)if(this.switchFocusToLastControlForSelectorInControlBar(e[t]))return},t.prototype.handleFocus=function(){this.player_.isFullscreen()&&setTimeout(function(e){e.player_.el().focus()},200,this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.el_.setAttribute("tabIndex",0):this.el_.setAttribute("tabIndex",-1)},t}(l["default"]);l["default"].registerComponent("AriaAlerts",c),n["default"]=c,t.exports=n["default"]},{"./component":163,"./utils/dom.js":242}],159:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./button.js"),s=r(a),l=e("./component.js"),u=r(l),d=function(e){function t(n,r){i(this,t),e.call(this,n,r)}return o(t,e),t.prototype.buildCSSClass=function(){return this.options_.playerOptions.overrideDisabledForBigPlayButton?"vjs-big-play-button override-controls-disabled ":"vjs-big-play-button "},t.prototype.handleClick=function(){this.player_.play()},t}(s["default"]);d.prototype.controlText_="Play Video",u["default"].registerComponent("BigPlayButton",d),n["default"]=d,t.exports=n["default"]},{"./button.js":160,"./component.js":163}],160:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./tooltip-clickable"),l=i(s),u=e("./component"),d=i(u),c=e("./utils/events.js"),p=(r(c),e("./utils/fn.js")),h=(r(p),e("./utils/log.js")),f=i(h),m=e("global/document"),g=(i(m),e("object.assign")),y=i(g),v=e("./utils/close-other-menu.js"),_=i(v),b=function(e){function t(n,r){o(this,t),e.call(this,n,r)}return a(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t=y["default"]({className:this.buildCSSClass()},t),"button"!==e&&(f["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=y["default"]({tabIndex:0},t),n=y["default"]({role:"button"},n)),n=y["default"]({type:"button","aria-live":"off"},n);var r=d["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.constructor.name;return f["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),d["default"].prototype.addChild.call(this,e,t)},t.prototype.handleKeyPress=function(t){this.clearKeyboardTooltip(),32===t.which||13===t.which||e.prototype.handleKeyPress.call(this,t)},t.prototype.clearOtherMenus=function(){_["default"](this),this.clearKeyboardTooltip()},t}(l["default"]);d["default"].registerComponent("Button",b),n["default"]=b,t.exports=n["default"]},{"./component":163,"./tooltip-clickable":223,"./utils/close-other-menu.js":241,"./utils/events.js":243,"./utils/fn.js":244,"./utils/log.js":250,"global/document":79,"object.assign":73}],161:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=i(s),u=e("./utils/dom.js"),d=r(u),c=e("./utils/events.js"),p=r(c),h=e("./utils/fn.js"),f=r(h),m=e("./utils/log.js"),g=i(m),y=e("global/document"),v=i(y),_=e("object.assign"),b=i(_),S=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return a(t,e),t.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=b["default"]({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&g["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=b["default"]({role:"button","aria-live":"off"},r);var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=d.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){if(arguments.length<=1||void 0===arguments[1]?this.el():arguments[1],!e)return this.controlText_||"Need Text";var t=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=this.htmlEncode(t),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.prototype.addChild.call(this,t,n)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){p.on(v["default"],"keydown",f.bind(this,this.handleKeyPress)),this.el().setAttribute("aria-live","polite")},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){p.off(v["default"],"keydown",f.bind(this,this.handleKeyPress)),this.el().setAttribute("aria-live","off")},t}(l["default"]);l["default"].registerComponent("ClickableComponent",S),n["default"]=S,t.exports=n["default"]},{"./component":163,"./utils/dom.js":242,"./utils/events.js":243,"./utils/fn.js":244,"./utils/log.js":250,"global/document":79,"object.assign":73}],162:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./button"),s=r(a),l=e("./component"),u=r(l),d=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.controlText(r&&r.controlText||this.localize("Close"))}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(s["default"]);u["default"].registerComponent("CloseButton",d),n["default"]=d,t.exports=n["default"]},{"./button":160,"./component":163}],163:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("global/window"),s=i(a),l=e("./utils/dom.js"),u=r(l),d=e("./utils/fn.js"),c=r(d),p=e("./utils/guid.js"),h=r(p),f=e("./utils/events.js"),m=r(f),g=e("./utils/log.js"),y=i(g),v=e("./utils/to-title-case.js"),_=i(v),b=e("./utils/merge-options.js"),S=i(b),T=e("./utils/browser.js"),w=r(T),k=function(){function e(t,n,r){if(o(this,e),this.player_=!t&&this.play?t=this:t,this.options_=S["default"]({},this.options_),n=this.options_=S["default"](this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+h.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.el_&&this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--){this.children_[e].dispose&&this.children_[e].dispose();var t=this.children_[e].name_;t&&this[t]&&delete this[t]}this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&this.off(),this.el_&&this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.contentEl_&&this.contentEl_.parentNode&&this.contentEl_.parentNode.removeChild(this.contentEl_),this.el_&&u.removeElData(this.el_),this.contentEl_&&u.removeElData(this.contentEl_),this.el_=null,this.contentEl_=null,this.player_=null,this.options_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return y["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=S["default"](this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return u.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=t.split("-")[0],o=n[i];return o&&o[e]?o[e]:e},e.prototype.htmlEncode=function(e){if(!e)return"";for(var t=e.length,n=[],r=0;t>r;r++){var i=e.charAt(r);switch(i){case"<":n.push("&lt;");break;case">":n.push("&gt;");break;case"&":n.push("&amp;");break;case'"':n.push("&quot;");break;case"'":n.push("&#39;");break;default:n.push(i)}}return n.join("")},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){return this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],o=void 0,a=void 0;if("string"==typeof t){a=t,r||(r={}),r===!0&&(y["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),r={});var l=r.componentClass||_["default"](a);r.name=a;var u=e.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if("function"!=typeof u)return null;o=new u(this.player_||this,r)}else o=t;if(this.children_.splice(i,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),a=a||o.name&&o.name(),a&&(this.childNameIndex_[a]=o),"function"==typeof o.el&&o.el()){var d;!function(){var e=n.contentEl().children,t=e[i]||null;w.IS_MSAPPHOST&&s["default"].MSApp&&s["default"].MSApp.execUnsafeLocalFunction?(d=n.contentEl(),s["default"].MSApp.execUnsafeLocalFunction(function(){d.insertBefore(o.el(),t)})):n.contentEl().insertBefore(o.el(),t)}()}return o},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&!function(){var r=t.options_,i=function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,a=e.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(t.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||_["default"](t.name));return n&&!a.isTech(n)}).forEach(i)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;return"string"==typeof e||Array.isArray(e)?m.on(this.el_,e,c.bind(this,t)):!function(){var i=e,o=t,a=c.bind(r,n),s=function(){return r.off(i,o,a)};s.guid=a.guid,r.on("dispose",s);var l=function(){return r.off("dispose",s)};l.guid=a.guid,e.nodeName?(m.on(i,o,a),m.on(i,"dispose",l)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",l))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))m.off(this.el_,e,t);else{var r=e,i=t,o=c.bind(this,n);this.off("dispose",o),e.nodeName?(m.off(r,i,o),m.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},e.prototype.one=function(e,t,n){var r=this,i=arguments;return"string"==typeof e||Array.isArray(e)?m.one(this.el_,e,c.bind(this,t)):!function(){var o=e,a=t,s=c.bind(r,n),l=function u(){r.off(o,a,u),s.apply(null,i)};l.guid=s.guid,r.on(o,a,l)}(),this},e.prototype.trigger=function(e,t){return m.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return u.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return u.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return u.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return u.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return u.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return u.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return(null===t||t!==t)&&(t=0),this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+_["default"](e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var n=s["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}else if(this.el_.currentStyle){var r="offset"+_["default"](e);t=this.el_[r]}return t=parseFloat(t)},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY,a=Math.sqrt(r*r+o*o);a>n&&(i=!1)}});var o=function(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(n){if(t=null,i===!0){var o=(new Date).getTime()-e;r>o&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=c.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=c.bind(this,e);var n=s["default"].setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){s["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=c.bind(this,e);var n=s["default"].setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){s["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){return e.components_||(e.components_={}),e.components_[t]=n,n},e.getComponent=function(t){return e.components_&&e.components_[t]?e.components_[t]:s["default"]&&s["default"].videojs&&s["default"].videojs[t]?(y["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},y["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);return r},e}();k.registerComponent("Component",k),n["default"]=k,t.exports=n["default"]},{"./utils/browser.js":239,"./utils/dom.js":242,"./utils/events.js":243,"./utils/fn.js":244,"./utils/guid.js":247,"./utils/log.js":250,"./utils/merge-options.js":251,"./utils/to-title-case.js":255,"global/window":80}],164:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../track-button.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/fn.js"),p=(r(c),e("./audio-track-menu-item.js")),h=i(p),f=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),r.tracks=n.audioTracks&&n.audioTracks(),e.call(this,n,r),this.el_.setAttribute("aria-label","Audio Menu")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new h["default"](this.player_,{selectable:!0,track:r}))}return e},t}(l["default"]);d["default"].registerComponent("AudioTrackButton",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":163,"../../utils/fn.js":244,"../track-button.js":195,"./audio-track-menu-item.js":165}],165:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/fn.js"),p=r(c),h=function(e){function t(n,r){var i=this;o(this,t);var a=r.track,s=n.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,e.call(this,n,r),this.track=a,s&&!function(){var e=p.bind(i,i.handleTracksChange);s.addEventListener("change",e),i.on("dispose",function(){s.removeEventListener("change",e)})}()}return a(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i===this.track&&(i.enabled=!0)}},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(l["default"]);d["default"].registerComponent("AudioTrackMenuItem",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":163,"../../menu/menu-item.js":207,"../../utils/fn.js":244}],166:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),s=r(a),l=e("./play-toggle.js"),u=(r(l),e("./time-controls/current-time-display.js")),d=(r(u),e("./time-controls/duration-display.js")),c=(r(d),e("./time-controls/time-divider.js")),p=(r(c),e("./time-controls/remaining-time-display.js")),h=(r(p),e("./live-display.js")),f=(r(h),e("./progress-control/progress-control.js")),m=(r(f),e("./fullscreen-toggle.js")),g=(r(m),e("./volume-control/volume-control.js")),y=(r(g),e("./volume-menu-button.js")),v=(r(y),e("./mute-toggle.js")),_=(r(v),e("./text-track-controls/chapters-button.js")),b=(r(_),e("./text-track-controls/descriptions-button.js")),S=(r(b),e("./text-track-controls/subtitles-button.js")),T=(r(S),e("./text-track-controls/captions-button.js")),w=(r(T),e("./audio-track-controls/audio-track-button.js")),k=(r(w),e("./playback-rate-menu/playback-rate-menu-button.js")),E=(r(k),e("./spacer-controls/custom-control-spacer.js")),C=(r(E),function(e){function t(n,r){i(this,t),e.call(this,n,r),this.hide(),this.on(n,"play",function(){this.show()})}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"
})},t}(s["default"]));C.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s["default"].registerComponent("ControlBar",C),n["default"]=C,t.exports=n["default"]},{"../component.js":163,"./audio-track-controls/audio-track-button.js":164,"./fullscreen-toggle.js":167,"./live-display.js":168,"./mute-toggle.js":169,"./play-toggle.js":170,"./playback-rate-menu/playback-rate-menu-button.js":171,"./progress-control/progress-control.js":176,"./spacer-controls/custom-control-spacer.js":180,"./text-track-controls/captions-button.js":183,"./text-track-controls/chapters-button.js":184,"./text-track-controls/descriptions-button.js":186,"./text-track-controls/subtitles-button.js":188,"./time-controls/current-time-display.js":191,"./time-controls/duration-display.js":192,"./time-controls/remaining-time-display.js":193,"./time-controls/time-divider.js":194,"./volume-control/volume-control.js":197,"./volume-menu-button.js":199}],167:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=(i(s),e("../button.js")),u=i(l),d=e("../component.js"),c=i(d),p=e("../utils/browser.js"),h=(r(p),function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"fullscreenchange",this.handleFullscreenChange),this.on("keydown",this.handleKeyPress),this.on("mouseover",this.clearOtherMenus),this.on("focus",this.clearOtherMenus),this.el_.setAttribute("style","cursor:pointer"),this.el_.setAttribute("title",this.localize("Fullscreen"))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?(this.el_.setAttribute("aria-label","Non-Fullscreen"),this.el_.setAttribute("title",this.localize("Non-Fullscreen"))):(this.el_.setAttribute("aria-label","Fullscreen"),this.el_.setAttribute("title",this.localize("Fullscreen"))),this.el_.focus()},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(u["default"]));h.prototype.controlText_="",c["default"].registerComponent("FullscreenToggle",h),n["default"]=h,t.exports=n["default"]},{"../button.js":160,"../component.js":163,"../utils/browser.js":239,"global/window":80}],168:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=i(s),u=e("../component.js"),d=i(u),c=e("../utils/dom.js"),p=r(c),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=p.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Stream Type"))+"</span>"+this.htmlEncode(this.localize("LIVE"))},{"aria-live":"off"}),t.appendChild(this.contentEl_),t.setAttribute("aria-label",this.htmlEncode(this.localize("LIVE"))),t.setAttribute("style","cursor:pointer"),t.setAttribute("title",this.localize("Go to live")),t},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t.prototype.handleClick=function(){this.clickHandler&&this.clickHandler()},t.prototype.setClickHandler=function(e){this.clickHandler=e},t}(l["default"]);d["default"].registerComponent("LiveDisplay",h),n["default"]=h,t.exports=n["default"]},{"../clickable-component.js":161,"../component.js":163,"../utils/dom.js":242}],169:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../button"),l=i(s),u=e("../component"),d=i(u),c=e("../utils/dom.js"),p=r(c),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"volumechange",this.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.on("focus",this.clearOtherMenus),this.el_.setAttribute("aria-label","Mute")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(!this.player_.muted())},t.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2),this.el_.setAttribute("aria-label",this.player_.muted()?"Unmute":"Mute");for(var n=0;4>n;n++)p.removeElClass(this.el_,"vjs-vol-"+n);p.addElClass(this.el_,"vjs-vol-"+t)},t}(l["default"]);h.prototype.controlText_="",d["default"].registerComponent("MuteToggle",h),n["default"]=h,t.exports=n["default"]},{"../button":160,"../component":163,"../utils/dom.js":242}],170:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=(i(s),e("../button.js")),u=i(l),d=e("../component.js"),c=i(d),p=e("../utils/browser.js"),h=(r(p),function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"play",this.handlePlay),this.on(n,"pause",this.handlePause),this.on("keydown",this.handleKeyPress),this.on("mouseover",this.clearOtherMenus),this.on("focus",this.clearOtherMenus),this.el_.setAttribute("style","cursor:pointer")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.el_.setAttribute("title",this.localize("Pause"))},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.el_.setAttribute("title",this.localize("Play"))},t}(u["default"]));h.prototype.controlText_="",c["default"].registerComponent("PlayToggle",h),n["default"]=h,t.exports=n["default"]},{"../button.js":160,"../component.js":163,"../utils/browser.js":239,"global/window":80}],171:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-button.js"),l=i(s),u=e("../../menu/menu.js"),d=i(u),c=e("./playback-rate-menu-item.js"),p=i(c),h=e("../../component.js"),f=i(h),m=e("../../utils/dom.js"),g=r(m),y=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateVisibility(),this.updateLabel(),this.on(n,"loadstart",this.updateVisibility),this.on(n,"ratechange",this.updateLabel)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new d["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new p["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.htmlEncode(this.player().playbackRate())+"x")},t}(l["default"]);y.prototype.controlText_="Playback Rate",f["default"].registerComponent("PlaybackRateMenuButton",y),n["default"]=y,t.exports=n["default"]},{"../../component.js":163,"../../menu/menu-button.js":206,"../../menu/menu.js":208,"../../utils/dom.js":242,"./playback-rate-menu-item.js":172}],172:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../menu/menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),d=function(e){function t(n,r){i(this,t);var o=r.rate,a=parseFloat(o,10);r.label=o,r.selected=1===a,e.call(this,n,r),this.label=o,this.rate=a,this.on(n,"ratechange",this.update)}return o(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(s["default"]);d.prototype.contentElType="button",u["default"].registerComponent("PlaybackRateMenuItem",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":163,"../../menu/menu-item.js":207}],173:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),d=r(u),c=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"progress",this.update)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress ",innerHTML:'<span class="vjs-control-text"><span>'+this.htmlEncode(this.localize("Loaded"))+"</span>: 0%</span>"});return t},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.el_.children,i=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(n,t);for(var o=0;o<e.length;o++){var a=e.start(o),s=e.end(o),l=r[o];l||(l=this.el_.appendChild(d.createEl())),l.style.left=i(a,n),l.style.width=i(s-a,n)}for(var o=r.length;o>e.length;o--)this.el_.removeChild(r[o-1])},t}(l["default"]);l["default"].registerComponent("LoadProgressBar",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242}],174:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/dom.js"),p=r(c),h=e("../../utils/fn.js"),f=r(h),m=e("../../utils/format-time.js"),g=i(m),y=e("lodash-compat/function/throttle"),v=i(y),_=function(e){function t(n,r){var i=this;o(this,t),e.call(this,n,r),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltip=p.createEl("div",{className:"vjs-time-tooltip"}),this.el().appendChild(this.tooltip),this.addClass("vjs-keep-tooltips-inside")),this.tooltipSpan=p.createEl("span",{className:"amp-time-tooltip"}),this.el().appendChild(this.tooltipSpan),this.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",v["default"](f.bind(i,i.handleMouseMove),25))}),this.wallClockTimeDisplaySettings=r.playerOptions.wallClockTimeDisplaySettings,this.showWallClockTime=!!this.wallClockTimeDisplaySettings&&this.wallClockTimeDisplaySettings.enabled}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-p.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=g["default"](e,this.player_.duration());if(this.showWallClockTime){var r=e/this.player_.duration(),i=this.player_.presentationTimeFromPercentageOfDvrWindow(r),o=this.player_.getWallClockTime(i,this.wallClockTimeDisplaySettings.useLocalTimeZone,this.wallClockTimeDisplaySettings.timezone,this.wallClockTimeDisplaySettings.controlBar12HourFormat,!0);n=o||n}if(this.el().style.left=t+"px",this.tooltipSpan.innerHtml=this.tooltipSpan.innerText=n,this.clampAmpTooltipPosition_(t),this.keepTooltipsInside){var a=this.clampPosition_(t),s=t-a+1,u=parseFloat(l["default"].getComputedStyle(this.tooltip).width),d=u/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(d-s)+"px"}},t.prototype.calculateDistance=function(e){return p.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat(l["default"].getComputedStyle(this.player().el()).width),n=parseFloat(l["default"].getComputedStyle(this.tooltip).width),r=n/2,i=e;return r>e?i=Math.ceil(r):e>t-r&&(i=Math.floor(t-r)),i},t.prototype.clampAmpTooltipPosition_=function(e){var t=parseFloat(l["default"].getComputedStyle(this.player().el()).width),n=this.tooltipSpan.offsetWidth/2,r=e;r=n>e?Math.ceil(this.tooltipSpan.offsetWidth-e):e>t-n?Math.floor(t-e):n,this.tooltipSpan.style.right=-r+"px"},t}(d["default"]);d["default"].registerComponent("MouseTimeDisplay",_),n["default"]=_,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242,"../../utils/fn.js":244,"../../utils/format-time.js":246,"global/window":80,"lodash-compat/function/throttle":29}],175:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/fn.js"),d=r(u),c=e("../../utils/dom.js"),p=(r(c),e("../../utils/format-time.js")),h=i(p),f=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(d.bind(this,this.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&this.addClass("vjs-keep-tooltips-inside")}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar ",innerHTML:'<span class="vjs-control-text"><span>'+this.htmlEncode(this.localize("Progress"))+"</span>: 0%</span>"});return t},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",h["default"](e,this.player_.duration()))},t}(l["default"]);l["default"].registerComponent("PlayProgressBar",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242,"../../utils/fn.js":244,"../../utils/format-time.js":246}],176:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=e("./seek-bar.js"),u=(r(l),e("./mouse-time-display.js")),d=(r(u),function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control",tabIndex:-1})},t}(s["default"]));d.prototype.options_={children:["seekBar"]},s["default"].registerComponent("ProgressControl",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":163,"./mouse-time-display.js":174,"./seek-bar.js":177}],177:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),u=e("../../slider/slider.js"),d=i(u),c=e("../../component.js"),p=i(c),h=e("./load-progress-bar.js"),f=(i(h),e("./play-progress-bar.js")),m=(i(f),e("./tooltip-progress-bar.js")),g=(i(m),e("./seek-handle.js")),y=(i(g),e("../../utils/fn.js")),v=(r(y),e("../../utils/format-time.js")),_=i(v),b=e("object.assign"),S=(i(b),e("../../utils/browser.js")),T=r(S),w=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.timeInterval=8e3,this.isIntervalEnabled=!0,this.timerFunction,this.videoWasPlaying=null,this.on(n,"timeupdate",this.updateProgress),this.on(n,"ended",this.playEnded),this.on(n,"play",this.enableAriaUpdate),this.on(n,"pause",this.handlePause),this.on(n,"seeked",this.handleManualSeeked),this.on(n,"playing",this.handlePlaying),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltipProgressBar=this.addChild("TooltipProgressBar"))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.playEnded=function(){this.isIntervalEnabled=!1,clearTimeout(this.timerFunction),this.updateProgress()},t.prototype.handleManualSeeked=function(){null!==this.videoWasPlaying&&(this.videoWasPlaying?this.player_.play():this.videoWasPlaying=null)},t.prototype.handlePause=function(){clearTimeout(this.timerFunction),this.isIntervalEnabled=!0,this.updateAriaAttributes(this.el_)},t.prototype.handlePlaying=function(){this.videoWasPlaying=null},t.prototype.enableAriaUpdate=function(){var e=this;this.timerFunction=this.setTimeout(function(){e.isIntervalEnabled=!e.isIntervalEnabled,e.enableAriaUpdate()},this.timeInterval,this)},t.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat(l["default"].getComputedStyle(this.player().el()).width),t=parseFloat(l["default"].getComputedStyle(this.tooltipProgressBar.tooltip).width),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(e-t/2)+"px",n.minWidth=Math.ceil(t/2)+"px",n.right="-"+t/2+"px"}},t.prototype.updateAriaAttributes=function(e){if(this.isIntervalEnabled){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();if(e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),0===t)e.setAttribute("aria-valuetext","0");else if(T.IS_SAFARI)e.setAttribute("aria-valuetext",_["default"](t,this.player_.duration()));else{for(var n=_["default"](t,this.player_.duration()),r=n.split(":"),i=0;i<r.length;i++)parseInt(r[i])<10&&(r[i]="0"+parseInt(r[i]));n=2===r.length?"00:"+r[0]+":"+r[1]:r[0]+":"+r[1]+":"+r[2],e.setAttribute("aria-valuetext",n)}this.isIntervalEnabled=!1}},t.prototype.getPercent=function(){var e=this.player_.duration(),t=0===e?0:this.player_.currentTime()/e;return t>=1?1:t},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),null===this.videoWasPlaying&&(this.videoWasPlaying=!this.player_.paused()),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.isIntervalEnabled=!0,this.updateAriaAttributes(this.el_)},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5),this.isIntervalEnabled=!0,this.updateAriaAttributes(this.el_)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5),this.isIntervalEnabled=!0,this.updateAriaAttributes(this.el_)},t}(d["default"]);w.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar","seekHandle"],barName:"playProgressBar",handleName:"seekHandle"},w.prototype.playerEvent="timeupdate",p["default"].registerComponent("SeekBar",w),n["default"]=w,t.exports=n["default"]},{"../../component.js":163,"../../slider/slider.js":216,"../../utils/browser.js":239,"../../utils/fn.js":244,"../../utils/format-time.js":246,"./load-progress-bar.js":173,"./play-progress-bar.js":175,"./seek-handle.js":178,"./tooltip-progress-bar.js":179,"global/window":80,"object.assign":73}],178:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/fn.js"),d=r(u),c=e("../../utils/dom.js"),p=(r(c),function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.update),n.ready(d.bind(this,this.update))}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-slider-handle ",innerHTML:'<span class="vjs-control-text">Seekbar Handle</span>'});return t},t.prototype.update=function(){this.player_.controlBar&&this.player_.controlBar.progressControl&&this.player_.controlBar.progressControl.seekBar&&this.player_.controlBar.progressControl.seekBar.playProgressBar&&(this.el().style.left=this.player_.controlBar.progressControl.seekBar.playProgressBar.el_.style.width)},t}(l["default"]));l["default"].registerComponent("SeekHandle",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242,"../../utils/fn.js":244}],179:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/fn.js"),d=r(u),c=e("../../utils/dom.js"),p=(r(c),e("../../utils/format-time.js")),h=i(p),f=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(d.bind(this,this.updateDataAttr))}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=h["default"](e,this.player_.duration());this.el_.setAttribute("data-current-time",t),this.tooltip.innerHTML=t},t}(l["default"]);l["default"].registerComponent("TooltipProgressBar",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242,"../../utils/fn.js":244,"../../utils/format-time.js":246}],180:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./spacer.js"),s=r(a),l=e("../../component.js"),u=r(l),d=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(s["default"]);u["default"].registerComponent("CustomControlSpacer",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":163,"./spacer.js":181}],181:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(s["default"]);s["default"].registerComponent("Spacer",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":163}],182:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0
}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),d=function(e){function t(n,r){i(this,t),r.track={kind:r.kind,player:n,label:"Settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1,e.call(this,n,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}return o(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(s["default"]);u["default"].registerComponent("CaptionSettingsMenuItem",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":163,"./text-track-menu-item.js":190}],183:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-button.js"),s=r(a),l=e("../../component.js"),u=r(l),d=e("./caption-settings-menu-item.js"),c=r(d),p=function(e){function t(n,r,o){i(this,t),e.call(this,n,r,o),this.el_.setAttribute("aria-label","Captions Menu"),this.el_.setAttribute("title",this.localize("Captions Menu")),this.el_.setAttribute("role","region")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new c["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(s["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",u["default"].registerComponent("CaptionsButton",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":163,"./caption-settings-menu-item.js":182,"./text-track-button.js":189}],184:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("./text-track-menu-item.js"),p=i(c),h=e("./chapters-track-menu-item.js"),f=i(h),m=e("../../menu/menu.js"),g=i(m),y=e("../../utils/dom.js"),v=r(y),_=e("../../utils/fn.js"),b=(r(_),e("../../utils/to-title-case.js")),S=i(b),T=e("global/window"),w=(i(T),function(e){function t(n,r,i){o(this,t),e.call(this,n,r,i),this.el_.setAttribute("aria-label","Chapters Menu"),this.el_.setAttribute("title",this.localize("Chapters Menu"))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=[],t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new p["default"](this.player_,{track:r}))}return e},t.prototype.createMenu=function(){for(var e=this,t=this.player_.textTracks()||[],n=void 0,r=this.items||[],i=t.length-1;i>=0;i--){var o=t[i];if(o.kind===this.kind_){n=o;break}}var a=new g["default"](this.player_),s=v.createEl("li",{className:"vjs-menu-title",innerHTML:S["default"](this.kind_),tabIndex:-1});if(a.children_.unshift(s),v.insertElFirst(s,a.contentEl()),n&&null==n.cues){n.mode="hidden";var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(n);l&&l.addEventListener("load",function(){return e.update()})}if(n&&n.cues&&n.cues.length>0)for(var u=n.cues,d=void 0,i=0,c=u.length;c>i;i++){d=u[i];var p=new f["default"](this.player_,{track:n,cue:d});r.push(p),a.addChild(p)}return r.length>0&&this.show(),this.items=r,a},t}(l["default"]));w.prototype.kind_="chapters",w.prototype.controlText_="Chapters",d["default"].registerComponent("ChaptersButton",w),n["default"]=w,t.exports=n["default"]},{"../../component.js":163,"../../menu/menu.js":208,"../../utils/dom.js":242,"../../utils/fn.js":244,"../../utils/to-title-case.js":255,"./chapters-track-menu-item.js":185,"./text-track-button.js":189,"./text-track-menu-item.js":190,"global/window":80}],185:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/fn.js"),p=r(c),h=function(e){function t(n,r){o(this,t);var i=r.track,a=r.cue,s=n.currentTime();r.label=a.text,r.selected=a.startTime<=s&&s<a.endTime,e.call(this,n,r),this.track=i,this.cue=a,i.addEventListener("cuechange",p.bind(this,this.update))}return a(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(l["default"]);d["default"].registerComponent("ChaptersTrackMenuItem",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":163,"../../menu/menu-item.js":207,"../../utils/fn.js":244}],186:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/fn.js"),p=r(c),h=function(e){function t(n,r,i){var a=this;o(this,t),e.call(this,n,r,i),this.el_.setAttribute("aria-label","Descriptions Menu"),this.el_.setAttribute("title",this.localize("Descriptions Menu"));var s=n.textTracks();s&&!function(){var e=p.bind(a,a.handleTracksChange);s.addEventListener("change",e),a.on("dispose",function(){s.removeEventListener("change",e)})}()}return a(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,n=0,r=e.length;r>n;n++){var i=e[n];if(i.kind!==this.kind_&&"showing"===i.mode){t=!0;break}}t?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);h.prototype.kind_="descriptions",h.prototype.controlText_="Descriptions",d["default"].registerComponent("DescriptionsButton",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":163,"../../utils/fn.js":244,"./text-track-button.js":189}],187:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),d=e("../../utils/to-title-case.js"),c=r(d),p=function(e){function t(n,r){i(this,t),r.track={kind:r.kind,player:n,label:c["default"](r.kind)+" Off","default":!1,mode:"disabled"},r.selectable=!0,e.call(this,n,r),this.selected(!0)}return o(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;r>n;n++){var i=e[n];if(i.kind===this.track.kind&&"showing"===i.mode){t=!1;break}}this.selected(t)},t}(s["default"]);u["default"].registerComponent("OffTextTrackMenuItem",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":163,"../../utils/to-title-case.js":255,"./text-track-menu-item.js":190}],188:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-button.js"),s=r(a),l=e("../../component.js"),u=r(l),d=function(e){function t(n,r,o){i(this,t),e.call(this,n,r,o),this.el_.setAttribute("aria-label","Subtitles Menu"),this.el_.setAttribute("title",this.localize("Subtitles Menu")),this.el_.setAttribute("role","region")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){e.prototype.update.call(this);var t=1;this.items&&this.items.length>t?this.show():this.hide()},t}(s["default"]);d.prototype.kind_="subtitles",d.prototype.controlText_="Subtitles",u["default"].registerComponent("SubtitlesButton",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":163,"./text-track-button.js":189}],189:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../track-button.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/fn.js"),p=(r(c),e("./text-track-menu-item.js")),h=i(p),f=e("./off-text-track-menu-item.js"),m=i(f),g=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),r.tracks=n.textTracks(),e.call(this,n,r)}return a(t,e),t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.push(new m["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new h["default"](this.player_,{selectable:!0,track:r}))}return e},t}(l["default"]);d["default"].registerComponent("TextTrackButton",g),n["default"]=g,t.exports=n["default"]},{"../../component.js":163,"../../utils/fn.js":244,"../track-button.js":195,"./off-text-track-menu-item.js":187,"./text-track-menu-item.js":190}],190:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/fn.js"),p=r(c),h=e("global/window"),f=i(h),m=e("global/document"),g=i(m),y=function(e){function t(n,r){var i=this;o(this,t);var a=r.track,s=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected=a["default"]||"showing"===a.mode,e.call(this,n,r),this.track=a,s&&!function(){var e=p.bind(i,i.handleTracksChange,i.id_);s.addEventListener("change",e),i.on("dispose",function(){s.removeEventListener("change",e)})}(),s&&void 0===s.onchange&&!function(){var e=void 0;i.on(["tap","click"],function(){if("object"!=typeof f["default"].Event)try{e=new f["default"].Event("change")}catch(t){}e||(e=g["default"].createEvent("Event"),e.initEvent("change",!0,!0)),s.dispatchEvent(e)})}()}return a(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o.mode=o===this.track?"showing":"disabled")}},t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},t}(l["default"]);d["default"].registerComponent("TextTrackMenuItem",y),n["default"]=y,t.exports=n["default"]},{"../../component.js":163,"../../menu/menu-item.js":207,"../../utils/fn.js":244,"global/document":79,"global/window":80}],191:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),d=r(u),c=e("../../utils/format-time.js"),p=i(c),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateContent),this.wallClockTimeDisplaySettings=r.playerOptions.wallClockTimeDisplaySettings,this.showWallClockTime=!!this.wallClockTimeDisplaySettings&&this.wallClockTimeDisplaySettings.enabled}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=d.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Current Time"))+" </span>0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();if(e=p["default"](e,this.player_.duration()),this.showWallClockTime){var t=this.player_.getWallClockTime(null,this.wallClockTimeDisplaySettings.useLocalTimeZone,this.wallClockTimeDisplaySettings.timezone,this.wallClockTimeDisplaySettings.controlBar12HourFormat,!0);e=t||e}var n=this.localize("Current Time");e!==this.time_&&(this.time_=e,this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(n)+"</span> "+e)},t}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242,"../../utils/format-time.js":246}],192:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),d=r(u),c=e("../../utils/format-time.js"),p=i(c),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.wallClockTimeDisplaySettings=r.playerOptions.wallClockTimeDisplaySettings,this.showWallClockTime=!!this.wallClockTimeDisplaySettings&&this.wallClockTimeDisplaySettings.enabled,this.showWallClockTime?this.on(n,"timeupdate",this.updateContentWallClockTime):this.on(n,"durationchange",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=d.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Duration Time"))+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var t=this.localize("Duration Time"),n=p["default"](e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(t)+"</span> "+n}},t.prototype.updateContentWallClockTime=function(){var e=null,t=this.player_.playableWindowEndInSec()||this.player_.duration();if(e=this.player_.getWallClockTime(t,this.wallClockTimeDisplaySettings.useLocalTimeZone,this.wallClockTimeDisplaySettings.timezone,this.wallClockTimeDisplaySettings.controlBar12HourFormat,!0)){if(this.duration_!==e){this.duration_=e;var n=this.localize("End Time");this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(n)+"</span> "+e}}else this.updateContent()},t}(l["default"]);l["default"].registerComponent("DurationDisplay",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242,"../../utils/format-time.js":246}],193:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),d=r(u),c=e("../../utils/format-time.js"),p=i(c),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateContent),this.on(n,"durationchange",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=d.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Remaining Time"))+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var e=this.localize("Remaining Time"),t=p["default"](this.player_.remainingTime());t!==this.formattedTime_&&(this.formattedTime_=t,this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(e)+"</span> -"+t)}},t}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":163,"../../utils/dom.js":242,"../../utils/format-time.js":246}],194:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t.prototype.blank=function(){this.el().innerHTML="<div><span></span></div>"},t.prototype.unblank=function(){this.el().innerHTML="<div><span>/</span></div>"},t}(s["default"]);s["default"].registerComponent("TimeDivider",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":163}],195:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../menu/menu-button.js"),l=i(s),u=e("../component.js"),d=i(u),c=e("../utils/fn.js"),p=r(c),h=function(e){function t(n,r){o(this,t);var i=r.tracks;if(e.call(this,n,r),this.items.length<=1&&this.hide(),i){var a=p.bind(this,this.update);i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),this.player_.on("dispose",function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)})}}return a(t,e),t}(l["default"]);d["default"].registerComponent("TrackButton",h),n["default"]=h,t.exports=n["default"]},{"../component.js":163,"../menu/menu-button.js":206,"../utils/fn.js":244}],196:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../slider/slider.js"),l=i(s),u=e("../../component.js"),d=i(u),c=e("../../utils/fn.js"),p=r(c),h=e("./volume-level.js"),f=(i(h),function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"volumechange",this.updateARIAAttributes),n.ready(p.bind(this,this.updateARIAAttributes))}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar "},{"aria-label":"volume level"});return t},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t}(l["default"]));f.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},f.prototype.playerEvent="volumechange",d["default"].registerComponent("VolumeBar",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":163,"../../slider/slider.js":216,"../../utils/fn.js":244,"./volume-level.js":198}],197:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=e("./volume-bar.js"),u=(r(l),function(e){function t(n,r){i(this,t),e.call(this,n,r),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(s["default"]));u.prototype.options_={children:["volumeBar"]},s["default"].registerComponent("VolumeControl",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":163,"./volume-bar.js":196}],198:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(s["default"]);s["default"].registerComponent("VolumeLevel",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":163}],199:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/fn.js"),l=i(s),u=e("../component.js"),d=r(u),c=e("../popup/popup.js"),p=r(c),h=e("../popup/popup-button.js"),f=r(h),m=e("./mute-toggle.js"),g=r(m),y=e("./volume-control/volume-bar.js"),v=r(y),_=function(e){function t(n){function r(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.vertical=!i.inline),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical,e.call(this,n,i),this.on(n,"volumechange",this.volumeUpdate),this.on(n,"loadstart",this.volumeUpdate),r.call(this),this.on(n,"loadstart",r)}return a(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new p["default"](this.player_,{contentElType:"div"}),t=new v["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(){g["default"].prototype.handleClick.call(this),this.buttonPressed_=!this.buttonPressed_,e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(f["default"]);_.prototype.volumeUpdate=g["default"].prototype.update,_.prototype.controlText_="Volume",_.prototype.buttonPressed_=!1,_.prototype.unpressButton=function(){this.menuContent.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.buttonPressed_=!1},d["default"].registerComponent("VolumeMenuButton",_),n["default"]=_,t.exports=n["default"]},{"../component.js":163,"../popup/popup-button.js":212,"../popup/popup.js":213,"../utils/fn.js":244,"./mute-toggle.js":169,"./volume-control/volume-bar.js":196}],200:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=i(s),u=e("./modal-dialog"),d=i(u),c=e("./utils/dom"),p=r(c),h=e("./utils/merge-options"),f=i(h),m=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.contentEl_.setAttribute("tabIndex",0),this.on(n,"error",this.open)}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t.prototype.open=function(){e.prototype.open.call(this),this.opened_&&(p.textContent(this.descEl_,this.content()),this.player_.controlBar&&this.player_.controlBar.hide())},t.prototype.close=function(){this.hasBeenOpened_===!0&&this.player_.controlBar&&this.player_.controlBar.show(),e.prototype.close.call(this)},t}(d["default"]);m.prototype.options_=f["default"](d["default"].prototype.options_,{fillAlways:!0,temporary:!1,
uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",m),n["default"]=m,t.exports=n["default"]},{"./component":163,"./modal-dialog":209,"./utils/dom":242,"./utils/merge-options":251}],201:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var i=e("./utils/events.js"),o=r(i),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.on(this,e,t),this.addEventListener=n},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){o.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.one(this,e,t),this.addEventListener=n},a.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=o.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),o.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,n["default"]=a,t.exports=n["default"]},{"./utils/events.js":243}],202:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("./utils/log"),o=r(i),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},s=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){e.apply(this,arguments)},r={};"object"==typeof t?("function"==typeof t.init&&(o["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),a(n,e);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};n["default"]=s,t.exports=n["default"]},{"./utils/log":250}],203:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var i=e("global/document"),o=r(i),a={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=s[0],u=void 0,d=0;d<s.length;d++)if(s[d][1]in o["default"]){u=s[d];break}if(u)for(var d=0;d<u.length;d++)a[l[d]]=u[d];n["default"]=a,t.exports=n["default"]},{"global/document":79}],204:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=i(s),u=e("./utils/dom.js"),d=r(u),c=e("global/document"),p=(i(c),function(e){function t(n,r){o(this,t),e.call(this,n,r)}return a(t,e),t.prototype.createEl=function(){this.contentEl_=d.createEl("span",{});var t=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(this.contentEl_),t},t}(l["default"]));l["default"].registerComponent("LoadingSpinner",p),n["default"]=p,t.exports=n["default"]},{"./component":163,"./utils/dom.js":242,"global/document":79}],205:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("object.assign"),o=r(i),a=function l(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&o["default"](this,e),this.message||(this.message=l.defaultMessages[this.code]||"")};a.prototype.code=0,a.prototype.message="",a.prototype.status=null,a.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],a.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<a.errorTypes.length;s++)a[a.errorTypes[s]]=s,a.prototype[a.errorTypes[s]]=s;n["default"]=a,t.exports=n["default"]},{"object.assign":73}],206:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../tooltip-clickable.js"),l=i(s),u=e("../component.js"),d=i(u),c=e("./menu.js"),p=i(c),h=e("../utils/dom.js"),f=r(h),m=e("../utils/fn.js"),g=r(m),y=e("../utils/to-title-case.js"),v=i(y),_=e("../utils/browser.js"),b=r(_),S=e("global/window"),T=(i(S),e("../utils/close-other-menu.js")),w=i(T),k=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.call(this,n,r),this.update(),this.enabled_=!0,this.el_.setAttribute("aria-haspopup","true"),this.el_.setAttribute("role","menuitem"),this.on("keydown",this.handleSubmenuKeyPress),this.on("mouseover",this.handleMouseOver),this.on("mouseleave",this.handleMouseLeave),this.on("focus",this.clearOtherMenus),this.on("focusin",this.handleFocusin),this.on("focusout",this.clearKeyboardTooltip);var i=this;n.on("userinactive",function(){i.buttonPressed_&&(i.unpressButton(),i.el_.focus(),i.el_.setAttribute("aria-hidden","true"))})}return a(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new p["default"](this.player_);if(this.options_.title){var t=f.createEl("li",{className:"vjs-menu-title",innerHTML:this.htmlEncode(v["default"](this.options_.title)),tabIndex:-1});e.children_.unshift(t),f.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFocusin=function(){this.buttonPressed_||e.prototype.handleFocusin.call(this)},t.prototype.hasJustBeenClicked=function(){return!1},t.prototype.handleClick=function(){this.hasJustBeenClicked()||(this.clearOtherMenus(),this.one(this.menu.contentEl(),"mouseleave",g.bind(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton())},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){(27===e.which||9===e.which)&&(this.buttonPressed_&&(this.unpressButton(),27===e.which&&this.el_.focus()),9!==e.which&&e.preventDefault())},t.prototype.handleMouseOver=function(){this.clearOtherMenus(),this.buttonPressed_||this.pressButton(),this.clearKeyboardTooltip()},t.prototype.handleMouseLeave=function(){this.unpressButton()},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){if(this.enabled_){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false");var e=this.player().getChild("textTrackSettings").el_.className;b.IS_ANDROID&&e.indexOf("vjs-hidden")>=0&&this.el_.focus()}},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t.prototype.clearOtherMenus=function(){w["default"](this),this.clearKeyboardTooltip()},t}(l["default"]);d["default"].registerComponent("MenuButton",k),n["default"]=k,t.exports=n["default"]},{"../component.js":163,"../tooltip-clickable.js":223,"../utils/browser.js":239,"../utils/close-other-menu.js":241,"../utils/dom.js":242,"../utils/fn.js":244,"../utils/to-title-case.js":255,"./menu.js":208,"global/window":80}],207:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../clickable-component.js"),s=r(a),l=e("../component.js"),u=r(l),d=e("object.assign"),c=r(d),p=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.selectable=r.selectable,this.selected(r.selected),this.selectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitem")}return o(t,e),t.prototype.createEl=function(t,n,r){return e.prototype.createEl.call(this,"li",c["default"]({className:"vjs-menu-item",innerHTML:this.htmlEncode(this.localize(this.options_.label)),tabIndex:-1},n),r=c["default"]({"aria-label":this.htmlEncode(this.localize(this.options_.label))},r))},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(s["default"]);u["default"].registerComponent("MenuItem",p),n["default"]=p,t.exports=n["default"]},{"../clickable-component.js":161,"../component.js":163,"object.assign":73}],208:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),u=e("../utils/dom.js"),d=r(u),c=e("../utils/fn.js"),p=r(c),h=e("../utils/events.js"),f=r(h),m=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.focusedChild_=-1,this.on("keydown",this.handleKeyPress)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=d.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),f.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e,!0)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e,!1)},t.prototype.focus=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]||arguments[1],n=this.children().slice(),r=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);r&&n.shift(),n.length>0&&(0>e?e=0:e>=n.length&&(e=n.length-1),e=this.getNextVisibleElement(e,n,t),-1!==e&&(this.focusedChild_=e,n[e].el_.focus()))},t.prototype.getNextVisibleElement=function(e,t,n){for(;e>=0&&e<t.length;){if(d.isVisible(t[e].el_))return e;n?e+=1:e-=1}return-1},t}(l["default"]);l["default"].registerComponent("Menu",m),n["default"]=m,t.exports=n["default"]},{"../component.js":163,"../utils/dom.js":242,"../utils/events.js":243,"../utils/fn.js":244}],209:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./utils/dom"),l=i(s),u=e("./utils/fn"),d=i(u),c=e("./utils/log"),p=(r(c),e("./component")),h=r(p),f=e("./close-button"),m=(r(f),"vjs-modal-dialog"),g=27,y=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=l.createEl("div",{className:m+"-content"},{role:"document"}),this.descEl_=l.createEl("p",{className:m+"-description vjs-offscreen",id:this.el().getAttribute("aria-describedby")}),l.textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return m+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===g&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",d.bind(this,this.handleKeyPress)),this.playerControlsEnabled_=e.controls(),this.playerControlsEnabled_&&e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",d.bind(this,this.handleKeyPress)),this.playerControlsEnabled_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function n(e){if("boolean"==typeof e){var n=this.closeable_=!!e,t=this.getChild("closeButton");if(n&&!t){var r=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)}!n&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n&&n.removeChild(t),this.empty(),l.insertContent(t,e),this.trigger("modalfill"),n&&(r?n.insertBefore(t,r):n.appendChild(t)),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(h["default"]);y.prototype.options_={temporary:!0},h["default"].registerComponent("ModalDialog",y),n["default"]=y,t.exports=n["default"]},{"./close-button":162,"./component":163,"./utils/dom":242,"./utils/fn":244,"./utils/log":250}],210:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component.js"),l=i(s),u=e("global/document"),d=i(u),c=e("global/window"),p=i(c),h=e("./utils/events.js"),f=r(h),m=e("./utils/dom.js"),g=r(m),y=e("./utils/fn.js"),v=r(y),_=e("./utils/guid.js"),b=r(_),S=e("./utils/browser.js"),T=r(S),w=e("./utils/log.js"),k=i(w),E=e("./utils/to-camel-case.js"),C=i(E),P=e("./utils/to-title-case.js"),I=i(P),M=e("./utils/time-ranges.js"),A=e("./utils/buffer.js"),R=e("./utils/stylesheet.js"),j=r(R),O=e("./fullscreen-api.js"),D=i(O),x=e("./media-error.js"),L=i(x),N=e("safe-json-parse/tuple"),B=i(N),F=e("object.assign"),U=i(F),z=e("./utils/merge-options.js"),H=i(z),V=e("./tracks/text-track-list-converter.js"),q=i(V),W=e("./tracks/audio-track-list.js"),K=i(W),G=e("./tracks/video-track-list.js"),J=i(G),Y=e("./tech/loader.js"),Z=(i(Y),e("./FullscreenOutline.js")),Q=(i(Z),e("./poster-image.js")),X=(i(Q),e("./tracks/text-track-display.js")),$=(i(X),e("./loading-spinner.js")),ee=(i($),e("./aria-alerts.js")),te=(i(ee),e("./big-play-button.js")),ne=(i(te),e("./control-bar/control-bar.js")),re=(i(ne),e("./error-display.js")),ie=(i(re),e("./tracks/text-track-settings.js")),oe=(i(ie),e("./modal-dialog")),ae=i(oe),se=e("./utils/highContrastCheck.js"),le=i(se),ue=e("./utils/font-checker.js"),de=i(ue),ce=e("./tech/tech.js"),pe=i(ce),he=e("./tech/html5.js"),fe=(i(he),function(e){function t(n,r,i,a){var s=this;if(o(this,t),n.id=n.id||"vjs_video_"+b.newGUID(),r=U["default"](t.getTagSettings(n),r),AMP.Logger.setLogConfig(r.traceConfig),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var l=n.closest("[lang]");l&&(r.language=l.getAttribute("lang"))}else for(var u=n;u&&1===u.nodeType;){if(g.getElAttributes(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}if(e.call(this,null,r,i),this.multiPlayerContainerDiv=null,this.styleEl_=null,this.sharedStyleAndParentDiv=!1,this.mainPlayer=null,a&&(this.multiPlayerContainerDiv=a.multiPlayerContainerDiv,this.styleEl_=a.styleEl_,this.sharedStyleAndParentDiv=!0,this.mainPlayer=a),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=n,this.tagAttributes=n&&g.getElAttributes(n),this.language(this.options_.language),r.languages?!function(){var e={};Object.getOwnPropertyNames(r.languages).forEach(function(t){e[t.toLowerCase()]=r.languages[t]}),s.languages_=e}():this.languages_=t.prototype.options_.languages,this.cache_={},r.muted&&(this.cache_.muted=!0),this.cache_.volume=1,this.poster_=r.poster||"",n.poster="",this.controls_=!!r.controls,this.adClickEnabled_=!!r.adClickEnabled,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var d=H["default"](this.options_);this.options_.playerOptions=d,this.initChildren(),this.isAudio("audio"===n.nodeName.toLowerCase()),this.addClass(this.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),this.isAudio()?(this.el_.setAttribute("aria-label",r.ariaLabel||"audio player"),this.el_.setAttribute("title","Press space key to play/pause the audio")):(this.el_.setAttribute("aria-label",r.ariaLabel||"video player"),this.el_.setAttribute("title","Press space key to play/pause the video")),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),this.addClass("vjs-player"),T.IS_IOS||this.addClass("vjs-workinghover"),t.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_),this.addThrottledWindowResizeListener(function(){this.updateStyleEl_()},200,this),r.plugins&&!function(){var e=r.plugins;Object.getOwnPropertyNames(e).forEach(function(t){if("function"==typeof this[t])try{this[t](e[t])}catch(n){k["default"].error("plugin "+t+" failed:",n)}else k["default"].error("Unable to find plugin:",t)},s)}(),this.on("keydown",this.handleKeyPress)}return a(t,e),t.prototype.dispose=function(){this.el_&&(this.trigger("disposing"),this.trigger("dispose"),this.off("dispose")),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this),this.sharedStyleAndParentDiv||(this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),this.multiPlayerContainerDiv&&this.multiPlayerContainerDiv.parentNode&&this.multiPlayerContainerDiv.parentNode.removeChild(this.multiPlayerContainerDiv),this.multiPlayerContainerDiv&&g.removeElData(this.multiPlayerContainerDiv),this.multiPlayerContainerDiv=null)},t.prototype.createEl=function(){var t=!1;this.multiPlayerContainerDiv||(this.multiPlayerContainerDiv=e.prototype.createEl.call(this,"div"),this.multiPlayerContainerDiv.playerId=this.tag.id,this.multiPlayerContainerDiv.player=this,t=!0);var n=this.el_=e.prototype.createEl.call(this,"div"),r=this.tag;r.removeAttribute("width"),r.removeAttribute("height");var i=g.getElAttributes(r),o=this;if(Object.getOwnPropertyNames(i).forEach(function(e){t&&("class"===e?o.multiPlayerContainerDiv.className=i[e]:o.multiPlayerContainerDiv.setAttribute(e,i[e]))}),null===this.mainPlayer?(this.el_.setAttribute("tabIndex",this.multiPlayerContainerDiv.getAttribute("tabIndex")),this.multiPlayerContainerDiv.setAttribute("tabIndex","-1")):this.el_.setAttribute("tabIndex",this.mainPlayer.el_.getAttribute("tabIndex")),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=n.player=this,this.addClass("vjs-paused"),p["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0&&null===this.styleEl_){this.styleEl_=j.createStyleElement("vjs-styles-dimensions");var a=g.$(".vjs-styles-defaults"),s=g.$("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=r.getElementsByTagName("a"),u=0;u<l.length;u++){var d=l.item(u);g.addElClass(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,t&&r.parentNode.insertBefore(this.multiPlayerContainerDiv,r),this.multiPlayerContainerDiv.appendChild(n),g.insertElFirst(r,n),this.children_.unshift(r),this.el_=n,le["default"](),de["default"](),n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return-1!==(""+this[n]).indexOf("%")?parseInt(this.multiPlayerContainerDiv["offset"+I["default"](e)],10):this[n]||0;if(""===t)this[n]=void 0;else if(-1!==(""+t).indexOf("%"))this.multiPlayerContainerDiv.style[e]=t,this[n]=t;else if("auto"===t)this._autoDimension=e;else{var r=parseFloat(t);if(isNaN(r))return k["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,void(e?g.addElClass(this.multiPlayerContainerDiv,"vjs-fluid"):g.removeElClass(this.multiPlayerContainerDiv,"vjs-fluid")))},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(p["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=20,i=v.bind(this,function(){var e=void 0,t=void 0,n=void 0,o=void 0;void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?n=this.aspectRatio_:this.videoWidth()?(n=this.videoWidth()+":"+this.videoHeight(),1080===this.videoHeight()&&1920===this.videoWidth()&&r--&&this.setTimeout(i,100)):(n="16:9",r--&&this.setTimeout(i,100));var a=n.split(":"),s=a[1]/a[0];e=void 0!==this.width_?this.dimension("width"):void 0!==this.height_?this.height_/s:this.videoWidth()||300,t=void 0!==this.height_?this.dimension("height"):e*s;var l=g.getElAttributes(this.multiPlayerContainerDiv);o=/^[^a-zA-Z]/.test(l.id)?"dimensions-"+l.id:l.id+"-dimensions",null!==this.mainPlayer&&this.mainPlayer.sizeCal||(g.addElClass(this.multiPlayerContainerDiv,o),j.setTextContent(this.styleEl_,"\n                ."+o+" {\n                        width: "+e+"px;\n                        height: "+t+"px;\n                    }\n\n                ."+o+".vjs-fluid {\n                        padding-top: "+100*s+"%;\n                    }\n            "),this.sizeCal=!0)});i()},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&"Html5FairPlayHLS"!==e&&this.tag&&(pe["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=this.id()+"_"+e+"_api_"+parseInt(1e4*Math.random()),i=U["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:t,playerId:this.id(),techId:r,videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"],staleDataTimeLimitInSec:this.options_.staleDataTimeLimitInSec},this.options_[C["default"](e)]);i.playerOptions=U["default"]({},this.options_),this.tag&&(i.tag=this.tag),i.originalTagAttributes=this.tagAttributes,t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime),this.cache_.src=t.src);var o=pe["default"].getTech(e);o||(o=l["default"].getComponent(e)),this.tech_=new o(i),this.tech_.ready(v.bind(this,this.handleTechReady_),!0),q["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"sourceset",this.handleTechSourceSet_),this.on(this.tech_,"downloadbitratechanged",this.handleTechDownloadBitrateChanged_),this.on(this.tech_,"playbackbitratechanged",this.handleTechPlaybackBitrateChanged_),this.on(this.tech_,"splicewaiting",this.handleTechSpliceWaiting_),this.on(this.tech_,"emsgAvailable",this.handleTechEmsgAvailable_),this.on(this.tech_,"saveMemoryLog",function(){n.trigger("saveMemoryLog")}),this.on(this.tech_,"drmselected",function(){n.trigger("drmselected")});var a=["aesKeyFetchCompleted","manifestFetchCompleted","initialBandwidthEstimationCompleted","mediaSourceSrcSetResolved","javascriptBridgeCreated"];a.forEach(function(e){var t=this;this.on(this.tech_,e,function(){t.trigger(e)})},this),this.on(this.tech_,"decryptorInitialized",function(e){
n.trigger("decryptorInitialized",{type:e.message})}),this.on(this.tech_,"decryptionFailed",function(e){n.trigger("decryptionFailed",{url:e.message})}),this.usingNativeControls(this.techGet_("controls")),(this.controls()&&!this.usingNativeControls()||!this.controls()&&this.adClickEnabled_)&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=q["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw p["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.tech_&&(this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_))},t.prototype.removeTechControlsListeners_=function(){this.tech_&&(this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_))},t.prototype.handleTechSourceSet_=function(){this.trigger("sourceset")},t.prototype.handleTechDownloadBitrateChanged_=function(){this.trigger("downloadbitratechanged")},t.prototype.handleTechPlaybackBitrateChanged_=function(){this.trigger("playbackbitratechanged")},t.prototype.handleTechSpliceWaiting_=function(){this.trigger("splicewaiting")},t.prototype.handleTechEmsgAvailable_=function(e){this.trigger("emsgAvailable",{data:e.data})},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){k["default"]("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.removeClass("vjs-waiting"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing"),this.el_.setAttribute("title","")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-waiting"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause"),this.isAudio()?this.el_.setAttribute("title","Press space key to play/pause the audio"):this.el_.setAttribute("title","Press space key to play/pause the video")},t.prototype.handleTechProgress_=function(){this.trigger("progress")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended"),this.removeControlAriaHidden(this.controlBar)},t.prototype.handleTechDurationChange_=function(){this.duration(Math.round(this.techGet_("duration")));var e=function(e,t){null!=e&&(t?e.show():e.hide())},t=isFinite(this.duration());null!=this.controlBar&&(e(this.controlBar.progressControl,t),e(this.controlBar.currentTimeDisplay,t),e(this.controlBar.durationDisplay,t),e(this.controlBar.remainingTimeDisplay,t),t?this.controlBar.timeDivider.unblank():this.controlBar.timeDivider.blank())},t.prototype.handleTechClick_=function(e){0===e.button&&(this.controls()&&(this.paused()?this.play():this.pause()),this.trigger("tech-click"))},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?(g.addElClass(this.multiPlayerContainerDiv,"vjs-fullscreen"),g.removeElClass(this.multiPlayerContainerDiv,"vjs-fluid")):(this.fluid()&&g.addElClass(this.multiPlayerContainerDiv,"vjs-fluid"),g.removeElClass(this.multiPlayerContainerDiv,"vjs-fullscreen"),this.updateStyleEl_())},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechSuspend_=function(){this.trigger("suspend")},t.prototype.handleTechAbort_=function(){this.trigger("abort")},t.prototype.handleTechEmptied_=function(){this.trigger("emptied")},t.prototype.handleTechStalled_=function(){this.trigger("stalled")},t.prototype.handleTechLoadedMetaData_=function(){this.error(null),this.trigger("loadedmetadataInternal"),this.trigger("loadedmetadata")},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},t.prototype.handleTechTimeUpdate_=function(){if(this.trigger("timeupdate"),"AzureHtml5JS"===this.techName_){var e=this.currentTime(),t=this.duration();e>t&&this.duration(e)}},t.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},t.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},t.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(n){throw k["default"](n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?k["default"]("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(k["default"]("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):k["default"](t),t}},t.prototype.techGetWithParams_=function(e,t){if(this.tech_&&this.tech_.isReady_)try{var n;return(n=this.tech_)[e].apply(n,t)}catch(r){throw void 0===this.tech_[e]?k["default"]("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",r):"TypeError"===r.name?(k["default"]("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",r),this.tech_.isReady_=!1):k["default"](r),r}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){var t=this.techGet_("currentTime")||0;if(void 0!==e){this.trigger("currentTimeChanging",{time:e});var n=this.duration();return 0>=e?e=0:e>=n&&(e=n-.1),this.techCall_("setCurrentTime",e),t>e&&this.trigger("rewind"),this}return this.cache_.currentTime=t},t.prototype.getWallClockTime=function(e,t,n,r,i){return this.techGetWithParams_("getWallClockTime",[e,t,n,r,i])},t.prototype.restartCheckMediaWorkflowIfNeeded=function(){this.techCall_("restartCheckMediaWorkflowIfNeeded")},t.prototype.presentationTimeFromPercentageOfDvrWindow=function(e){return this.techGetWithParams_("presentationTimeFromPercentageOfDvrWindow",[e])},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,0>e&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_("buffered");return n&&n.length||(n=M.createTimeRange(0,0)),n},t.prototype.bufferedPercent=function(){return A.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(e?this.cache_.muted=!0:(this.cache_.muted=!1,void 0!==this.cache_.volume&&this.volume(this.cache_.volume)),this.techCall_("setMuted",e),this.trigger(e?"mute":"unmute"),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=D["default"];return this.isFullscreen(!0),e.requestFullscreen?(f.on(d["default"],e.fullscreenchange,v.bind(this,function t(){this.isFullscreen(d["default"][e.fullscreenElement]),this.isFullscreen()===!1&&f.off(d["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.multiPlayerContainerDiv[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=D["default"];return this.isFullscreen(!1),e.requestFullscreen?d["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=d["default"].documentElement.style.overflow,f.on(d["default"],"keydown",v.bind(this,this.fullWindowOnEscKey)),d["default"].documentElement.style.overflow="hidden",g.addElClass(d["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,f.off(d["default"],"keydown",this.fullWindowOnEscKey),d["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(d["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=I["default"](r[n]),o=pe["default"].getTech(i);if(o||(o=l["default"].getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else k["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(I["default"]).map(function(e){return[e,pe["default"].getTech(e)||l["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(k["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){return r=n(e,t),!!r||void 0})}),r},i=void 0,o=function(e){return function(t,n){return e(n,t)}},a=function(e,n){var r=e[0],i=e[1];return i.canPlaySource(n,t.options_[C["default"](r)])?{source:n,tech:r}:void 0};return i=this.options_.sourceOrder?r(e,n,o(a)):r(n,e,a),i||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=pe["default"].getTech(this.techName_);return t||(t=l["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[C["default"](this.techName_)])?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_(I["default"](this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this.techCall_("updatePlayerOptions",this.options_),this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this.techCall_("updatePlayerOptions",this.options_),this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this.techCall_("updatePlayerOptions",this.options_),this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){if(void 0===e)return this.error_||null;var t=0;if(null!==e&&(t=e.code||0),null===e)return this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this;if(!this.retryPlayerLoad(t)){this.error_=e instanceof L["default"]?e:new L["default"](e),this.checkWidewineHttpErrorScenario(e),this.addClass("vjs-error"),k["default"].error((this.getFullAmpVersion?this.getFullAmpVersion():"")+" (CODE:"+this.error_.code+" "+L["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_);var n=this;setTimeout(function(){n.trigger("error")},50)}return this},t.prototype.ended=function(){return this.techGet_("ended")},t.prototype.seeking=function(){return this.techGet_("seeking")},t.prototype.seekable=function(){return this.techGet_("seekable")},t.prototype.reportUserActivity=function(){this.userActivity_=!0},t.prototype.setControlAriaHidden=function(e){if(void 0!==e&&null!==e){void 0!==e.el_&&null!==e.el_&&e.el_.setAttribute("aria-hidden","true");for(var t=e.children(),n=0;n<t.length;n++){var r=t[n];void 0!==r.el_&&null!==r.el_&&(!r.hasClass("vjs-control")&&!r.hasClass("vjs-time-control")||r.hasClass("vjs-hidden")||r.hasClass("amp-control-disabled")?(r.hasClass("amp-controlbaricons-right")||r.hasClass("amp-controlbaricons-left")||r.hasClass("amp-controlbaricons-middle"))&&this.setControlAriaHidden(r):r.el_.setAttribute("aria-hidden","true"))}}},t.prototype.removeControlAriaHidden=function(e){if(void 0!==e&&null!==e){var t=e.children();void 0!==e.el_&&null!==e.el_&&e.el_.removeAttribute("aria-hidden");for(var n=0;n<t.length;n++){var r=t[n];void 0!==r.el_&&null!==r.el_&&(!r.hasClass("vjs-control")&&!r.hasClass("vjs-time-control")||r.hasClass("vjs-hidden")||r.hasClass("amp-control-disabled")?(r.hasClass("amp-controlbaricons-right")||r.hasClass("amp-controlbaricons-left")||r.hasClass("amp-controlbaricons-middle"))&&this.removeControlAriaHidden(r):r.el_.removeAttribute("aria-hidden"))}}},t.prototype.userActive=function(e){var t=g.hasElClass(this.multiPlayerContainerDiv,"vjs-user-active");return void 0!==e?(e=!!e,e!==t&&(e?(this.userActivity_=!0,g.removeElClass(this.multiPlayerContainerDiv,"vjs-user-inactive"),g.addElClass(this.multiPlayerContainerDiv,"vjs-user-active"),this.trigger("useractive"),this.removeControlAriaHidden(this.controlBar)):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),g.removeElClass(this.multiPlayerContainerDiv,"vjs-user-active"),g.addElClass(this.multiPlayerContainerDiv,"vjs-user-inactive"),this.trigger("userinactive"),this.setControlAriaHidden(this.controlBar))),this):t},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=v.bind(this,this.reportUserActivity),i=function(e){(e.screenX!==t||e.screenY!==n)&&(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_&&this.isVisible()){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){if(!this.userActivity_&&this.isVisible()){var e;if(null!==this.controlBar&&(void 0!==this.controlBar.audioTracksButton&&void 0!==this.controlBar.audioTracksButton.el_&&(e=this.controlBar.audioTracksButton.el_.getAttribute("aria-expanded")),void 0!==e&&"false"!==e||void 0===this.controlBar.captionsButton||void 0===this.controlBar.captionsButton.el_||(e=this.controlBar.captionsButton.el_.getAttribute("aria-expanded")),void 0!==e&&"false"!==e||void 0===this.controlBar.subtitlesButton||void 0===this.controlBar.subtitlesButton.el_||(e=this.controlBar.subtitlesButton.el_.getAttribute("aria-expanded")),void 0!==e&&"false"!==e||void 0===this.controlBar.moreOptionsButton||void 0===this.controlBar.moreOptionsButton.el_||(e=this.controlBar.moreOptionsButton.el_.getAttribute("aria-expanded")),void 0!==e&&"false"!==e||void 0===this.controlBar.playbackSpeedButton||void 0===this.controlBar.playbackSpeedButton.el_||(e=this.controlBar.playbackSpeedButton.el_.getAttribute("aria-expanded")),void 0!==e&&"false"!==e||void 0===this.controlBar.qualityButton||void 0===this.controlBar.qualityButton.el_||(e=this.controlBar.qualityButton.el_.getAttribute("aria-expanded")),void 0!==e&&"false"!==e||void 0===this.controlBar.volumeControl||void 0===this.controlBar.volumeControl.el_||(e=this.controlBar.volumeControl.el_.getAttribute("aria-expanded"))),void 0!==e&&"true"===e)return;this.userActive(!1)}},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.handleKeyPress=function(e){if(this.controls()&&this.isFullscreen()&&e.target===this.el_&&e.shiftKey&&9===e.which&&this.controls_){e.preventDefault();var t=this;setTimeout(function(){t.ariaAlerts.reverseFocus()},250)}},t.prototype.networkState=function(){return this.techGet_("networkState")},t.prototype.readyState=function(){return this.techGet_("readyState")},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new J["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new K["default"],this.audioTracks_)},t.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){return this.tech_&&this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e){return this.tech_&&this.tech_.addRemoteTextTrack(e)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.track,n=void 0===t?arguments[0]:t;this.tech_&&this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=(""+e).toLowerCase(),this)},t.prototype.languages=function(){return t.prototype.options_.languagesMutated&&(t.prototype.options_.languagesMutated=!1,this.languages_=H["default"](t.prototype.options_.languages,this.languages_)),this.languages_},t.prototype.toJSON=function(){var e=H["default"](this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=H["default"](r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new ae["default"](n,t);return n.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=g.getElAttributes(e),r=n["data-setup"];if(null!==r){var i=B["default"](r||"{}"),o=i[0],a=i[1];o&&k["default"].error(o),U["default"](n,a)}if(U["default"](t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;u>l;l++){var d=s[l],c=d.nodeName.toLowerCase(),p=g.getElAttributes(d),h=p["data-setup"];if(null!==h){var f=B["default"](h||"{}"),o=f[0],a=f[1];o&&k["default"].error(o),U["default"](p,a)}"source"===c?t.sources.push(p):"track"===c&&t.tracks.push(p)}return t},t}(l["default"]));fe.players={};var me=p["default"].navigator;fe.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:5e3,playbackRates:[],children:["mediaLoader","fullscreenOutline","posterImage","textTrackDisplay","loadingSpinner","bigPauseButton","bigPlayButton","controlBar","errorDisplay","textTrackSettings","ariaAlerts"],language:me.languages&&me.languages[0]||me.userLanguage||me.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",plugins:{},manifestFetchAutoRetryForLive:!1,maxRetryCountForLive:5,retryIntervalForLiveInMSec:2e3,playerStartupTimeoutInMSec:1e4,playerStartupTimeoutTimer:!1},fe.prototype.handleTechLoadStart_,fe.prototype.handleLoadedMetaData_,fe.prototype.handleTextData_,fe.prototype.handleLoadedData_,fe.prototype.handleUserActive_,fe.prototype.handleUserInactive_,fe.prototype.handleTimeUpdate_,fe.prototype.handleTechEnded_,fe.prototype.handleVolumeChange_,fe.prototype.handleError_,fe.prototype.flexNotSupported_=function(){var e=d["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},l["default"].registerComponent("Player",fe),n["default"]=fe,t.exports=n["default"]},{"./FullscreenOutline.js":157,"./aria-alerts.js":158,"./big-play-button.js":159,"./component.js":163,"./control-bar/control-bar.js":166,"./error-display.js":200,"./fullscreen-api.js":203,"./loading-spinner.js":204,"./media-error.js":205,"./modal-dialog":209,"./poster-image.js":214,"./tech/html5.js":219,"./tech/loader.js":220,"./tech/tech.js":222,"./tracks/audio-track-list.js":224,"./tracks/text-track-display.js":229,"./tracks/text-track-list-converter.js":230,"./tracks/text-track-settings.js":232,"./tracks/video-track-list.js":237,"./utils/browser.js":239,"./utils/buffer.js":240,"./utils/dom.js":242,"./utils/events.js":243,"./utils/fn.js":244,"./utils/font-checker.js":245,"./utils/guid.js":247,"./utils/highContrastCheck.js":248,"./utils/log.js":250,"./utils/merge-options.js":251,"./utils/stylesheet.js":252,"./utils/time-ranges.js":253,"./utils/to-camel-case.js":254,"./utils/to-title-case.js":255,"global/document":79,"global/window":80,"object.assign":73,"safe-json-parse/tuple":76}],211:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("./player.js"),o=r(i),a=function(e,t){o["default"].prototype[e]=t};n["default"]=a,t.exports=n["default"]},{"./player.js":210}],212:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=i(s),u=e("../component.js"),d=i(u),c=e("./popup.js"),p=(i(c),e("../utils/dom.js")),h=(r(p),e("../utils/fn.js")),f=(r(h),e("../utils/to-title-case.js")),m=(i(f),function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.call(this,n,r),this.update()}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(l["default"]));d["default"].registerComponent("PopupButton",m),n["default"]=m,t.exports=n["default"]},{"../clickable-component.js":161,"../component.js":163,"../utils/dom.js":242,"../utils/fn.js":244,"../utils/to-title-case.js":255,"./popup.js":213}],213:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),u=e("../utils/dom.js"),d=r(u),c=e("../utils/fn.js"),p=r(c),h=e("../utils/events.js"),f=r(h),m=function(e){function t(){o(this,t),e.apply(this,arguments)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=d.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),f.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l["default"]);l["default"].registerComponent("Popup",m),n["default"]=m,t.exports=n["default"]},{"../component.js":163,"../utils/dom.js":242,"../utils/events.js":243,"../utils/fn.js":244}],214:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=i(s),u=e("./component.js"),d=i(u),c=e("./utils/fn.js"),p=r(c),h=e("./utils/dom.js"),f=r(h),m=e("./utils/browser.js"),g=(r(m),e("./utils/url.js")),y=r(g),v=e("./utils/log.js"),_=i(v),b=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.update(),n.on("posterchange",p.bind(this,this.update)),n.on("fullscreenchange",p.bind(this,this.updateCss)),n.addThrottledWindowResizeListener(p.bind(this,this.updateCss),50)}return a(t,e),t.prototype.dispose=function(){this.player().off("fullscreenchange",this.updateCss),this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=f.createEl("div",{className:"vjs-poster",tabIndex:-1});return this.span=f.createEl("span",{className:"vjs-poster-span",tabIndex:-1}),e.appendChild(this.span),this.fallbackImg_=f.createEl("img"),e.appendChild(this.fallbackImg_),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(e&&(e=y.getAbsoluteURL(e),-1===e.search(/^(https?:)?\/\//i)&&(_["default"].warn("ignoring invalid poster URL"),e="")),this.fallbackImg_){var t=this;this.fallbackImg_.onload=function(){t.updateCss()},this.fallbackImg_.src=e,this.fallbackImg_.style.display="none",this.addCrossOriginPolicy(this.player().options().corsPolicy,this.fallbackImg_),setTimeout(function(){
t.updateCss()},500)}else{var n="";e&&(n='url("'+e+'")'),this.el_.style.backgroundImage=n}},t.prototype.updateCss=function(){this.fallbackImg_.style.display="inline";var e="100%",t="auto";if(this.fallbackImg_.naturalHeight&&this.fallbackImg_.naturalWidth&&this.fallbackImg_.parentElement){var n=this.fallbackImg_.parentElement.clientWidth,r=this.fallbackImg_.parentElement.clientHeight;if(r&&n){var i=n/r,o=this.fallbackImg_.naturalWidth/this.fallbackImg_.naturalHeight;i>o&&(t="100%",e="auto")}else this.fallbackImg_.naturalHeight>this.fallbackImg_.naturalWidth&&(t="100%",e="auto")}if(this.player_){var a=this.player_.options_.posterAltString?this.player_.options_.posterAltString:"";f.setElAttributes(this.fallbackImg_,{width:e,height:t,alt:this.player_.htmlEncode(a)}),""===a&&f.setElAttributes(this.fallbackImg_,{role:"presentation"})}},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(l["default"]);d["default"].registerComponent("PosterImage",b),n["default"]=b,t.exports=n["default"]},{"./clickable-component.js":161,"./component.js":163,"./utils/browser.js":239,"./utils/dom.js":242,"./utils/fn.js":244,"./utils/log.js":250,"./utils/url.js":256}],215:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var o=e("./utils/events.js"),a=i(o),s=e("global/document"),l=r(s),u=e("global/window"),d=r(u),c=!1,p=void 0,h=function(){var e=l["default"].getElementsByTagName("video"),t=l["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;i>r;r++)n.push(e[r]);if(t&&t.length>0)for(var r=0,i=t.length;i>r;r++)n.push(t[r]);if(n&&n.length>0)for(var r=0,i=n.length;i>r;r++){var o=n[r];if(!o||!o.getAttribute){f(1);break}if(void 0===o.player){var a=o.getAttribute("data-setup");null!==a&&p(o)}}else c||f(1)},f=function(e,t){t&&(p=t),setTimeout(h,e)};"complete"===l["default"].readyState?c=!0:a.one(d["default"],"load",function(){c=!0});var m=function(){return c};n.autoSetup=h,n.autoSetupTimeout=f,n.hasLoaded=m},{"./utils/events.js":243,"global/document":79,"global/window":80}],216:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),u=e("../utils/dom.js"),d=r(u),c=e("object.assign"),p=i(c),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.bar=this.getChild(this.options_.barName),this.seekHandle=this.getChild(this.options_.handleName),n.controls_&&this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(n,"controlsvisible",this.update),this.on(n,this.playerEvent,this.update)}return a(t,e),t.prototype.createEl=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+" vjs-slider",n=p["default"]({tabIndex:0},n),r=p["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),d.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;d.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update(),this.setFocusOnSlider()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||0>e||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n,this.seekHandle&&this.seekHandle.update()}}},t.prototype.calculateDistance=function(e){var t=d.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.setFocusOnSlider=function(){var e=this.el_.ownerDocument.activeElement,t=this.el_;e!==t&&(e.blur(),t.focus())},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault(),this.setFocusOnSlider()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal"),this)},t}(l["default"]);l["default"].registerComponent("Slider",h),n["default"]=h,t.exports=n["default"]},{"../component.js":163,"../utils/dom.js":242,"object.assign":73}],217:[function(e,t,n){"use strict";function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return-1!==n?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t){var n=e.rtmpSourceHandler.canPlayType(t.type);return n?n:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n){var r=e.streamToParts(t.src);n.setRtmpConnection(r.connection),n.setRtmpStream(r.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],218:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.charAt(0).toUpperCase()+e.slice(1);C["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){C[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var u=e("./tech"),d=i(u),c=e("../utils/dom.js"),p=r(c),h=e("../utils/url.js"),f=r(h),m=e("../utils/time-ranges.js"),g=e("./swfobject.js"),y=e("./flash-rtmp"),v=i(y),_=e("../component"),b=i(_),S=e("global/window"),T=i(S),w=e("object.assign"),k=i(w),E=(T["default"].navigator,function(e){function t(n,r){o(this,t),e.call(this,n,r),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),T["default"].videojs=T["default"].videojs||{},T["default"].videojs.Flash=T["default"].videojs.Flash||{},T["default"].videojs.Flash.onReady=t.onReady,T["default"].videojs.Flash.onEvent=t.onEvent,T["default"].videojs.Flash.onError=t.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return a(t,e),t.prototype.createEl=function(){var e=this.options_,n=e.techId,r=k["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=k["default"]({wmode:"opaque",bgcolor:"#000000"},e.params),o=k["default"]({id:n,name:n,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,r,i,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){if(e=f.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function n(){if(0===this.readyState())return NaN;var n=this.el_.vjs_getProperty("duration");return n>=0?n:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?m.createTimeRange():m.createTimeRange(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?m.createTimeRange():m.createTimeRange(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(d["default"])),C=E.prototype,P="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),I="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),M=0;M<P.length;M++)l(P[M]),s(P[M]);for(var M=0;M<I.length;M++)l(I[M]);E.isSupported=function(){var e="11.4";return g.swfobject.hasFlashPlayerVersion(e)},E.isVersionSupported=function(e){return g.swfobject.hasFlashPlayerVersion(e)},d["default"].withSourceHandlers(E),E.nativeSourceHandler={},E.nativeSourceHandler.canPlayType=function(e){return e in E.formats?"maybe":""},E.nativeSourceHandler.canHandleSource=function(e){function t(e){var t=f.getFileExtension(e);return t?"video/"+t:""}var n;return n=e.type?e.type.replace(/;.*/,"").toLowerCase():t(e.src),E.nativeSourceHandler.canPlayType(n)},E.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},E.nativeSourceHandler.dispose=function(){},E.registerSourceHandler(E.nativeSourceHandler),E.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},E.onReady=function(e){var t=p.getEl(e),n=t&&t.tech;n&&n.el()&&E.checkReady(n)},E.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){E.checkReady(e)},50))},E.onEvent=function(e,t){var n=p.getEl(e).tech;n.trigger(t,Array.prototype.slice.call(arguments,2))},E.onError=function(e,t){var n=p.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},E.embed=function(e,t,n,r){var i=E.getEmbedCode(e,t,n,r),o=p.createEl("div",{innerHTML:i}).childNodes[0];return o},E.getEmbedCode=function(e,t,n,r){var i='<object type="application/x-shockwave-flash" ',o="",a="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=encodeURIComponent(e)+"="+encodeURIComponent(t[e])+"&amp;"}),delete n.flashvars,n=k["default"]({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+='<param name="'+encodeURIComponent(e)+'" value="'+("flashvars"!==e?encodeURI(n[e]):n[e])+'" />'}),r=k["default"]({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){s+=encodeURIComponent(e)+'="'+encodeURI(r[e])+'" '}),""+i+s+">"+a+"</object>"},v["default"](E),b["default"].registerComponent("Flash",E),d["default"].registerTech("Flash",E),n["default"]=E,t.exports=n["default"]},{"../component":163,"../utils/dom.js":242,"../utils/time-ranges.js":253,"../utils/url.js":256,"./flash-rtmp":217,"./swfobject.js":221,"./tech":222,"global/window":80,"object.assign":73}],219:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e.raw=t,e}n.__esModule=!0;var l=s(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."]),u=e("./tech.js"),d=i(u),c=e("../component"),p=i(c),h=e("../utils/dom.js"),f=r(h),m=e("../utils/url.js"),g=r(m),y=e("../utils/fn.js"),v=r(y),_=e("../utils/log.js"),b=i(_),S=e("tsml"),T=i(S),w=e("../../../src/js/tracks/text-track.js"),k=(i(w),e("../utils/browser.js")),E=r(k),C=e("global/document"),P=i(C),I=e("global/window"),M=i(I),A=e("object.assign"),R=i(A),j=e("../utils/merge-options.js"),O=i(j),D=e("../utils/to-title-case.js"),x=i(D),L=e("../utils/guid.js"),N=r(L),B=function(e){function t(n,r){var i=this;o(this,t),e.call(this,n,r);var a=n.source,s=!1;if(a&&(this.el_.currentSrc!==a.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(a):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var u=this.el_.childNodes,d=u.length,c=[];d--;){var p=u[d],h=p.nodeName.toLowerCase();"track"===h&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(p),this.remoteTextTracks().addTrack_(p.track),s||this.el_.hasAttribute("crossorigin")||!g.isCrossOrigin(p.src)||(s=!0)):c.push(p))}for(var m=0;m<c.length;m++)this.el_.removeChild(c[m])}var y=["audio","video"];y.forEach(function(e){var t=x["default"](e);if(i["featuresNative"+t+"Tracks"]){var n=i.el()[e+"Tracks"];n&&n.addEventListener&&(n.addEventListener("change",v.bind(i,i["handle"+t+"TrackChange_"])),n.addEventListener("addtrack",v.bind(i,i["handle"+t+"TrackAdd_"])),n.addEventListener("removetrack",v.bind(i,i["handle"+t+"TrackRemove_"])),i.on("loadstart",i["removeOld"+t+"Tracks_"]))}}),this.featuresNativeTextTracks&&(s&&b["default"].warn(T["default"](l)),this.handleTextTrackChange_=v.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=v.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=v.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(E.TOUCH_ENABLED||E.IS_IPHONE||E.IS_NATIVE_ANDROID)&&n.nativeControlsForTouch===!0&&this.setControls(!0);var _="auto";"auto"!==f.getElAttributes(this.el_).preload&&(_="none"),f.setElAttributes(this.el_,{oncontextmenu:"return false;",preload:_,tabindex:"-1"}),this.setPoster(this.options_.playerOptions.poster||""),this.triggerReady()}return a(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=x["default"](e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||this.movingMediaElementInDOM===!1)if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=P["default"].createElement("video");var r=this.options_.originalTagAttributes,i=O["default"]({},r);E.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete i.controls,f.setElAttributes(e,R["default"](i,{id:this.options_.techId,"class":"vjs-tech"}))}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],l={};"undefined"!=typeof this.options_[s]&&(l[s]=this.options_[s]),f.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",r),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof n)return n.v}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(){var e=this.textTracks();this.textTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.handleVideoTrackChange_=function(){var e=this.videoTracks();this.videoTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleVideoTrackAdd_=function(e){this.videoTracks().addTrack_(e.track)},t.prototype.handleVideoTrackRemove_=function(e){this.videoTracks().removeTrack_(e.track)},t.prototype.handleAudioTrackChange_=function(){var e=this.audioTracks();this.audioTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleAudioTrackAdd_=function(e){this.audioTracks().addTrack_(e.track)},t.prototype.handleAudioTrackRemove_=function(e){this.audioTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<t.length;a++)if(t[a]===i){o=!0;break}o||n.push(i)}for(var r=0;r<n.length;r++){var s=n[r];e.removeTrack_(s)}}},t.prototype.removeOldTextTracks_=function(){var e=this.textTracks(),t=this.el().textTracks;this.removeOldTracks_(e,t)},t.prototype.removeOldAudioTracks_=function(){var e=this.audioTracks(),t=this.el().audioTracks;this.removeOldTracks_(e,t)},t.prototype.removeOldVideoTracks_=function(){var e=this.videoTracks(),t=this.el().videoTracks;this.removeOldTracks_(e,t)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(){})},t.prototype.pause=function(){this.el_.pause()},t.prototype.paused=function(){return this.el_.paused},t.prototype.currentTime=function(){return this.el_.currentTime},t.prototype.currentAbsoluteTime=function(){},t.prototype.currentMediaTime=function(){},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){b["default"](t,"Video is not ready. (Video.js)")}},t.prototype.currentVideoStreamList=function(){},t.prototype.currentAudioStreamList=function(){},t.prototype.videoBufferData=function(){},t.prototype.audioBufferData=function(){},t.prototype.currentDownloadBitrate=function(){},t.prototype.currentPlaybackBitrate=function(){},t.prototype.duration=function(){return this.el_.duration||0},t.prototype.buffered=function(){return this.el_.buffered},t.prototype.isLive=function(){return this.duration()===1/0||this.duration()===Number.MAX_VALUE},t.prototype.volume=function(){return this.el_.volume},t.prototype.setVolume=function(e){this.el_.volume=e},t.prototype.muted=function(){return this.el_.muted},t.prototype.setMuted=function(e){this.el_.muted=e},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=M["default"].navigator.userAgent;if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.setSrc=function(e){this.addCrossOriginPolicy(this.options_.playerOptions.corsPolicy),this.setAutoplay(this.options_.playerOptions.autoplay),this.el_.src=e},t.prototype.load=function(){this.el_.load()},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.poster=function(){return this.el_.poster},t.prototype.setPoster=function(e){(void 0===e||""===e)&&this.el_.removeAttribute("poster"),this.trigger("posterchange")},t.prototype.preload=function(){return this.el_.preload},t.prototype.setPreload=function(e){this.el_.preload=e},t.prototype.autoplay=function(){return this.el_.autoplay},t.prototype.setAutoplay=function(e){this.el_.autoplay=e},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.loop=function(){return this.el_.loop},t.prototype.setLoop=function(e){this.el_.loop=e},t.prototype.error=function(t){return void 0===t?this.error_||this.el_.error:void e.prototype.error.call(this,t)},t.prototype.seeking=function(){return this.el_.seeking},t.prototype.seekable=function(){return this.el_.seekable},t.prototype.ended=function(){return this.el_.ended},t.prototype.defaultMuted=function(){return this.el_.defaultMuted},t.prototype.playbackRate=function(){return this.el_.playbackRate},t.prototype.played=function(){return this.el_.played},t.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},t.prototype.networkState=function(){return this.el_.networkState},t.prototype.readyState=function(){return this.el_.readyState},t.prototype.videoWidth=function(){return this.el_.videoWidth},t.prototype.videoHeight=function(){return this.el_.videoHeight},t.prototype.textTracks=function(){return e.prototype.textTracks.call(this)},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.addRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return e.prototype.addRemoteTextTrack.call(this,t);var n=P["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id||(t.id="vjs_track_"+N.newGUID()),t.id&&(n.id=t.id),t.src&&(n.src=t.src),this.el().appendChild(n),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.removeRemoteTextTrack.call(this,t);var n=void 0,r=void 0,i=this.remoteTextTrackEls().getTrackElementByTrack_(t);for(this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack_(t),n=this.$$("track"),r=n.length;r--;)(t===n[r]||t===n[r].track)&&this.el().removeChild(n[r])},t}(d["default"]);B.TEST_VID=P["default"].createElement("video");var F=P["default"].createElement("track");F.kind="captions",F.srclang="en",F.label="English",B.TEST_VID.appendChild(F),B.isSupported=function(){try{B.TEST_VID.volume=.5}catch(e){return!1}return!!B.TEST_VID.canPlayType},d["default"].withSourceHandlers(B),B.nativeSourceHandler={},B.nativeSourceHandler.canPlayType=function(e){try{return B.TEST_VID.canPlayType(e)}catch(t){return""}},B.nativeSourceHandler.canHandleSource=function(e){var t;if(e.protectionInfo&&e.protectionInfo.length>0)for(var n=0;n<e.protectionInfo.length;n++)if("PlayReady"===e.protectionInfo[n].type||"Widevine"===e.protectionInfo[n].type||"FairPlay"===e.protectionInfo[n].type)return"";return e.type?B.nativeSourceHandler.canPlayType(e.type):e.src?(t=g.getFileExtension(e.src),B.nativeSourceHandler.canPlayType("video/"+t)):""},B.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},B.nativeSourceHandler.dispose=function(){},B.registerSourceHandler(B.nativeSourceHandler),B.canControlVolume=function(){try{var e=B.TEST_VID.volume;return B.TEST_VID.volume=e/2+.1,e!==B.TEST_VID.volume}catch(t){return!1}},B.canControlPlaybackRate=function(){try{var e=B.TEST_VID.playbackRate;return B.TEST_VID.playbackRate=e/2+.1,e!==B.TEST_VID.playbackRate}catch(t){return!1}},B.isPreloadSupported=function(){return!E.IS_IOS||!E.IS_SAFARI},B.supportsNativeTextTracks=function(){var e;return e=!!B.TEST_VID.textTracks,e&&B.TEST_VID.textTracks.length>0&&(e="number"!=typeof B.TEST_VID.textTracks[0].mode),e&&E.IS_FIREFOX&&(e=!1),!e||"onremovetrack"in B.TEST_VID.textTracks||(e=!1),e},B.supportsNativeVideoTracks=function(){var e=!!B.TEST_VID.videoTracks;return e},B.supportsNativeAudioTracks=function(){var e=!!B.TEST_VID.audioTracks;return e},B.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],B.prototype.featuresVolumeControl=B.canControlVolume(),B.prototype.featuresPlaybackRate=B.canControlPlaybackRate(),B.prototype.featuresPreload=B.isPreloadSupported(),B.prototype.movingMediaElementInDOM=!E.IS_IOS,B.prototype.featuresFullscreenResize=!0,B.prototype.featuresProgressEvents=!0,B.prototype.featuresNativeTextTracks=B.supportsNativeTextTracks(),B.prototype.featuresNativeVideoTracks=B.supportsNativeVideoTracks(),B.prototype.featuresNativeAudioTracks=B.supportsNativeAudioTracks();var U=void 0,z=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,H=/^video\/mp4/i;B.patchCanPlayType=function(){E.ANDROID_VERSION>=4&&(U||(U=B.TEST_VID.constructor.prototype.canPlayType),B.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&z.test(e)?"maybe":U.call(this,e)}),E.IS_OLD_ANDROID&&(U||(U=B.TEST_VID.constructor.prototype.canPlayType),B.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&H.test(e)?"maybe":U.call(this,e)})},B.unpatchCanPlayType=function(){var e=B.TEST_VID.constructor.prototype.canPlayType;return B.TEST_VID.constructor.prototype.canPlayType=U,U=null,e},B.patchCanPlayType(),B.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},B.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},p["default"].registerComponent("Html5",B),d["default"].registerTech("Html5",B),n["default"]=B,t.exports=n["default"]},{"../../../src/js/tracks/text-track.js":233,"../component":163,"../utils/browser.js":239,"../utils/dom.js":242,"../utils/fn.js":244,"../utils/guid.js":247,"../utils/log.js":250,"../utils/merge-options.js":251,"../utils/to-title-case.js":255,"../utils/url.js":256,"./tech.js":222,"global/document":79,"global/window":80,"object.assign":73,tsml:77}],220:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),s=r(a),l=e("./tech.js"),u=r(l),d=e("global/window"),c=(r(d),e("../utils/to-title-case.js")),p=r(c),h=function(e){function t(n,r,o){if(i(this,t),e.call(this,n,r,o),r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var a=0,l=r.playerOptions.techOrder;a<l.length;a++){var d=p["default"](l[a]),c=u["default"].getTech(d);if(d||(c=s["default"].getComponent(d)),c&&c.isSupported()){n.loadTech_(d);break}}}return o(t,e),t}(s["default"]);s["default"].registerComponent("MediaLoader",h),n["default"]=h,t.exports=n["default"]},{"../component.js":163,"../utils/to-title-case.js":255,"./tech.js":222,"global/window":80}],221:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/window"),o=r(i),a=e("global/document"),s=r(a),l=function(){function e(e){return parseInt(e,10)}function t(t){t+="";var n=h.pv,r=t.split(".");return r[0]=e(r[0]),r[1]=e(r[1])||0,r[2]=e(r[2])||0,r[3]=e(r[3])||0,n[0]>r[0]||n[0]===r[0]&&n[1]>r[1]||n[0]===r[0]&&n[1]===r[1]&&n[2]>r[2]||n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]>=r[3]}var n="undefined",r="object",i="Shockwave Flash",a="ShockwaveFlash.ShockwaveFlash",l="application/x-shockwave-flash",u=o["default"],d=s["default"],c=o["default"].navigator,p=!1,h=function(){var t=typeof d.getElementById!==n&&typeof d.getElementsByTagName!==n&&typeof d.createElement!==n,o=c.userAgent.toLowerCase(),s=c.platform.toLowerCase(),h=/win/.test(s?s:o),f=/mac/.test(s?s:o),m=!!/webkit/.test(o)&&parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),g="Microsoft Internet Explorer"===c.appName,y=[0,0,0,145],v=null;if(typeof c.plugins!==n&&typeof c.plugins[i]===r)if(v=c.plugins[i].version,v&&typeof c.mimeTypes!==n&&c.mimeTypes[l]&&c.mimeTypes[l].enabledPlugin){p=!0,g=!1;var _=v.split(".");y[0]=e(_[0]),y[1]=e(_[1]),y[2]=e(_[2]),y[3]=e(_[3])}else v=c.plugins[i].description,v&&typeof c.mimeTypes!==n&&c.mimeTypes[l]&&c.mimeTypes[l].enabledPlugin&&(p=!0,g=!1,v=v.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),y[0]=e(v.replace(/^(.*)\..*$/,"$1")),y[1]=e(v.replace(/^.*\.(.*)\s.*$/,"$1")),y[2]=/[a-zA-Z]/.test(v)?e(v.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof u.ActiveXObject!==n)try{
var b=new u.ActiveXObject(a);b&&(v=b.GetVariable("$version"),v&&(g=!0,v=v.split(" ")[1].split(","),y=[e(v[0]),e(v[1]),e(v[2])]))}catch(S){}return{w3:t,pv:y,wk:m,ie:g,win:h,mac:f}}();return{ua:h,hasFlashPlayerVersion:t}}();n.swfobject=l},{"global/document":79,"global/window":80}],222:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component"),l=i(s),u=e("../tracks/html-track-element"),d=i(u),c=e("../tracks/html-track-element-list"),p=i(c),h=e("../utils/merge-options.js"),f=i(h),m=e("../tracks/text-track"),g=i(m),y=e("../tracks/text-track-list"),v=i(y),_=e("../tracks/video-track"),b=(i(_),e("../tracks/video-track-list")),S=i(b),T=e("../tracks/audio-track-list"),w=i(T),k=e("../tracks/audio-track"),E=(i(k),e("../utils/fn.js")),C=r(E),P=e("../utils/log.js"),I=i(P),M=e("../utils/time-ranges.js"),A=e("../utils/buffer.js"),R=e("../media-error.js"),j=i(R),O=e("global/window"),D=i(O),x=e("global/document"),L=i(x),N=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];o(this,t),n.reportTouchActivity=!1,e.call(this,null,n,r),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.videoTracks_=n.videoTracks,this.audioTracks_=n.audioTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),(n.nativeCaptions===!1||n.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.initTrackListeners(),this.emitTapEvents()}return a(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(C.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return M.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return A.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.one("timeupdate",function(e){e.manuallyTriggered||(this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff())})},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=e instanceof j["default"]?e:new j["default"](e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?M.createTimeRange(0,0):M.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=C.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",C.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.initTrackListeners=function(){var e=this,t=["video","audio"];t.forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){D["default"].WebVTT||null==this.el().parentNode||!function(){var t=L["default"].createElement("script");t.src=e.options_["vtt.js"]||"../node_modules/videojs-vtt.js/dist/vtt.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},e.on("dispose",function(){t.onload=null,t.onerror=null}),D["default"].WebVTT=!0,e.el().parentNode.appendChild(t)}();var n=function(){return e.trigger("texttrackchange")},r=function(){n();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",n),"showing"===r.mode&&r.addEventListener("cuechange",n)}};r(),t.addEventListener("change",r),this.on("dispose",function(){t.removeEventListener("change",r)})}},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new S["default"],this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new w["default"],this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new v["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new v["default"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return B(this,e,t,n)},t.prototype.addRemoteTextTrack=function(e){var t=f["default"](e,{tech:this}),n=new d["default"](t);return this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),this.textTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e);var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=n,n},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:D["default"]&&D["default"].videojs&&D["default"].videojs[e]?(I["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D["default"].videojs[e]):void 0},t}(l["default"]);N.prototype.textTracks_,N.prototype.audioTracks_,N.prototype.videoTracks_;var B=function(e,t,n,r){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new g["default"](i);return o.addTrack_(a),a};N.prototype.featuresVolumeControl=!0,N.prototype.featuresFullscreenResize=!1,N.prototype.featuresPlaybackRate=!1,N.prototype.featuresPreload=!0,N.prototype.featuresProgressEvents=!1,N.prototype.featuresTimeupdateEvents=!1,N.prototype.featuresNativeTextTracks=!1,N.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=void 0,o=0;o<r.length;o++)if(i=r[o].canHandleSource(t,n))return r[o];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:I["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.currentSource_=null,this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",N),l["default"].registerComponent("MediaTechController",N),N.registerTech("Tech",N),n["default"]=N,t.exports=n["default"]},{"../component":163,"../media-error.js":205,"../tracks/audio-track":225,"../tracks/audio-track-list":224,"../tracks/html-track-element":227,"../tracks/html-track-element-list":226,"../tracks/text-track":233,"../tracks/text-track-list":231,"../tracks/video-track":238,"../tracks/video-track-list":237,"../utils/buffer.js":240,"../utils/fn.js":244,"../utils/log.js":250,"../utils/merge-options.js":251,"../utils/time-ranges.js":253,"global/document":79,"global/window":80}],223:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=i(s),u=e("./component"),d=i(u),c=e("./utils/dom.js"),p=r(c),h=function(e){function t(n,r){o(this,t);var i=this;e.call(this,n,r),this.lastClickedTime_=Date.now(),this.on("keydown",this.clearKeyboardTooltip),this.on("mouseover",this.clearKeyboardTooltip),this.on("focusout",this.clearKeyboardTooltip),this.on("click",function(){this.lastClickedTime_=Date.now(),this.clearKeyboardTooltip(),e.prototype.handleClick.call(i)}),this.on("focusin",this.handleFocusin)}return a(t,e),t.prototype.handleFocusin=function(){Date.now()-this.lastClickedTime_>500&&this.showKeyboardTooltip()},t.prototype.showKeyboardTooltip=function(){var e=this.el_.getAttribute("title");e&&void 0!==e&&(this.buttonTooltipEl_&&void 0!==this.buttonTooltipEl_||(this.buttonTooltipEl_=p.createEl("span",{className:"vjs-button-tooltip"}),this.el_.appendChild(this.buttonTooltipEl_),this.buttonTooltipEl_.innerHtml=this.buttonTooltipEl_.innerText=e))},t.prototype.clearKeyboardTooltip=function(){this.buttonTooltipEl_&&void 0!==this.buttonTooltipEl_&&(this.buttonTooltipEl_.innerHtml=this.buttonTooltipEl_.innerText=null,this.el_.removeChild(this.buttonTooltipEl_),this.buttonTooltipEl_=null)},t}(l["default"]);d["default"].registerComponent("TooltipClickable",h),n["default"]=h,t.exports=n["default"]},{"./clickable-component.js":161,"./component":163,"./utils/dom.js":242}],224:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=i(s),u=e("../utils/browser.js"),d=r(u),c=e("global/document"),p=i(c),h=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},f=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);for(var r=void 0,i=n.length-1;i>=0;i--)if(n[i].enabled){h(n,n[i]);break}if(d.IS_IE8){r=p["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(r[a]=l["default"].prototype[a]);for(var a in t.prototype)"constructor"!==a&&(r[a]=t.prototype[a])}return r=e.call(this,n,r),r.changing_=!1,r}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&h(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,h(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=f,t.exports=n["default"]},{"../utils/browser.js":239,"./track-list":235,"global/document":79}],225:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-enums"),l=e("./track"),u=i(l),d=e("../utils/merge-options"),c=i(d),p=e("../utils/browser.js"),h=r(p),f=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var r=c["default"](n,{kind:s.AudioTrackKind[n.kind]||""}),i=e.call(this,r),a=!1;if(h.IS_IE8)for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l]);return Object.defineProperty(i,"enabled",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return a(t,e),t}(u["default"]);n["default"]=f,t.exports=n["default"]},{"../utils/browser.js":239,"../utils/merge-options":251,"./track":236,"./track-enums":234}],226:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../utils/browser.js"),s=i(a),l=e("global/document"),u=r(l),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,a=t.length;a>i;i++)n.addTrackElement_(t[i]);return s.IS_IE8?n:void 0}return e.prototype.addTrackElement_=function(e){this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;r>n;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;n>t;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n["default"]=d,t.exports=n["default"]},{"../utils/browser.js":239,"global/document":79}],227:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/browser.js"),l=i(s),u=e("global/document"),d=r(u),c=e("../event-target"),p=r(c),h=e("../tracks/text-track"),f=r(h),m=0,g=1,y=2,v=3,_=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),e.call(this);var r=void 0,i=this;if(l.IS_IE8){i=d["default"].createElement("custom");for(var a in t.prototype)"constructor"!==a&&(i[a]=t.prototype[a])}var s=new f["default"](n);return i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i["default"]=s["default"],Object.defineProperty(i,"readyState",{get:function(){return r}}),Object.defineProperty(i,"track",{get:function(){return s}}),r=m,s.addEventListener("loadeddata",function(){r=y,i.trigger({type:"load",target:i})}),l.IS_IE8?i:void 0}return a(t,e),t}(p["default"]);_.prototype.allowedEvents_={load:"load"},_.NONE=m,_.LOADING=g,_.LOADED=y,_.ERROR=v,n["default"]=_,t.exports=n["default"]},{"../event-target":201,"../tracks/text-track":233,"../utils/browser.js":239,"global/document":79}],228:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../utils/browser.js"),s=i(a),l=e("global/document"),u=r(l),d=function(){function e(t){o(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}return e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),s.IS_IE8?n:void 0}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(r>t)for(n=t;r>n;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;r>n;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();n["default"]=d,t.exports=n["default"]},{"../utils/browser.js":239,"global/document":79}],229:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];return t?"rgba("+n.join(",")+","+t+")":"rgb("+n.join(",")+")"}function l(e,t,n){try{e.style[t]=n}catch(r){}}function u(e,t,n,r){try{for(var i=0;i<e.length;i++){var o=e[i];(!r||r(o))&&o.style.setProperty(t,n,"important")}}catch(a){}}function d(e,t,n,r){function i(e){return w["default"].getComputedStyle?w["default"].getComputedStyle(e,""):e.currentStyle}function o(e){var t=[parseInt(e[1]+e[2],16),parseInt(e[3]+e[4],16),parseInt(e[5]+e[6],16)];return"rgb("+t.join(",")+")"}for(var a=0;a<e.length;a++){var s=e[a];if(!r||r(s)){var l=i(s)[t];l.indexOf("rgb")<0&&(l=o(l));var u=c(l);if(!u)return;u[3]=n;var d="rgba("+u.join(",")+")";try{s.style.setProperty(t,d,"important")}catch(p){}}}}function c(e){var t=/rgba?\((\d+,\s*\d+,\s*\d+(?:,\s*[\d\.]+)?)\)/,n=/,\s*/,r=t.exec(e);return!r||r.length<2?null:r[1].split(n)}function p(e,t){for(var n=c(e),r=c(t),i=3,o=0;i>o;o++)if(n[o]!==r[o])return!1;return!0}function h(e){return e&&e.className&&e.className.indexOf("bg_")>=0}n.__esModule=!0;var f=e("../component"),m=i(f),g=e("../menu/menu.js"),y=(i(g),e("../menu/menu-item.js")),v=(i(y),e("../menu/menu-button.js")),_=(i(v),e("../utils/fn.js")),b=r(_),S=e("global/document"),T=(i(S),e("global/window")),w=i(T),k="#222",E="#ccc",C={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},P=function(e){function t(n,r,i){o(this,t),e.call(this,n,r,i),n.on("loadstart",b.bind(this,this.toggleDisplay)),n.on("texttrackchange",b.bind(this,this.updateDisplay)),n.ready(b.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",b.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){var r=e[t];this.player_.addRemoteTextTrack(r)}var i={captions:1,subtitles:1},o=this.player_.textTracks(),a=void 0,s=void 0;if(o){for(var t=0;t<o.length;t++){var r=o[t];r["default"]&&("descriptions"!==r.kind||a?r.kind in i&&!s&&(s=r):a=r)}s?s.mode="showing":a&&(a.mode="showing")}}))}return a(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"assertive","aria-atomic":"true",role:"region","aria-label":"Captions"})},t.prototype.clearDisplay=function(){"function"==typeof w["default"].WebVTT&&w["default"].WebVTT.processCues(w["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?this.updateForTrack(n):t&&this.updateForTrack(t)}},t.prototype.updateForTrack=function(e){if("function"==typeof w["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);w["default"].WebVTT.processCues(w["default"],n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var a=o.displayState,c=this.changedByUser?a.firstChild.querySelectorAll("span"):[];if(t.color){var f=a.firstChild.style.color;a.firstChild.style.color=t.color,this.changedByUser&&!p(s(t.color),f)&&u(c,"color",t.color)}t.textOpacity&&(l(a.firstChild,"color",s(t.color||"#fff",t.textOpacity)),this.changedByUser&&d(c,"color",t.textOpacity));var m=a.firstChild.style.backgroundColor;if(t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor,this.changedByUser&&!p(s(t.backgroundColor),m)&&u(c,"background-color",t.backgroundColor,h)),t.backgroundOpacity){var g=s(t.backgroundColor||"#000",t.backgroundOpacity);if(l(a.firstChild,"backgroundColor",g),this.changedByUser){var y=!p(s(t.backgroundColor),m),v=y?0:t.backgroundOpacity;d(c,"background-color",v,h)}}if(t.windowColor&&(t.windowOpacity?l(a,"backgroundColor",s(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+k+", 2px 2px 4px "+k+", 2px 2px 5px "+k:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+k+", 2px 2px "+k+", 3px 3px "+k:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+E+", 0 1px "+E+", -1px -1px "+k+", 0 -1px "+k:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+k+", 0 0 4px "+k+", 0 0 4px "+k+", 0 0 4px "+k)),t.fontPercent&&1!==t.fontPercent){var _=w["default"].parseFloat(a.style.fontSize);a.style.fontSize=_*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=C[t.fontFamily]),t.justification&&(a.style.textAlign=t.justification),t.padding&&(a.style.padding=t.padding),t.textPadding&&(a.firstChild.style.padding=t.textPadding),t.boxShadow&&(a.firstChild.style.boxShadow=t.boxShadow,a.firstChild.style.webkitBoxShadow=t.boxShadow)}}}},t.prototype.setAsChangedByUser=function(){this.changedByUser=!0},t}(m["default"]);m["default"].registerComponent("TextTrackDisplay",P),n["default"]=P,t.exports=n["default"]},{"../component":163,"../menu/menu-button.js":206,"../menu/menu-item.js":207,"../menu/menu.js":208,"../utils/fn.js":244,"global/document":79,"global/window":80}],230:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},i=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(r))},o=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:i,jsonToTextTracks:o,trackToJson_:r},t.exports=n["default"]},{}],231:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=i(s),u=e("../utils/fn.js"),d=r(u),c=e("../utils/browser.js"),p=r(c),h=e("global/document"),f=i(h),m=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);var r=void 0;if(p.IS_IE8){r=f["default"].createElement("custom");for(var i in l["default"].prototype)"constructor"!==i&&(r[i]=l["default"].prototype[i]);for(var i in t.prototype)"constructor"!==i&&(r[i]=t.prototype[i])}return r=e.call(this,n,r)}return a(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",d.bind(this,function(){this.trigger("change")}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;r>n;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;r>n;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(l["default"]);n["default"]=m,t.exports=n["default"]},{"../utils/browser.js":239,"../utils/fn.js":244,"./track-list":235,"global/document":79}],232:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=void 0;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function l(e,t){if(t){var n=void 0;for(n=0;n<e.options.length;n++){var r=e.options[n];if(r.value===t)break}e.selectedIndex=n}}function u(e,t,n){var r='\n    <div role="document">\n      <div role="heading" aria-level="1" id="'+t+'" class="vjs-control-text">Captions Settings Dialog</div>\n      <div id="'+n+'" class="vjs-control-text">Beginning of dialog window. Escape will cancel and close the window.</div>\n      <div class="vjs-tracksettings">\n        <div class="vjs-tracksettings-colors">\n          <fieldset class="vjs-fg-color vjs-tracksetting">\n            <legend>'+this.htmlEncode(this.localize("Text"))+'</legend>\n            <label class="vjs-label" for="captions-foreground-color-'+e+'">'+this.htmlEncode(this.localize("Text color"))+'</label>\n            <select id="captions-foreground-color-'+e+'">\n              <option value="#FFF" selected>'+this.htmlEncode(this.localize("White"))+'</option>\n              <option value="#000">'+this.htmlEncode(this.localize("Black"))+'</option>\n              <option value="#F00">'+this.htmlEncode(this.localize("Red"))+'</option>\n              <option value="#0F0">'+this.htmlEncode(this.localize("Green"))+'</option>\n              <option value="#00F">'+this.htmlEncode(this.localize("Blue"))+'</option>\n              <option value="#FF0">'+this.htmlEncode(this.localize("Yellow"))+'</option>\n              <option value="#F0F">'+this.htmlEncode(this.localize("Magenta"))+'</option>\n              <option value="#0FF">'+this.htmlEncode(this.localize("Cyan"))+'</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n             <label class="vjs-label" for="captions-foreground-opacity-'+e+'">'+this.htmlEncode(this.localize("Text opacity"))+'</label>\n              <select id="captions-foreground-opacity-'+e+'">\n                <option value="1" selected>'+this.htmlEncode(this.localize("Opaque"))+'</option>\n                <option value="0.5">'+this.htmlEncode(this.localize("Semi-Opaque"))+'</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="vjs-bg-color vjs-tracksetting">\n            <legend>'+this.htmlEncode(this.localize("Background"))+'</legend>\n            <label class="vjs-label" for="captions-background-color-'+e+'">'+this.htmlEncode(this.localize("Background Color"))+'</label>\n            <select id="captions-background-color-'+e+'">\n              <option value="#000" selected>'+this.htmlEncode(this.localize("Black"))+'</option>\n              <option value="#FFF">'+this.htmlEncode(this.localize("White"))+'</option>\n              <option value="#F00">'+this.htmlEncode(this.localize("Red"))+'</option>\n              <option value="#0F0">'+this.htmlEncode(this.localize("Green"))+'</option>\n              <option value="#00F">'+this.htmlEncode(this.localize("Blue"))+'</option>\n              <option value="#FF0">'+this.htmlEncode(this.localize("Yellow"))+'</option>\n              <option value="#F0F">'+this.htmlEncode(this.localize("Magenta"))+'</option>\n              <option value="#0FF">'+this.htmlEncode(this.localize("Cyan"))+'</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-background-opacity-'+e+'">'+this.htmlEncode(this.localize("Background opacity"))+'</label>\n              <select id="captions-background-opacity-'+e+'">\n                <option value="1" selected>'+this.htmlEncode(this.localize("Opaque"))+'</option>\n                <option value="0.5">'+this.htmlEncode(this.localize("Semi-Transparent"))+'</option>\n                <option value="0">'+this.htmlEncode(this.localize("Transparent"))+'</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="window-color vjs-tracksetting">\n            <legend>'+this.htmlEncode(this.localize("Window"))+'</legend>\n            <label class="vjs-label" for="captions-window-color-'+e+'">'+this.htmlEncode(this.localize("Window Color"))+'</label>\n            <select id="captions-window-color-'+e+'">\n              <option value="#000" selected>'+this.htmlEncode(this.localize("Black"))+'</option>\n              <option value="#FFF">'+this.htmlEncode(this.localize("White"))+'</option>\n              <option value="#F00">'+this.htmlEncode(this.localize("Red"))+'</option>\n              <option value="#0F0">'+this.htmlEncode(this.localize("Green"))+'</option>\n              <option value="#00F">'+this.htmlEncode(this.localize("Blue"))+'</option>\n              <option value="#FF0">'+this.htmlEncode(this.localize("Yellow"))+'</option>\n              <option value="#F0F">'+this.htmlEncode(this.localize("Magenta"))+'</option>\n              <option value="#0FF">'+this.htmlEncode(this.localize("Cyan"))+'</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-window-opacity-'+e+'">'+this.htmlEncode(this.localize("Transparency"))+'</label>\n              <select id="captions-window-opacity-'+e+'">\n                <option value="0" selected>'+this.htmlEncode(this.localize("Transparent"))+'</option>\n                <option value="0.5">'+this.htmlEncode(this.localize("Semi-Transparent"))+'</option>\n                <option value="1">'+this.htmlEncode(this.localize("Opaque"))+'</option>\n              </select>\n            </span>\n          </fieldset>\n        </div> <!-- vjs-tracksettings-colors -->\n        <div class="vjs-tracksettings-font">\n          <div class="vjs-font-percent vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-size-'+e+'">'+this.htmlEncode(this.localize("Font Size"))+'</label>\n            <select id="captions-font-size-'+e+'">\n              <option value="0.50">50%</option>\n              <option value="0.75">75%</option>\n              <option value="1.00" selected>100%</option>\n              <option value="1.25">125%</option>\n              <option value="1.50">150%</option>\n              <option value="1.75">175%</option>\n              <option value="2.00">200%</option>\n              <option value="3.00">300%</option>\n              <option value="4.00">400%</option>\n            </select>\n          </div>\n          <div class="vjs-edge-style vjs-tracksetting">\n            <label class="vjs-label" for="captions-edge-style-'+e+'">'+this.htmlEncode(this.localize("Text Edge Style"))+'</label>\n            <select id="captions-edge-style-'+e+'">\n              <option value="none" selected>'+this.htmlEncode(this.localize("None"))+'</option>\n              <option value="raised">'+this.htmlEncode(this.localize("Raised"))+'</option>\n              <option value="depressed">'+this.htmlEncode(this.localize("Depressed"))+'</option>\n              <option value="uniform">'+this.htmlEncode(this.localize("Uniform"))+'</option>\n              <option value="dropshadow">'+this.htmlEncode(this.localize("Dropshadow"))+'</option>\n            </select>\n          </div>\n          <div class="vjs-font-family vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-family-'+e+'">'+this.htmlEncode(this.localize("Font Family"))+'</label>\n            <select id="captions-font-family-'+e+'">\n              <option value="proportionalSansSerif" selected>'+this.htmlEncode(this.localize("Proportional Sans-Serif"))+'</option>\n              <option value="monospaceSansSerif">'+this.htmlEncode(this.localize("Monospace Sans-Serif"))+'</option>\n              <option value="proportionalSerif">'+this.htmlEncode(this.localize("Proportional Serif"))+'</option>\n              <option value="monospaceSerif">'+this.htmlEncode(this.localize("Monospace Serif"))+'</option>\n              <option value="casual">'+this.htmlEncode(this.localize("Casual"))+'</option>\n              <option value="script">'+this.htmlEncode(this.localize("Script"))+'</option>\n              <option value="small-caps">'+this.htmlEncode(this.localize("Small Caps"))+'</option>\n            </select>\n          </div>\n        </div> <!-- vjs-tracksettings-font -->\n        <div class="vjs-tracksettings-controls">\n          <button class="vjs-default-button">'+this.htmlEncode(this.localize("Defaults"))+'</button>\n          <button class="vjs-done-button">'+this.htmlEncode(this.localize("Done"))+'</button>\n        </div>\n      </div> <!-- vjs-tracksettings -->\n    </div> <!--  role="document" -->';
return r}n.__esModule=!0;var d=e("../component"),c=i(d),p=e("../utils/fn.js"),h=r(p),f=e("../utils/log.js"),m=i(f),g=e("safe-json-parse/tuple"),y=i(g),v=e("global/window"),_=i(v),b=function(e){function t(n,r){var i=this;o(this,t),e.call(this,n,r),this.hide(),void 0===r.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings);var a="center";this.hiddenSettings={justification:a},this.on(this.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.hide(),i.returnFocusBack()}),this.on(this.$(".vjs-done-button"),"keydown",this.handleKeyPress_DoneBtn),this.on(this.$(".vjs-fg-color"),"keydown",this.handleKeyPress_FgColor),this.on(this.$(".vjs-default-button"),"click",function(){i.$(".vjs-fg-color > select").selectedIndex=0,i.$(".vjs-bg-color > select").selectedIndex=0,i.$(".window-color > select").selectedIndex=0,i.$(".vjs-text-opacity > select").selectedIndex=0,i.$(".vjs-bg-opacity > select").selectedIndex=0,i.$(".vjs-window-opacity > select").selectedIndex=0,i.$(".vjs-edge-style select").selectedIndex=0,i.$(".vjs-font-family select").selectedIndex=0,i.$(".vjs-font-percent select").selectedIndex=2,i.updateDisplay()}),this.on(this.$(".vjs-fg-color > select"),"change",this.updateDisplay),this.on(this.$(".vjs-bg-color > select"),"change",this.updateDisplay),this.on(this.$(".window-color > select"),"change",this.updateDisplay),this.on(this.$(".vjs-text-opacity > select"),"change",this.updateDisplay),this.on(this.$(".vjs-bg-opacity > select"),"change",this.updateDisplay),this.on(this.$(".vjs-window-opacity > select"),"change",this.updateDisplay),this.on(this.$(".vjs-font-percent select"),"change",this.updateDisplay),this.on(this.$(".vjs-edge-style select"),"change",this.updateDisplay),this.on(this.$(".vjs-font-family select"),"change",this.updateDisplay),this.on(this.el_.ownerDocument,"keydown",h.bind(this,this.handleKeyPress)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return a(t,e),t.prototype.createEl=function(){var t=this.id_,n="TTsettingsDialogLabel-"+t,r="TTsettingsDialogDescription-"+t;return e.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:u.call(this,t,n,r),tabIndex:-1},{role:"dialog","aria-labelledby":n,"aria-describedby":r})},t.prototype.getValues=function(){var e=s(this.$(".vjs-edge-style select")),t=s(this.$(".vjs-font-family select")),n=s(this.$(".vjs-fg-color > select")),r=s(this.$(".vjs-text-opacity > select")),i=s(this.$(".vjs-bg-color > select")),o=s(this.$(".vjs-bg-opacity > select")),a=s(this.$(".window-color > select")),l=s(this.$(".vjs-window-opacity > select")),u=_["default"].parseFloat(s(this.$(".vjs-font-percent > select"))),d={backgroundOpacity:o,textOpacity:r,windowOpacity:l,edgeStyle:e,fontFamily:t,color:n,backgroundColor:i,windowColor:a,fontPercent:u,justification:this.hiddenSettings.justification};for(var c in d)(""===d[c]||"none"===d[c]||"fontPercent"===c&&1===d[c])&&delete d[c];return d},t.prototype.setValues=function(e){l(this.$(".vjs-edge-style select"),e.edgeStyle),l(this.$(".vjs-font-family select"),e.fontFamily),l(this.$(".vjs-fg-color > select"),e.color),l(this.$(".vjs-text-opacity > select"),e.textOpacity),l(this.$(".vjs-bg-color > select"),e.backgroundColor),l(this.$(".vjs-bg-opacity > select"),e.backgroundOpacity),l(this.$(".window-color > select"),e.windowColor),l(this.$(".vjs-window-opacity > select"),e.windowOpacity);var t=e.fontPercent;t&&(t=t.toFixed(2)),l(this.$(".vjs-font-percent > select"),t),e.justification&&(this.hiddenSettings.justification=e.justification)},t.prototype.restoreSettings=function(){var e=void 0,t=void 0;try{var n=y["default"](_["default"].localStorage.getItem("vjs-text-track-settings"));e=n[0],t=n[1],e&&m["default"].error(e)}catch(r){m["default"].warn(r)}t&&this.setValues(t)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?_["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):_["default"].localStorage.removeItem("vjs-text-track-settings")}catch(t){m["default"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&(e.updateDisplay(),e.setAsChangedByUser())},t.prototype.returnFocusBack=function(){var e=this.player_.controlBar.captionsButton.el().getElementsByClassName("vjs-lock-showing"),t=this.player_.controlBar.captionsButton.el().getElementsByClassName("vjs-texttrack-settings");null!==e&&void 0!==e&&e.length>0&&null!==t&&void 0!==t&&t.length>0?t[0].focus():this.player_.controlBar.captionsButton.el().focus()},t.prototype.handleKeyPress=function(e){this.hasClass("vjs-hidden")||27!==e.which||(this.hide(),this.returnFocusBack())},t.prototype.handleKeyPress_DoneBtn=function(e){e.shiftKey||9!==e.which||this.el().focus()},t.prototype.handleKeyPress_FgColor=function(e){if(e.shiftKey&&9===e.which){var t=this.el().getElementsByClassName("vjs-done-button");t[0].focus()}},t}(c["default"]);c["default"].registerComponent("TextTrackSettings",b),n["default"]=b,t.exports=n["default"]},{"../component":163,"../utils/fn.js":244,"../utils/log.js":250,"global/window":80,"safe-json-parse/tuple":76}],233:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-cue-list"),l=i(s),u=e("../utils/fn.js"),d=r(u),c=e("./track-enums"),p=e("../utils/log.js"),h=i(p),f=e("global/document"),m=(i(f),e("global/window")),g=i(m),y=e("./track.js"),v=i(y),_=e("../utils/url.js"),b=e("xhr"),S=i(b),T=e("../utils/merge-options"),w=i(T),k=e("../utils/browser.js"),E=r(k),C=function(e,t){var n=new g["default"].WebVTT.Parser(g["default"],g["default"].vttjs,g["default"].WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(console.groupCollapsed,r.forEach(function(e){return h["default"].error(e)}),console.groupEnd),n.flush()},P=function(e,t,n){if(!t.loadding_){t.loadding_=!0;var r={uri:e},i=_.isCrossOrigin(e);i&&(r.withCredentials=n),S["default"](r,d.bind(this,function(e,n,r){return e?h["default"].error(e,n):(t.loaded_=!0,void("function"!=typeof g["default"].WebVTT?t.tech_&&!function(){var e=function(){return C(r,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){h["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():C(r,t)))}))}},I=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(o(this,t),!n.tech)throw new Error("A tech was not provided.");var r=w["default"](n,{kind:c.TextTrackKind[n.kind]||"subtitles",language:n.language||n.srclang||""}),i=c.TextTrackMode[r.mode]||"disabled",a=r["default"];("metadata"===r.kind||"chapters"===r.kind)&&(i="hidden");var s=e.call(this,r);if(s.tech_=r.tech,E.IS_IE8)for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u]);s.cues_=[],s.activeCues_=[];var p=new l["default"](s.cues_),h=new l["default"](s.activeCues_),f=!1,m=d.bind(s,function(){this.activeCues,f&&(this.trigger("cuechange"),f=!1)});return"disabled"!==i&&s.tech_.on("timeupdate",m),Object.defineProperty(s,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return i},set:function(e){c.TextTrackMode[e]&&(i=e,"showing"===i&&this.tech_.on("timeupdate",m),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?p:(P(this.src,this,this.withCredentials),null)},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return P(this.src,this,this.withCredentials),null;if(0===this.cues.length)return h;for(var e=this.tech_.currentAbsoluteTime()||this.tech_.currentTime(),t=[],n=0,r=this.cues.length;r>n;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(f=!1,t.length!==this.activeCues_.length)f=!0;else for(var n=0;n<t.length;n++)-1===this.activeCues_.indexOf(t[n])&&(f=!0);return this.activeCues_=t,h.setCues_(this.activeCues_),h},set:function(){}}),r.src?(s.src=r.src,s.withCredentials=r.tech.options_.playerOptions.corsPolicy===g["default"].videojs.CorsConfig.UseCredentials):s.loaded_=!0,s}return a(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;r>n;n++){var i=this.cues_[n];i===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(v["default"]);I.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=I,t.exports=n["default"]},{"../utils/browser.js":239,"../utils/fn.js":244,"../utils/log.js":250,"../utils/merge-options":251,"../utils/url.js":256,"./text-track-cue-list":228,"./track-enums":234,"./track.js":236,"global/document":79,"global/window":80,xhr:85}],234:[function(e,t,n){"use strict";n.__esModule=!0;var r={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},o={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},a={disabled:"disabled",hidden:"hidden",showing:"showing"};n["default"]={VideoTrackKind:r,AudioTrackKind:i,TextTrackKind:o,TextTrackMode:a},t.exports=n["default"]},{}],235:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../event-target"),l=i(s),u=e("../utils/fn.js"),d=(r(u),e("../utils/browser.js")),c=r(d),p=e("global/document"),h=i(p),f=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(o(this,t),e.call(this),!r&&(r=this,c.IS_IE8)){r=h["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(r[i]=t.prototype[i])}r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)r.addTrack_(n[a]);return r}return a(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;r>n;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;r>n;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(l["default"]);f.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var m in f.prototype.allowedEvents_)f.prototype["on"+m]=null;n["default"]=f,t.exports=n["default"]},{"../event-target":201,"../utils/browser.js":239,"../utils/fn.js":244,"global/document":79}],236:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/browser.js"),l=i(s),u=e("global/document"),d=r(u),c=e("../utils/guid.js"),p=i(c),h=e("../event-target"),f=r(h),m=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),e.call(this);var r=this;if(l.IS_IE8){r=d["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(r[i]=t.prototype[i])}var a={id:n.id||"vjs_track_"+p.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},s=function(e){Object.defineProperty(r,e,{get:function(){return a[e]},set:function(){}})};for(var u in a)s(u);return r}return a(t,e),t}(f["default"]);n["default"]=m,t.exports=n["default"]},{"../event-target":201,"../utils/browser.js":239,"../utils/guid.js":247,"global/document":79}],237:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=i(s),u=e("../utils/browser.js"),d=r(u),c=e("global/document"),p=i(c),h=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},f=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);for(var r=void 0,i=n.length-1;i>=0;i--)if(n[i].selected){h(n,n[i]);break}if(d.IS_IE8){r=p["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(r[a]=l["default"].prototype[a]);for(var a in t.prototype)"constructor"!==a&&(r[a]=t.prototype[a])}return r=e.call(this,n,r),r.changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&h(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,h(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=f,t.exports=n["default"]},{"../utils/browser.js":239,"./track-list":235,"global/document":79}],238:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-enums"),l=e("./track"),u=i(l),d=e("../utils/merge-options"),c=i(d),p=e("../utils/browser.js"),h=r(p),f=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var r=c["default"](n,{kind:s.VideoTrackKind[n.kind]||""}),i=e.call(this,r),a=!1;if(h.IS_IE8)for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l]);return Object.defineProperty(i,"selected",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return a(t,e),t}(u["default"]);n["default"]=f,t.exports=n["default"]},{"../utils/browser.js":239,"../utils/merge-options":251,"./track":236,"./track-enums":234}],239:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),o=r(i),a=e("global/window"),s=r(a),l=s["default"].navigator.userAgent,u=/AppleWebKit\/([\d.]+)/i.exec(l),d=u?parseFloat(u.pop()):null,c=/iPad/i.test(l);n.IS_IPAD=c;var p=/iPhone/i.test(l)&&!c;n.IS_IPHONE=p;var h=/iPod/i.test(l);n.IS_IPOD=h;var f=p||c||h;n.IS_IOS=f;var m=function(){var e=l.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0}();n.IOS_VERSION=m;var g=/Android/i.test(l);n.IS_ANDROID=g;var y=function(){var e,t,n=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e?e:null):null}();n.ANDROID_VERSION=y;var v=g&&/webkit/i.test(l)&&2.3>y;n.IS_OLD_ANDROID=v;var _=g&&5>y&&537>d;n.IS_NATIVE_ANDROID=_;var b=/Edge/i.test(l);n.IS_EDGE=b;var S=!!o["default"].documentMode;n.IS_IE=S;var T=/MSIE\s8\.0/.test(l);n.IS_IE8=T;var w=/MSIE\s9\.0/.test(l);n.IS_IE9=w;var k=!!s["default"].MSInputMethodContext&&!!o["default"].documentMode;n.IS_IE11=k;var E=/IEMobile\/([0-9.]*)/.test(l);n.IS_IEMOBILE=E;var C=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(l));n.IE_VERSION=C;var P=/Firefox/i.test(l);n.IS_FIREFOX=P;var I=function(){var e=l.match(/Firefox\/([0-9.]*)/i);return e&&e[1]?e[1]:void 0}();n.FIREFOX_VERSION=I;var M=!b&&/Chrome/i.test(l);n.IS_CHROME=M;var A=/Safari/i.test(l)&&!M&&!b&&!E;n.IS_SAFARI=A;var R=/Macintosh/i.test(l)&&/AppleWebKit/i.test(l)&&!A&&!P&&!M;n.IS_MACWEBVIEW=R;var j=!!("ontouchstart"in s["default"]||s["default"].DocumentTouch&&o["default"]instanceof s["default"].DocumentTouch);n.TOUCH_ENABLED=j;var O="backgroundSize"in o["default"].createElement("video").style;n.BACKGROUND_SIZE_SUPPORTED=O;var D=/android|webos|windows phone|iphone|ipad|ipod|blackBerry|iemobile|opera mini/i.test(l.toLowerCase());n.IS_MOBILE=D;var x=/MSAppHost/.test(l);n.IS_MSAPPHOST=x},{"global/document":79,"global/window":80}],240:[function(e,t,n){"use strict";function r(e,t){var n,r,o=0;if(!t)return 0;e&&e.length||(e=i.createTimeRange(0,0));for(var a=0;a<e.length;a++)n=e.start(a),r=e.end(a),r>t&&(r=t),o+=r-n;return o/t}n.__esModule=!0,n.bufferedPercent=r;var i=e("./time-ranges.js")},{"./time-ranges.js":253}],241:[function(e,t,n){"use strict";function r(e){var t=e,n=e.player_.controlBar;n&&Object.getOwnPropertyNames(n).forEach(function(e){n[e]!==t&&n[e].el_&&n[e].el_.className&&(-1!==n[e].el_.className.indexOf("vjs-menu-button")||-1!==n[e].el_.className.indexOf("vjs-volume-control"))&&n[e].buttonPressed_&&n[e].unpressButton()})}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],242:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function a(e){return"hidden"!==B["default"].getComputedStyle(e).visibility&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function s(e){return"string"==typeof e&&/\S/.test(e)}function l(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function u(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function d(e){return function(t,n){return s(t)?(s(n)&&(n=L["default"].querySelector(n)),(I(n)?n:L["default"])[e](t)):L["default"][e](null)}}function c(e){return 0===e.indexOf("#")&&(e=e.slice(1)),L["default"].getElementById(e)}function p(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=L["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(H["default"].warn(q["default"](D,e,n)),r.setAttribute(e,n)):r[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){n[e],r.setAttribute(e,n[e])}),r}function h(e,t){"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t}function f(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function m(e){var t=e[K];return t||(t=e[K]=U.newGUID()),W[t]||(W[t]={}),W[t]}function g(e){var t=e[K];return!!t&&!!Object.getOwnPropertyNames(W[t]).length}function y(e){var t=e[K];if(t){delete W[t];try{delete e[K]}catch(n){e.removeAttribute?e.removeAttribute(K):e[K]=null}}}function v(e,t){return e.classList?e.classList.contains(t):(l(t),u(t).test(e.className))}function _(e,t){return"undefined"!=typeof t&&null!==t&&t.length>0&&(e.classList?e.classList.add(t):v(e,t)||(e.className=(e.className+" "+t).trim())),e}function b(e,t){return e.classList?e.classList.remove(t):(l(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function S(e,t,n){var r=v(e,t);return"function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r?(n?_(e,t):b(e,t),e):void 0}function T(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"==typeof r||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function w(e){var t,n,r,i,o;if(t={},n=",autoplay,controls,loop,muted,default,",e&&e.attributes&&e.attributes.length>0){r=e.attributes;for(var a=r.length-1;a>=0;a--)i=r[a].name,o=r[a].value,("boolean"==typeof e[i]||-1!==n.indexOf(","+i+","))&&(o=null!==o),t[i]=o}return t}function k(){L["default"].body.focus(),L["default"].onselectstart=function(){return!1}}function E(){L["default"].onselectstart=function(){return!0}}function C(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=L["default"].documentElement,r=L["default"].body,i=n.clientLeft||r.clientLeft||0,o=B["default"].pageXOffset||r.scrollLeft,a=n.clientTop||r.clientTop||0,s=B["default"].pageYOffset||r.scrollTop,l=t.top+s-a,u=void 0,d=n.msContentZoomFactor;return u=d&&d>1?t.left-i:t.left+o-i,{left:Math.round(u),top:Math.round(l)}}function P(e,t){var n={},r=C(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(u-s)/i)),n}function I(e){return!!e&&"object"==typeof e&&1===e.nodeType}function M(e){return!!e&&"object"==typeof e&&3===e.nodeType}function A(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function R(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),I(e)||M(e)?e:"string"==typeof e&&/\S/.test(e)?L["default"].createTextNode(e):void 0}).filter(function(e){return e})}function j(e,t){return R(t).forEach(function(t){return e.appendChild(t)}),e}function O(e,t){return j(A(e),t)}n.__esModule=!0,n.isVisible=a,n.getEl=c,n.createEl=p,n.textContent=h,n.insertElFirst=f,n.getElData=m,n.hasElData=g,n.removeElData=y,n.hasElClass=v,n.addElClass=_,n.removeElClass=b,n.toggleElClass=S,n.setElAttributes=T,n.getElAttributes=w,n.blockTextSelection=k,n.unblockTextSelection=E,n.findElPosition=C,n.getPointerPosition=P,n.isEl=I,n.isTextNode=M,n.emptyEl=A,n.normalizeContent=R,n.appendContent=j,n.insertContent=O;var D=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),x=e("global/document"),L=i(x),N=e("global/window"),B=i(N),F=e("./guid.js"),U=r(F),z=e("./log.js"),H=i(z),V=e("tsml"),q=i(V),W={},K="vdata"+(new Date).getTime(),G=d("querySelector");n.$=G;var J=d("querySelectorAll");n.$$=J},{"./guid.js":247,"./log.js":250,"global/document":79,"global/window":80,tsml:77}],243:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t,n){if(Array.isArray(t))return c(o,e,t,n);var r=h.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=m.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=u(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;s>a&&!t.isImmediatePropagationStopped();a++)o[a].call(e,t,n)}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function a(e,t,n){if(h.hasElData(e)){var r=h.getElData(e);if(r.handlers){if(Array.isArray(t))return c(a,e,t,n);var i=function(t){r.handlers[t]=[],d(e,t)};if(t){var o=r.handlers[t];if(o){if(!n)return void i(t);if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);d(e,t)}}else for(var l in r.handlers)i(l)}}}function s(e,t,n,r,i){var o=h.hasElData(e)?h.getElData(e):{},a=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e,clip:r,time:i}),t=u(t),o.dispatcher&&o.dispatcher.call(e,t,n),a&&!t.isPropagationStopped()&&t.bubbles===!0)s.call(null,a,t,n);else if(!a&&!t.defaultPrevented){var l=h.getElData(t.target);t.target[t.type]&&(l.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),l.disabled=!1)}return!t.defaultPrevented}function l(e,t,n){if(Array.isArray(t))return c(l,e,t,n);var r=function i(){a(e,t,i),n.apply(this,arguments)};r.guid=n.guid=n.guid||m.newGUID(),o(e,t,r)}function u(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||y["default"].event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||_["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var o=_["default"].documentElement,a=_["default"].body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function d(e,t){var n=h.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&h.removeElData(e)}function c(e,t,n,r){n.forEach(function(n){e(t,n,r)})}n.__esModule=!0,n.on=o,n.off=a,n.trigger=s,n.one=l,n.fixEvent=u;var p=e("./dom.js"),h=i(p),f=e("./guid.js"),m=i(f),g=e("global/window"),y=r(g),v=e("global/document"),_=r(v)},{"./dom.js":242,"./guid.js":247,"global/document":79,"global/window":80}],244:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./guid.js"),i=function(e,t,n){t.guid||(t.guid=r.newGUID());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i};n.bind=i},{"./guid.js":247}],245:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=["monospace","sans-serif","serif"],t="Segoe UI",n="mmmmmmmmmmlli",r="72px",i=a["default"].document.getElementsByTagName("body")[0],o=a["default"].document.createElement("span");o.style.fontSize=r,o.style.position="absolute",o.style.top="-9999px",o.style.left="-9999px",o.innerHTML=n;var s={},u={};for(var d in e)o.style.fontFamily=e[d],i.appendChild(o),s[e[d]]=o.offsetWidth,u[e[d]]=o.offsetHeight,i.removeChild(o);var c=!1;for(var d in e){o.style.fontFamily=t+","+e[d],i.appendChild(o);var p=o.offsetWidth!==s[e[d]]||o.offsetHeight!==u[e[d]];i.removeChild(o),c=c||p}if(!c){var h=a["default"].document.createElement("style"),f=a["default"].document.getElementsByTagName("head")[0],m="/files/taikooplace/fonts/amp-2.3.8/";l["default"].getScriptRootURL();h.appendChild(a["default"].document.createTextNode('@font-face{font-family:"Segoe UI";src: url("'+m+'segoeui.eot");src: url("'+m+'segoeui.eot?#iefix") format("embedded-opentype"),url("'+m+'segoeui.woff") format("woff"), url("'+m+'segoeui.ttf") format("truetype"), url("'+m+'segoeui.svg#Segoe") format("svg");font-weight: normal;font-style: normal;}')),f.appendChild(h)}}n.__esModule=!0;var o=e("global/window"),a=r(o),s=e("../player.js"),l=r(s);n["default"]=i,t.exports=n["default"]},{"../player.js":210,"global/window":80}],246:[function(e,t,n){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){e=0>e?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&10>r?"0"+r:r)+":",n=10>n?"0"+n:n,i+r+n}()}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],247:[function(e,t,n){"use strict";function r(){return i++}n.__esModule=!0,n.newGUID=r;var i=1},{}],248:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=void 0,t=void 0;e=a["default"].document.createElement("div"),e.style.color="rgb(31, 41, 59)",a["default"].document.body.appendChild(e),t=a["default"].document.defaultView?a["default"].document.defaultView.getComputedStyle(e,null).color:e.currentStyle.color,t=t.replace(/ /g,""),a["default"].document.body.removeChild(e),String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});var n="rgb(31,41,59)"!==t;n&&!a["default"].document.body.className.includes("high-contrast-enabled")?a["default"].document.body.className=a["default"].document.body.className+" high-contrast-enabled ":n||(a["default"].document.body.className=a["default"].document.body.className.replace("high-contrast-enabled",""))}n.__esModule=!0;var o=e("global/window"),a=r(o);n["default"]=i,t.exports=n["default"]},{"global/window":80}],249:[function(e,t,n){"use strict";function r(){return{ab:{name:"Abkhaz",nativeName:""},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"
},am:{name:"Amharic",nativeName:""},ar:{name:"Arabic",nativeName:""},an:{name:"Aragonese",nativeName:"Aragons"},hy:{name:"Armenian",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" ,  "},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:" "},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:""},bn:{name:"Bangla",nativeName:""},bh:{name:"Bihari",nativeName:""},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:" "},my:{name:"Burmese",nativeName:""},ca:{name:"Catalan; Valencian",nativeName:"Catal"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:" "},ny:{name:"Chichewa; Chewa; Nyanja",nativeName:"chiChea, chinyanja"},zh:{name:"Chinese",nativeName:" (Zhngwn), , "},cv:{name:"Chuvash",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:""},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"etina"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi; Dhivehi; Maldivian;",nativeName:""},nl:{name:"Dutch",nativeName:"Nederlands"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti"},ee:{name:"Ewe",nativeName:"Eegbe"},fo:{name:"Faroese",nativeName:"froyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi"},fr:{name:"French",nativeName:"franais"},ff:{name:"Fula; Fulah; Pulaar; Pular",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:""},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek, Modern",nativeName:""},gn:{name:"Guaran",nativeName:"Avae"},gu:{name:"Gujarati",nativeName:""},ht:{name:"Haitian; Haitian Creole",nativeName:"Kreyl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, "},he:{name:"Hebrew (modern)",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:", "},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:", "},kk:{name:"Kazakh",nativeName:" "},km:{name:"Khmer",nativeName:""},ki:{name:"Kikuyu, Gikuyu",nativeName:"Gky"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kirghiz, Kyrgyz",nativeName:" "},kv:{name:"Komi",nativeName:" "},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:" (),  ()"},ku:{name:"Kurdish",nativeName:""},kj:{name:"Kwanyama, Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish, Letzeburgesch",nativeName:"Ltzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish, Limburgan, Limburger",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latvieu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:" "},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu,  "},ml:{name:"Malayalam",nativeName:""},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Mori",nativeName:"te reo Mori"},mr:{name:"Marathi (Marh)",nativeName:""},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mn:{name:"Mongolian",nativeName:""},na:{name:"Nauru",nativeName:"Ekakair Naoero"},nv:{name:"Navajo, Navaho",nativeName:"Din bizaad, Dinkeh"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe, Ojibwa",nativeName:""},cu:{name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic",nativeName:" "},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Odia",nativeName:""},os:{name:"Ossetian, Ossetic",nativeName:" "},pa:{name:"Panjabi, Punjabi",nativeName:", "},pi:{name:"Pli",nativeName:""},fa:{name:"Persian",nativeName:""},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto, Pushto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian, Moldovans, Moldovan",nativeName:"romn"},ru:{name:"Russian",nativeName:""},sa:{name:"Sanskrit (Saskta)",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:",  "},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yng t sng"},sr:{name:"Serbian",nativeName:" "},gd:{name:"Scottish Gaelic; Gaelic",nativeName:"Gidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhala, Sinhalese",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovene",nativeName:"slovenina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"espaol"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},bo:{name:"Tibetan Standard, Tibetan, Central",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmen"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga (Tonga Islands)",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:""},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uighur, Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:"zbek, , "},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang, Chuang",nativeName:"Sa cue, Saw cuengh"},mis:{name:"uncoded languages",nativeName:"uncoded languages"},mul:{name:"multiple languages",nativeName:"multiple languages"},und:{name:"undetermined",nativeName:"undetermined"},zxx:{name:"no linguistic content/not applicable",nativeName:"no linguistic content/not applicable"}}}function i(e){var t={aar:"aa",abk:"ab",ave:"ae",afr:"af",aka:"ak",amh:"am",ara:"ar",asm:"as",ava:"av",aym:"ay",aze:"az",bak:"ba",bel:"be",bul:"bg",bih:"bh",bis:"bi",bam:"bm",ben:"bn",bod:"bo",tib:"bo",bre:"br",bos:"bs",cat:"ca",che:"ce",cha:"ch",cos:"co",cre:"cr",ces:"cs",cze:"cs",chu:"cu",chv:"cv",cym:"cy",wel:"cy",dan:"da",deu:"de",ger:"de",div:"dv",dzo:"dz",ewe:"ee",ell:"el",gre:"el",eng:"en",epo:"eo",spa:"es",est:"et",baq:"eu",eus:"eu",fas:"fa",per:"fa",ful:"ff",fin:"fi",fij:"fj",fao:"fo",fre:"fr",fra:"fr",fry:"fy",gle:"ga",gla:"gd",glg:"gl",grn:"gn",glv:"gv",guj:"gu",hau:"ha",heb:"he",hin:"hi",hmo:"ho",hrv:"hr",hat:"ht",hun:"hu",arm:"hy",hye:"hy",her:"hz",ina:"ia",ind:"id",ile:"ie",ibo:"ig",iii:"ii",ipk:"ik",ido:"io",ice:"is",isl:"is",ita:"it",iku:"iu",jpn:"ja",jav:"jv",geo:"ka",kat:"ka",kon:"kg",kik:"ki",kua:"kj",kaz:"kk",kal:"kl",khm:"km",kan:"kn",kor:"ko",kau:"kr",kas:"ks",kur:"ku",kom:"kv",cor:"kw",kir:"ky",lat:"la",ltz:"lb",lug:"lg",lim:"li",lin:"ln",lao:"lo",lit:"lt",lub:"lu",lav:"lv",mlg:"mg",mah:"mh",mao:"mi",mri:"mi",mac:"mk",mkd:"mk",mal:"ml",mon:"mn",mar:"mr",may:"ms",msa:"ms",mlt:"mt",bur:"my",mya:"my",nau:"na",nob:"nb",nde:"nd",nep:"ne",ndo:"ng",dut:"nl",nld:"nl",nno:"nn",nor:"no",nbl:"nr",nav:"nv",nya:"ny",oci:"oc",oji:"oj",orm:"om",ori:"or",oss:"os",pan:"pa",pli:"pi",pol:"pl",pus:"ps",por:"pt",que:"qu",roh:"rm",run:"rn",ron:"ro",rum:"ro",rus:"ru",kin:"rw",san:"sa",srd:"sc",snd:"sd",sme:"se",sag:"sg",sin:"si",slk:"sk",slo:"sk",slv:"sl",smo:"sm",sna:"sn",som:"so",alb:"sq",sqi:"sq",srp:"sr",ssw:"ss",sot:"st",sun:"su",swe:"sv",swa:"sw",tam:"ta",tel:"te",tgk:"tg",tha:"th",tir:"ti",tuk:"tk",tgl:"tl",tsn:"tn",ton:"to",tur:"tr",tso:"ts",tat:"tt",twi:"tw",tah:"ty",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",chi:"zh",zho:"zh",zul:"zu"};return t[e]}n.__esModule=!0,n.getIsoLangs=r,n.get2LetterLangCode=i},{}],250:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];l.logByType("log",t)}n.__esModule=!0;var o=e("global/window"),a=r(o),s=e("./browser"),l={};n.Log=l,l.logByType=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!!s.IE_VERSION&&s.IE_VERSION<11:arguments[2],r=a["default"].console,o=r&&r[e]||function(){};"log"!==e&&t.unshift(e.toUpperCase()+":"),i.history.push(t),t.unshift("VIDEOJS:"),n&&(t=t.map(function(e){if(e&&"object"==typeof e||Array.isArray(e))try{return JSON.stringify(e)}catch(t){}return String(e)}).join(" ")),o.apply?o[Array.isArray(t)?"apply":"call"](r,t):o(t)},i.history=[],i.error=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return l.logByType("error",t)},i.warn=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return l.logByType("warn",t)},n["default"]=i},{"./browser":239,"global/window":80}],251:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object}function o(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),e.push(l),s["default"].apply(null,e),e[0]}n.__esModule=!0,n["default"]=o;var a=e("lodash-compat/object/merge"),s=r(a),l=function(e,t){return i(t)?i(e)?void 0:o(t):t};t.exports=n["default"]},{"lodash-compat/object/merge":62}],252:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),o=r(i),a=function(e){var t=o["default"].createElement("style");return t.className=e,t};n.createStyleElement=a;var s=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};n.setTextContent=s},{"global/document":79}],253:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return Array.isArray(e)?o(e):void 0===e||void 0===t?o():o([[e,t]])}function o(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:a.bind(null,"start",0,e),end:a.bind(null,"end",1,e)}}function a(e,t,n,r){return void 0===r&&(u["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),s(e,r,n.length-1),n[r][t]}function s(e,t,n){if(0>t||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}n.__esModule=!0,n.createTimeRanges=i;var l=e("./log.js"),u=r(l);n.createTimeRange=i},{"./log.js":250}],254:[function(e,t,n){"use strict";function r(e){return e.charAt(0).toLowerCase()+e.slice(1)}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],255:[function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],256:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),o=r(i),a=e("global/window"),s=r(a),l=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"];e=encodeURI(e);var n=o["default"].createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=o["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),o["default"].body.appendChild(i));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),r&&o["default"].body.removeChild(i),a};n.parseUrl=l;var u=/^[=&;\/]{1}/,d=/([=&;\/]{1})/,c=function(e){var t=e.indexOf("?"),n={hierarchical:decodeURI(e),query:[]};if(-1!==t){n.hierarchical=decodeURI(e.slice(0,t));for(var r=e.slice(t+1),i=r.split(d),o=0;o<i.length;o++)n.query.push(i[o].match(u)?i[o]:decodeURIComponent(i[o]))}return n};n.decodeURL=c;var p=function(e){var t="";if(e.query&&e.query.length){t="?";for(var n=0;n<e.query.length;n++)t+=e.query[n].match(u)?e.query[n]:encodeURIComponent(e.query[n])}return encodeURI(e.hierarchical)+t};n.encodeURL=p;var h=function(e){var t=c(e);if(t.hierarchical.match(/^(https?:)?\/\//i))e=p(t);else{var n=o["default"].createElement("div");n.innerHTML='<a href="'+p(t)+'">x</a>',e=n.firstChild.href}return e};n.getAbsoluteURL=h;var f=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""};n.getFileExtension=f;var m=function(e){var t=s["default"].location,n=l(e),r=":"===n.protocol?t.protocol:n.protocol,i=r+n.host!==t.protocol+t.host;return i};n.isCrossOrigin=m},{"global/document":79,"global/window":80}],257:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),o.getPlayers()[e])return t&&B["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&o.getPlayers()[e].ready(n),o.getPlayers()[e];r=U.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return r.player||S["default"].players[r.playerId]||new S["default"](r,t,n)}n.__esModule=!0;var a=e("global/window"),s=i(a),l=e("global/document"),u=i(l),d=e("./setup"),c=r(d),p=e("./utils/stylesheet.js"),h=r(p),f=e("./component"),m=i(f),g=e("./event-target"),y=i(g),v=e("./utils/events.js"),_=r(v),b=e("./player"),S=i(b),T=e("./plugins.js"),w=i(T),k=e("../../src/js/utils/merge-options.js"),E=i(k),C=e("./utils/fn.js"),P=r(C),I=e("./tracks/text-track.js"),M=i(I),A=e("./tracks/audio-track.js"),R=i(A),j=e("./tracks/video-track.js"),O=i(j),D=e("./utils/time-ranges.js"),x=e("./utils/format-time.js"),L=i(x),N=e("./utils/log.js"),B=i(N),F=e("./utils/dom.js"),U=r(F),z=e("./utils/browser.js"),H=r(z),V=e("./utils/url.js"),q=r(V),W=e("./extend.js"),K=i(W),G=e("lodash-compat/object/merge"),J=i(G),Y=e("xhr"),Z=i(Y),Q=e("./tech/tech.js"),X=i(Q),$=e("./tech/html5.js"),ee=(i($),e("./tech/flash.js"));if(i(ee),"undefined"==typeof HTMLVideoElement&&(u["default"].createElement("video"),u["default"].createElement("audio"),u["default"].createElement("track")),s["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var te=U.$(".vjs-styles-defaults");if(!te){te=h.createStyleElement("vjs-styles-defaults");var ne=U.$("head");ne.insertBefore(te,ne.firstChild),h.setTextContent(te,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,o),o.VERSION="2.1.8.0",o.options=S["default"].prototype.options_,o.getPlayers=function(){return S["default"].players},o.players=S["default"].players,o.getComponent=m["default"].getComponent,o.registerComponent=function(e,t){X["default"].isTech(t)&&B["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),m["default"].registerComponent.call(m["default"],e,t)},o.getTech=X["default"].getTech,o.registerTech=X["default"].registerTech,o.browser=H,o.TOUCH_ENABLED=H.TOUCH_ENABLED,o.extend=K["default"],o.mergeOptions=E["default"],o.bind=P.bind,o.plugin=w["default"],o.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),S["default"].prototype.options_.languagesMutated=!0,J["default"](o.options.languages,(n={},n[e]=t,n))[e]},o.log=B["default"],o.createTimeRange=o.createTimeRanges=D.createTimeRanges,o.formatTime=L["default"],o.parseUrl=q.parseUrl,o.isCrossOrigin=q.isCrossOrigin,o.EventTarget=y["default"],o.on=_.on,o.one=_.one,o.off=_.off,o.trigger=_.trigger,o.xhr=Z["default"],o.TextTrack=M["default"],o.AudioTrack=R["default"],o.VideoTrack=O["default"],o.isEl=U.isEl,o.isTextNode=U.isTextNode,o.createEl=U.createEl,o.hasClass=U.hasElClass,o.addClass=U.addElClass,o.removeClass=U.removeElClass,o.toggleClass=U.toggleElClass,o.setAttributes=U.setElAttributes,o.getAttributes=U.getElAttributes,o.emptyEl=U.emptyEl,o.appendContent=U.appendContent,o.insertContent=U.insertContent,"object"==typeof n&&"object"==typeof t&&(t.exports=o),n["default"]=o,t.exports=n["default"]},{"../../src/js/utils/merge-options.js":251,"./component":163,"./event-target":201,"./extend.js":202,"./player":210,"./plugins.js":211,"./setup":215,"./tech/flash.js":218,"./tech/html5.js":219,"./tech/tech.js":222,"./tracks/audio-track.js":225,"./tracks/text-track.js":233,"./tracks/video-track.js":238,"./utils/browser.js":239,"./utils/dom.js":242,"./utils/events.js":243,"./utils/fn.js":244,"./utils/format-time.js":246,"./utils/log.js":250,"./utils/stylesheet.js":252,"./utils/time-ranges.js":253,"./utils/url.js":256,"global/document":79,"global/window":80,"lodash-compat/object/merge":62,xhr:85}]},{},[96]),amp.utils=amp.utils||{},amp.utils.getBitrateByUnit=function(e){var t=e+"bps";return e>=1e6?(e=amp.utils.roundToOneDecimal(e/1e6),t=e+"Mbps"):e>=1e3&&(e=amp.utils.roundToOneDecimal(e/1e3),t=e+"Kbps"),t},amp.utils.getSizeByUnit=function(e){var t=e;return e>=1048576?(e=amp.utils.roundToOneDecimal(e/1048576),t=e+"MB"):e>=1024&&(e=amp.utils.roundToOneDecimal(e/1024),t=e+"KB"),t},amp.utils.roundToOneDecimal=function(e){return+(Math.round(e+"e+1")+"e-1")},function(e){"use strict";var t=amp.getComponent("MenuButton"),n=t.prototype.addChild;t.prototype.addChild=function(t){n.call(this,t),t.hasClass("vjs-menu")&&this.trigger(e.internalEventName.menuadded)}}(window.amp),function(e){"use strict";e.plugin("responsive",function(t){function n(e){return"number"==typeof e?e:"string"==typeof e&&!isNaN(parseInt(e,10))&&parseInt(e,10)}function r(e){for(var t={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o],s=n(a);if(s!==!1)t[o]={from:s,to:s};else if(a.from||a.to){var l=n(a.from),u=n(a.to);(l!==!1||u!==!1)&&(t[o]={}),l!==!1&&(t[o].from=l),u!==!1&&(t[o].to=u)}}return t}function i(e){e.playerContainer().style.fontSize=e.playerContainer().offsetWidth+"px"}function o(){var e=this.getCurrentTextTrack();e&&this.textTrackDisplay.updateForTrack(e)}function a(){for(var e=this.playerContainer().offsetWidth,t=[],n=0;n<f.length;n++){var r=f[n],o=h[r].from,a=h[r].to;void 0!==o&&void 0!==a?e>=o&&a>=e&&t.push(r):void 0!==o&&e>=o?t.push(r):void 0!==a&&a>=e&&t.push(r)}t.length>0&&(t=t.join(" "),l!==t&&(this.removeElClass(this.playerContainer(),l),this.addElClass(this.playerContainer(),t),l=t)),i(this)}function s(){for(var e=u.el().offsetHeight-u.controlBar.el().offsetHeight,t=e-20,n=0;n<c.length;n++){var r=c[n];r.style.maxHeight=t+"px"}}var l,u=this,d=200,c=[],p={"amp-size-es":{from:189,to:229},"amp-size-s":{from:230,to:399},"amp-size-m":{from:400,to:799},"amp-size-l":{from:800}},h=r(e.mergeOptions(t.sizeClasses,p)),f=Object.keys(h);i(u),u.addThrottledWindowResizeListener(e.bind(u,a),d),u.one(e.eventName.loadstart,function(){e.TOUCH_ENABLED&&u.addClass("amp-touch-enabled")}),u.ready(e.bind(u,function(){this.addThrottledWindowResizeListener(e.bind(this,o),d),a.call(this);var t=this;this.addThrottledWindowResizeListener(s,d),u.on("fullscreenchange",function(){a.call(t)}),this.on(e.internalEventName.menuadded,function(){c=this.controlBar.el().querySelectorAll(".vjs-menu-content"),s()})}))})}(window.amp),function(e){"use strict";e.plugin("ampAudioTracks",function(t){function n(e){var t=m.controlBar.audioTracksButton,n=v,r=t.items.indexOf(e),i=T[r],o=m.currentAudioStreamList();!o||void 0===i||0>i||(n!==r&&o.switchIndex(i)&&(n<t.items.length&&t.items[n].selected(!1),e.selected(!0),v=r),m.hasStarted()&&m.restartCheckMediaWorkflowIfNeeded())}function r(e){var t=e.currentAudioStreamList();if(!t)return[];o(e);for(var n,r,i=[],a=0;a<t.streams.length;a++)n=t.streams[a],r=!n.hasOwnProperty("supported")||n.supported,i.push({text:n.title?n.title:n.name,codecName:p(n.codec),codec:n.codec,supported:r});return i}function i(e){var t=e.currentAudioStreamList();if(!t)return null;for(var n=0;n<t.streams.length;n++)if(t.streams[n].enabled)return t.streams[n].codec;return null}function o(t){var n=t.currentAudioStreamList();if(E)for(var r=0;r<n.streams.length;r++)n.streams[r].title=n.streams[r].name;else{var i=f(n.streams,function(e){var t=u(e.language);return t||(t=e.language),t}),o=f(n.streams,function(t){return e.utils.getBitrateByUnit(t.bitrate)}),a=[];if(c(i))a=i;else{var s=[];o.forEach(function(e,t){var n=i[t]?i[t]:"Track"+t;s.push(n+" - "+o[t])}),a=s.slice(),s.forEach(function(e,t){var n=s.indexOf(e);t>n&&(a[n]=s[n]+" ("+n+")",a[t]=s[t]+" ("+t+")")})}for(var r=0;r<n.streams.length;r++)n.streams[r].title=a[r]}}function a(){var t=this.player_.currentAudioStreamList();t&&t.addEventListener(e.streamListEventName.streamselected,e.bind(this,s)),this.refresh(),v=void 0,l(this.player_)}function s(){var e=this.player_.currentAudioStreamList(),t=this.player_.controlBar.audioTracksButton,n=v,r=T[n];if(r!==e.enabledIndices[0]){n<t.items.length&&t.items[n].selected(!1);var i=e.enabledIndices[0];v=w[i],v<t.items.length&&t.items[v].selected(!0)}}function l(e){var t=e.currentAudioStreamList();if(t){var r=e.controlBar.audioTracksButton,i=T[v];if(i!=t.enabledIndices[0]){var o=w[t.enabledIndices[0]];void 0!==o&&n(r.items[o])}}}function u(e){if(!e)return null;var t=null;return 3==e.length&&(t=amp.get2LetterLangCode(e)),g&&t&&g[t]?g[t].nativeName:g&&e&&g[e]?g[e].nativeName:null}function d(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function c(e){return d(e).length==e.length}function p(e){var t=["aac","mp4a"],n=["dtse","ac-3","ec-3"];return null==e?S:(e=e.toLowerCase(),h(n,e)?b:h(t,e)?S:void 0)}function h(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}function f(e,t){var n=[];return e.forEach(function(e,r){n.push(t(e,r))}),n}var m=this,g=e.getIsoLangs(),y=t&&t.menuTitle?t.menuTitle:"Audio Tracks",v=t&&t.selectedItem?t.selectedItem:0,_="amp-audiotracks-control",b=this.htmlEncode(this.localize("Dolby Digital")),S=this.htmlEncode(this.localize("Stereo")),T={},w={},k=!0,E=!1;m.options_.skinConfig&&m.options_.skinConfig.audioTracksMenu&&("undefined"!=typeof m.options_.skinConfig.audioTracksMenu.enabled&&(k=m.options_.skinConfig.audioTracksMenu.enabled),E=m.options_.skinConfig.audioTracksMenu.useManifestForLabel||!1);var C=e.getComponent("MenuItem");e.AudioTrackskMenuItem=e.extend(C,{init:function(e,t){var n={label:t.text,selected:t.selected,selectable:!0};C.call(this,e,n),this.addClass("amp-menu-item")}}),e.AudioTrackskMenuItem.prototype.handleClick=function(){n(this)},e.registerComponent("AudioTrackskMenuItem",e.AudioTrackskMenuItem);var P=e.getComponent("MenuButton");e.AudioTracksButton=e.extend(P,{init:function(t,n){k&&(n=n||{},n.name="audioTracksButton",P.call(this,t,n),t.addEventListener(AzureHtml5JS.Common.isSafari?e.eventName.loadeddata:e.eventName.loadedmetadata,e.bind(this,a)))}}),e.AudioTracksButton.prototype.refresh=function(){if(this.removeChild(this.menu),null!=this.menu&&this.menu.dispose(),this.menu=this.createMenu(),!this.items||this.items.length<=1)return void this.hide();this.addChild(this.menu);var t=e.getComponent("Component"),n=new t(m,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(y)),tabindex:-1})});this.menu.prependItem(n),this.show()},e.AudioTracksButton.prototype.buttonText=y,e.AudioTracksButton.prototype.createItems=function(){var t=r(this.player_)||[],n=!0,o=null,a=[];AzureHtml5JS.Common.isChromiumEdge&&(n=!!(this.player_&&this.player_.tech_&&this.player_.tech_.mediaPlayer&&this.player_.tech_.mediaPlayer._sessionContext&&this.player_.tech_.mediaPlayer._sessionContext.emeManager&&this.player_.tech_.mediaPlayer._sessionContext.emeManager.matchedKeySystem)),n&&(o=i(this.player_));for(var s=0,l=0;s<t.length;s++)if(t[s].supported&&(!n||t[s].codec===o)){T[l]=s,w[s]=l++;var u=new e.AudioTrackskMenuItem(this.player_,t[s]);a.push(u)}return a},e.AudioTracksButton.prototype.buildCSSClass=function(){return _+" "+P.prototype.buildCSSClass.call(this)},e.registerComponent("AudioTracksButton",e.AudioTracksButton),m.ready(function(){var t=new e.AudioTracksButton(m,{selectedItemIndex:v});m.controlBar.audioTracksButton=m.controlBar.addChild(t),AzureHtml5JS.Common.isChromiumEdge&&m.addEventListener("drmselected",function(){m.controlBar.audioTracksButton.refresh()}),k&&(m.controlBar.audioTracksButton.el_.setAttribute("aria-label","Audio Tracks Menu"),m.controlBar.audioTracksButton.el_.setAttribute("title",this.localize("Audio Tracks")),m.controlBar.audioTracksButton.el_.setAttribute("role","region"))})})}(window.amp),function(e){"use strict";var t=e.getComponent("CaptionSettingsMenuItem"),n=t.prototype.onClick,r=e.getComponent("TextTrackSettings"),i=r.prototype.saveSettings;e.plugin("closedCaption",function(o){var a=this,s=o&&o.menuTitle?o.menuTitle:"Closed Captioning";a.addEventListener(e.eventName.loadedmetadata,function(){a.controlBar.captionsButton.el().className+=" amp-closedcaption-control",a.controlBar.captionsButton.buttonText=s;var t=e.getComponent("Component"),n=new t(a,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(s)),tabindex:-1})});a.controlBar.captionsButton.menu.prependItem(n)}),t.prototype.onClick=function(){n.apply(this),this.player().addClass("amp-showing-texttrack-settings")},r.prototype.saveSettings=function(){i.apply(this),this.player().removeClass("amp-showing-texttrack-settings")},a.on("dispose",function(){t.prototype.onClick=n,r.prototype.saveSettings=i})})}(window.amp),function(e){"use strict";e.plugin("contentTitle",function(t){function n(e,t,n){var r="amp-logo";if(o&&null!==n.currentClip()&&n.currentClip().isAd){var i="",a=n.currentClip().clickThrough||"",s=parseInt(n.duration()-n.currentTime());s>=0&&n.currentTime()>0&&(i=AMP.Misc.formatString(n.localize("AD_TIMING_INFO"),s),a.length>0&&(i=n.htmlEncode(i)+' | <a onclick=" return true" class="aboutLink">'+n.htmlEncode(a)+"</a>"),t=i),r="amp-logo-ad"}else t=n.htmlEncode(t);var l=null;l=e?['<div class="logo-title-row">','<div class="title"><h4>'+n.htmlEncode(e)+"</h4></div>",'<div class="'+r+'"></div>',"</div>"]:['<div class="logo-title-row">','<div class="title"></div>','<div class="'+r+'"></div>',"</div>"];var u=null;t&&(u='<div class="description">'+t+"</div>");var d=l.join("");return null!=u&&(d+=u),d}function r(){var t=n(this.title_||this.options_.title,this.options_.description,this);if(void 0!==i.contentTitleElement){i.contentTitleElement.innerHTML=t;var r=!i.options().logo||!!i.options().logo.enabled,a=o?"amp-logo-ad":"amp-logo";if(r&&i.el().getElementsByClassName(a).length>0){var s=new e.Logo(i);i.el().getElementsByClassName(a)[0].appendChild(s.el()),i.on("dispose",function(){s.dispose()})}}}var i=this,o=i.options_.isAdPlayer||!1,a=e.bind(i,r);i.ready(function(){var r=n(t.title,t.description,i),a="";a=o?e.createEl("div",{className:"amp-content-title-ad",innerHTML:r}):e.createEl("div",{className:"amp-content-title",innerHTML:r}),i.contentTitleElement=i.el().appendChild(a),o&&(i.contentTitleElement.onclick=function(){i.trigger("tech-click")})}),i.on("firstplay",a),i.on("presentationUpdate",a),o&&i.on("timeupdate",a),i.on("dispose",function(){i.contentTitleElement&&(i.contentTitleElement.parentElement&&i.contentTitleElement.parentElement.removeChild(i.contentTitleElement),i.contentTitleElement=null)})})}(window.amp),function(e){"use strict";e.plugin("wallClockOverlay",function(){function t(){var e=n.getWallClockTime(null,r.useLocalTimeZone,r.timezone,r.controlBar12HourFormat,!1),t=['<div class="overlay-row">','<div class="title"><h4>'+this.htmlEncode(e)+"</h4></div>","</div>"];n.overlayElement&&(n.overlayElement.innerHTML=t.join(""))}var n=this,r=n.options_.wallClockTimeDisplaySettings,i=!!r&&r.enabled,o=e.bind(n,t);n.ready(function(){if(i){var t=e.createEl("div",{className:"amp-wall-clock-overlay",innerHTML:""});n.overlayElement=n.el().appendChild(t)}}),i&&n.on("timeupdate",o),n.on("dispose",function(){n.overlayElement&&(n.overlayElement.parentElement&&n.overlayElement.parentElement.removeChild(n.overlayElement),n.overlayElement=null)})})}(window.amp),function(e){"use strict";e.plugin("controlBarIcons",function(t){function n(e){for(var t=0;t<u.length;t++)if(e===u[t].name())return u[t];return null}function r(t,r){var o=r.replace("amp-controlbaricons-","");o="controlBarIcons"+(o[0].toUpperCase()+o.slice(1));for(var a=e.getComponent("Component"),s=new a(i,{name:o,el:e.createEl("div",{className:r})}),l=0;l<t.length;l++){var u=n(t[l]);u&&(s.addChild(u),i.controlBar.removeChild(u))}i.controlBar.addChild(s)}var i=this,o=t&&t.leftIcons?t.leftIcons:[],a=t&&t.middleIcons?t.middleIcons:[],s=t&&t.rightIcons?t.rightIcons:[],l=!!t&&!!t.removeOtherIcons,u=[];i.ready(function(){if(u=i.controlBar.children().slice(),l)for(var e=0;e<u.length;e++)i.controlBar.removeChild(u[e]);r(o,"amp-controlbaricons-left"),r(a,"amp-controlbaricons-middle"),r(s,"amp-controlbaricons-right")}),i.on("dispose",function(){setTimeout(function(){for(var e=0;e<u.length;e++)u[e]&&u[e].dispose&&(u[e].dispose(),u[e]=null)},0)})})}(window.amp);var AMP;!function(e){!function(){"use strict";var t=function(){function e(e,t){this.languageCode=e,this.languageName=t,this.files=[]}return e}(),n=function(){function n(e,t,n){this.mediaPlayer=e,this.player=t,this.playerElement=n,this.visible=!1,this.languagesInFiles={},this.languageCount=0,this.selectedFile=null}return n.prototype.options=function(n){
var r,i,o,a=this.mediaPlayer.getIsoLangs(),s=this.visible;if(this.removeDialogElement(),!(n&&n instanceof Array))return void e.Logger.error(5,"Download plugin: downloadable media options are invalid.");for(this.languagesInFiles={},this.languageCount=0,r=0;r<n.length;r++){var l=n[r];l.lang&&"string"==typeof l.lang&&(i=null,o=null,a[l.lang]?(i=l.lang,o=a[l.lang]):(i=l.lang.split("-")[0],i&&a[i]&&(o=a[i])),i&&o&&(this.languagesInFiles[i]?this.languagesInFiles[i].files.push(l):(this.languagesInFiles[i]=new t(i,o),this.languagesInFiles[i].files.push(l),this.languageCount++)))}s&&this.languageCount>0&&this.show(),s&&0===this.languageCount&&this.closeCallback&&this.closeCallback()},n.prototype.show=function(){this.visible||(this.dialogElement||this.createDialogElement(),this.dialogElement.style.display="block",this.visible=!0,this.dialogElement.focus())},n.prototype.createDialogElement=function(){var t,n,r,i,o,a=this,s=this.playerElement.id,l=s+"_dlclose",u=s+"_dl",d=s+"_sel",c=s+"_dlglbl",p=s+"_dlgdesc";this.dialogElement=document.createElement("div"),this.dialogElement.style.display="none",this.dialogElement.className="amp-download-dialog",this.dialogElement.tabIndex=-1,this.dialogElement.setAttribute("role","dialog"),this.dialogElement.setAttribute("aria-labelledby",c),this.dialogElement.setAttribute("aria-describedby",p),this.dialogElement.onkeydown=function(e){27==e.keyCode&&a.hide()},n=this.dialogElement.appendChild(document.createElement("div")),n.setAttribute("role","document"),r=n.appendChild(document.createElement("div")),r.id=c,r.className="vjs-control-text",r.setAttribute("role","heading"),r.setAttribute("aria-level","1"),r.innerText=this.player.localize("Media Download Dialog"),i=n.appendChild(document.createElement("div")),i.id=p,i.className="vjs-control-text",i.innerText=this.player.localize("Media Download Description"),o=n.appendChild(document.createElement("div")),o.className="outline-enabled",o.innerHTML="<div id='"+l+"' class='amp-download-close vjs-control outline-enabled-control' role='button' tabindex=0><span class='vjs-control-text'>"+this.player.localize("Close")+"</span></div><div class='amp-download-container'><div class='amp-download-header'><div class='amp-download-header-title'>"+this.player.localize("Download")+"</div></div><div class='amp-download-body'><div class='amp-download-left-col'><form></form></div><div class='amp-download-right-col'><label class='amp-download-label' for='"+d+"' >"+this.player.localize("Language")+"</label><select id='"+d+"'></select></div><div class='amp-clear'></div></div><div class='amp-download-footer'><a id='"+u+"' class='amp-download-button amp-download-disabled' download>"+this.player.localize("Download")+"</a></div></div>";var h=this.dialogElement.getElementsByTagName("form")[0],f=this.dialogElement.getElementsByTagName("select")[0];for(t in this.languagesInFiles)if(this.languagesInFiles.hasOwnProperty(t)){var m=this.languagesInFiles[t],g=document.createElement("option");g.value=t,g.innerText=m.languageName.nativeName,f.add(g)}f.selectedIndex=0,f.onchange=function(){a.refreshMediaList(h,f)},this.refreshMediaList(h,f),this.playerElement.appendChild(this.dialogElement),document.getElementById(l).onclick=function(){a.hide()},this.downloadButton=document.getElementById(u),this.downloadButton.onclick=function(){a.selectedFile&&e.Logger.verbose(5,"Download plugin: Starting download file: "+a.selectedFile.uri)}},n.prototype.removeDialogElement=function(){this.dialogElement&&(this.playerElement.removeChild(this.dialogElement),this.dialogElement=null),this.visible=!1},n.prototype.refreshMediaList=function(e,t){var n,r,i,o=this;for(this.unselectFile();e.firstChild;)e.removeChild(e.firstChild);if(t.selectedIndex>=0&&t[t.selectedIndex]&&(r=t[t.selectedIndex],i=this.languagesInFiles[r.value]))for(n=0;n<i.files.length;n++)!function(t){var n=document.createElement("input");n.type="radio",n.name="fileselect",n.onchange=function(){o.selectFile(i.files[t])};var r=document.createElement("label");r.className="amp-download-label",r.appendChild(n),r.appendChild(document.createTextNode(o.getLabel(i.files[t]))),e.appendChild(r)}(n)},n.prototype.hide=function(){this.visible&&(this.dialogElement.style.display="none",this.visible=!1,this.closeCallback&&this.closeCallback())},n.prototype.onClose=function(e){this.closeCallback=e},n.prototype.selectFile=function(e){this.selectedFile=e,this.downloadButton&&(this.downloadButton.className="amp-download-button",this.downloadButton.href=e.uri)},n.prototype.unselectFile=function(){this.selectedFile=null,this.downloadButton&&(this.downloadButton.className="amp-download-button amp-download-disabled",this.downloadButton.removeAttribute("href"))},n.prototype.getLabel=function(t){var r="";switch(t.type){case amp.downloadableMediaType.video:r=n.videoWithoutCCLabel;break;case amp.downloadableMediaType.videoWithCC:r=n.videoWithCCLabel;break;case amp.downloadableMediaType.audio:r=n.audioLabel;break;case amp.downloadableMediaType.transcript:r=n.transciptLabel;break;default:e.Logger.error(5,"Download plugin: Unrecognized media type: "+t.type),r=t.type}return r=this.player.localize(r),t.bitrate&&(r=r+", "+amp.utils.getBitrateByUnit(t.bitrate)),t.size&&(r=r+", "+amp.utils.getSizeByUnit(t.size)),r},n.videoWithCCLabel="Video with Closed Caption",n.videoWithoutCCLabel="Video without Closed Caption",n.audioLabel="Audio",n.transciptLabel="Transcript",n}(),r=function(){function e(e,t){this.mediaPlayer=e,this.player=t;var r="Download",i=e.getComponent("Button"),o="amp-download-control";e.DownloadButton=e.extend(i,{init:function(e,t){t=t||{},t.name="downloadButton",i.call(this,e,t),this.controlText(r),this.buttonText=r,this.dialogVisible=!1,this.dialog=null,this.pused=!1,this.el_.setAttribute("style","cursor:pointer"),this.el_.setAttribute("title",this.localize("Download"))}}),e.DownloadButton.prototype.buildCSSClass=function(){return o+" "+i.prototype.buildCSSClass.call(this).trim()},e.DownloadButton.prototype.handleClick=function(){var t=this;this.dialog||(this.dialog=new n(e,this.player_,this.player_.el()),this.dialog.onClose(function(){t.dialogVisible=!1,t.paused&&(t.player_.play(),t.paused=!1)}),this.dialog.options(this.player_.downloadableMedia())),this.dialogVisible?(this.dialog.hide(),this.dialogVisible=!1):(this.dialog.show(),this.dialogVisible=!0,this.player_.paused()||(this.player_.pause(),this.paused=!0))},e.registerComponent("DownloadButton",e.DownloadButton),t.ready(function(){var n=new e.DownloadButton(t),r=t.downloadableMedia();t.controlBar.downloadButton=t.controlBar.addChild(n),r&&r instanceof Array&&0!==r.length||(t.controlBar.downloadButton.el().style.display="none"),t.addEventListener("play",function(){t.controlBar.downloadButton.dialogVisible&&t.pause()});var i=function(){var e=t.downloadableMedia(),n=!!e&&e instanceof Array&&e.length>0;t.controlBar.downloadButton.dialog&&t.controlBar.downloadButton.dialog.options(e),n?t.addClass("amp-showing-download-control"):t.removeClass("amp-showing-download-control")};t.addEventListener("downloadableMediaChanged",i),i()})}return e}();!function(e,t){amp.plugin("download",function(){new r(t,this)})}(window,window.amp)}(e.Plugins||(e.Plugins={})),e.Plugins}(AMP||(AMP={})),function(e){"use strict";e.plugin("live",function(t){function n(){o(),T.currentTime(T.duration()),R=!1}function r(){T.isLive()?(j="LowLatency"===T.currentHeuristicProfile()&&"AzureHtml5JS"===T.currentTechName(),j&&(M=0,R=!1,P=I,T.addEventListener(amp.internalEventName.currentTimeChanging,d)),T.addEventListener(e.eventName.seeked,c),T.addEventListener(e.eventName.seeking,c),T.addEventListener(e.eventName.timeupdate,u),b(),f()):(T.removeEventListener(e.eventName.seeked,c),T.removeEventListener(e.eventName.seeking,c),T.removeEventListener(e.eventName.timeupdate,u),_(),S()),j||(P=C,T.removeEventListener(amp.internalEventName.currentTimeChanging,d))}function i(){"Html5"==T.currentTechName()&&T.isLive()&&(b(),f())}function o(){T.canControlPlaybackRate()&&T.playbackRate()>1&&s()}function a(){T.canControlPlaybackRate()&&T.playbackRate()<1&&s()}function s(){T.playbackRate(1),O=!0,D=1,L=!1,N=!1,B=!1,T.one(e.eventName.timeupdate,c)}function l(){T.canControlPlaybackRate()&&D!==T.playbackRate()&&(O=!1,R=!0)}function u(){if(T.isLive()){var t=p();t?(_(),g(),j&&setTimeout(function(){!T.paused()&&!R&&Date.now()-M>A&&(AMP.Logger.warning(AMP.Logger.Area.plugin,"amplive plugin: player drifted from live edge. Attempting to move to live edge.."),M=0,n())},50),!O&&h()&&a()):(j&&0==M&&(M=Date.now()),O||o())}else T.removeEventListener(e.eventName.seeked,c),T.removeEventListener(e.eventName.seeking,c),T.removeEventListener(e.eventName.timeupdate,u),_(),S()}function d(e,t){t.time<T.duration()&&(R=!0,M=0)}function c(){T.isLive()&&(p()?(_(),g()):(f(),m()))}function p(){var e=T.currentPlayerSettingValue("livePlaybackOffsetInWallClockSec");return T.currentTime()<T.duration()-P-e}function h(){return T.currentTime()<x}function f(){var e=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),t=T.currentTechName().toUpperCase();(!e||"HTML5FAIRPLAYHLS"!==t&&"HTML5"!==t)&&T.addClass(E)}function m(){L||(L=!0,N=!1,B=!1,T.trigger(e.internalEventName.playingAtLiveDVREdge))}function g(){h()?y():v()}function y(){B||(L=!1,N=!1,B=!0,T.trigger(e.internalEventName.playingAtStartDVREdge))}function v(){N||(L=!1,N=!0,B=!1,T.trigger(e.internalEventName.playingInDVR))}function _(){T.removeClass(E)}function b(){var e=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),t=T.currentTechName().toUpperCase();(!e||"HTML5FAIRPLAYHLS"!==t&&"HTML5"!==t)&&(T.controlBar.liveDisplay.addClass(k),T.controlBar.liveDisplay.show())}function S(){T.controlBar.liveDisplay.removeClass(k),T.controlBar.liveDisplay.hide()}var T=this,w=t&&t.controlText?t.controlText:"LIVE",k="amp-live-control",E="amp-live-on",C=5,P=C,I=2,M=0,A=3e4,R=!1,j=!1,O=!1,D=1,x=5,L=!1,N=!1,B=!1,F=e.getComponent("Component");e.LiveEdgeProgressBar=e.extend(F,{init:function(e,t){F.call(this,e,t)}}),e.LiveEdgeProgressBar.prototype.createEl=function(){return e.createEl("div",{className:"amp-live-edge-progress",tabIndex:0})},e.registerComponent("LiveEdgeProgressBar",e.LiveEdgeProgressBar);var U=function(){p()&&n()};T.ready(function(){T.addEventListener(e.eventName.ratechange,l),T.addEventListener(e.eventName.loadedmetadata,r),T.addEventListener(e.eventName.durationchange,i),T.controlBar.liveDisplay.off(T,"durationchange",T.controlBar.liveDisplay.updateShowing);var t=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),n=T.currentTechName().toUpperCase();(!t||"HTML5FAIRPLAYHLS"!==n&&"HTML5"!==n)&&T.controlBar.liveDisplay.setClickHandler(U);var o=e.createEl("div",{className:"amp-livetimeindicator",innerHTML:this.htmlEncode(this.localize(w))});T.controlBar.currentTimeDisplay.el().appendChild(o)})})}(window.amp),function(e){"use strict";e.plugin("logo",function(t){var n=t.enabled,r=t.opacity,i="https://microsoft.com",o=t.targetUrl,a="amp-logo",s=e.getComponent("Component");e.Logo=e.extend(s,{init:function(e,t){s.call(this,e,t)}}),e.Logo.prototype.createEl=function(){var t,n="/files/taikooplace/images/amp-2.3.8/amslogo.svg",a=e.getComponent("Player"),s=window.document.body.className.includes("high-contrast-enabled");if(o){var l,u=e.decodeURL(o);l=u.hierarchical.match(/^((ftp:\/\/)|(javascript:))/i)?i:u.hierarchical.match(/^(https?:)?\/\//i)?e.encodeURL(u):e.createEl("div",{innerHTML:'<a href="'+e.encodeURL(u)+'"></a>'}).firstChild.href,t=(amp.browser.IS_FIREFOX||amp.browser.IS_IE11||amp.browser.IS_EDGE)&&s?e.createEl("span",{innerHTML:'<img src="'+a.getScriptRootURL()+n+'"><a target="_blank" href="'+l+'"></a>'}):e.createEl("span",{innerHTML:'<a target="_blank" href="'+l+'"></a>'})}else t=(amp.browser.IS_FIREFOX||amp.browser.IS_IE11||amp.browser.IS_EDGE)&&s?e.createEl("div",{innerHTML:'<img src="'+a.getScriptRootURL()+n+'">'}):e.createEl("div");return t.style.opacity=r,this.container=t,t},e.registerComponent("Logo",e.Logo),this.ready(function(){var t=this;if(n&&t.el().getElementsByClassName(a).length>0){var r=new e.Logo(t);t.el().getElementsByClassName(a)[0].appendChild(r.el()),t.on("dispose",function(){r.dispose()})}})})}(window.amp),function(e){"use strict";e.plugin("moreOptions",function(t){function n(e,t){if(_=t,t){for(var n=0;n<f.length;n++)f[n].control.el().tabIndex=-1,f[n].control.addClass("amp-control-disabled");e.controlBar.moreOptionsButton.el().tabIndex=0,e.controlBar.moreOptionsButton.removeClass("amp-control-disabled"),e.controlBar.moreOptionsButton.el().setAttribute("aria-hidden","false")}else{for(var n=0;n<f.length;n++)f[n].control.el().tabIndex=0,f[n].control.removeClass("amp-control-disabled"),f[n].control.menu&&(f[n].control.el().style.position="",f[n].control.el().style.left="");e.controlBar.moreOptionsButton.el().tabIndex=-1,e.controlBar.moreOptionsButton.addClass("amp-control-disabled"),e.controlBar.moreOptionsButton.el().setAttribute("aria-hidden","true")}e.toggleClass("amp-showing-more-options-button",t)}function r(e){e.controlBar.moreOptionsButton.menu.el().style.display="";for(var t=0;t<f.length;t++)f[t].control.menu&&(f[t].control.menu.el().style.display="")}function i(e){var t=function(t,n){for(var r=0;r<t.length;r++){var i=e.controlBar[t[r]];i&&i.el()&&n.push({control:i,text:i.buttonText,className:i.el().className})}};return f=[],t(c,f),t(e.options_.plugins.moreOptions.controls,f),f}function o(e){var t=e.controlBar.el();v={left:t.querySelector(".amp-controlbaricons-left"),middle:t.querySelector(".amp-controlbaricons-middle"),right:t.querySelector(".amp-controlbaricons-right")},s=v.right.offsetWidth;var r=window.getComputedStyle(v.middle);d=parseInt(r.minWidth,10),isNaN(d)&&(d=0),v.middle.style.minWidth="0",m=[];for(var i=0;i<f.length;i++)f[i].control.hasClass("vjs-hidden")||m.push(f[i]);m.length>1?(e.addThrottledWindowResizeListener(function(){a(e)},y),a(e)):n(e,!1)}function a(e){if(0==e.controlBar.width())n(e,e.width()<d);else if(null!==v){var t=v.middle.offsetWidth;_&&(t=v.middle.offsetWidth-(s-v.right.offsetWidth)),n(e,d+1>t)}}var s,l=e.getComponent("Component"),u=this,d=0,c=t&&t.controls?t.controls:[],p=t&&t.menuTitle?t.menuTitle:"More Options",h="amp-moreoptions-control",f=[],m=[],g=Date.now(),y=200,v=null,_=!1,b=e.getComponent("MenuItem");e.MoreOptionsMenuItem=e.extend(b,{init:function(e,t){var n={label:t.text,value:t.value,selected:t.selected};b.call(this,e,n),this.control=t.control,this.addClass("amp-menu-item"),t.className.split(" ").forEach(function(e){this.addClass(e)},this),this.control.menu&&this.control.menu.on("mouseleave",function(){this.el().style.display=""})}}),e.MoreOptionsMenuItem.prototype.handleClick=function(){this.control.handleClick(),g=Date.now()},e.registerComponent("MoreOptionsMenuItem",e.MoreOptionsMenuItem);var S=e.getComponent("MenuButton");e.MoreOptionsButton=e.extend(S,{init:function(t,n){if(n=n||{},n.name="moreOptionsButton",S.call(this,t,n),t.addEventListener(amp.eventName.loadedmetadata,e.bind(this,function(){this.refresh()})),this.on("mouseover",function(){r(t)}),this.items.length>0){var i=new l(t,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(p)),tabindex:-1})});this.menu.prependItem(i)}this.el().tabIndex=-1,this.addClass("amp-control-disabled"),this.el().setAttribute("aria-hidden","true"),this.el().setAttribute("aria-label","More Options"),this.el().setAttribute("title",this.localize("More Options")),this.el().setAttribute("role","region")}}),e.MoreOptionsButton.prototype.buttonText=p,e.MoreOptionsButton.prototype.createItems=function(){for(var t=i(this.player_)||[],n=[],r=0;r<t.length;r++){var o=new e.MoreOptionsMenuItem(this.player_,t[r]);n.push(o)}return n},e.MoreOptionsButton.prototype.buildCSSClass=function(){return h+" "+S.prototype.buildCSSClass.call(this)},e.MoreOptionsButton.prototype.refresh=function(){if(this.removeChild(this.menu),null!=this.menu&&this.menu.dispose(),this.menu=this.createMenu(),this.addChild(this.menu),this.items.length>0){var t=new l(this.player_,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(p)),tabindex:-1})});this.menu.prependItem(t)}},e.MoreOptionsButton.prototype.hasJustBeenClicked=function(){return Date.now()-g<500},e.MoreOptionsButton.prototype.onClick=function(e){this.hasJustBeenClicked()||S.prototype.onClick.call(this,e)},e.MoreOptionsButton.prototype.isSubMenuVisible=function(){var e=this,t=this.player_.controlBar;if(t)for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++)if(t[n[r]]!==e&&t[n[r]].el_&&t[n[r]].el_.className&&-1!==t[n[r]].el_.className.indexOf("vjs-menu-button")&&t[n[r]].buttonPressed_)return!0;return!1},e.MoreOptionsButton.prototype.vjsHandleMouseLeave=e.MoreOptionsButton.prototype.handleMouseLeave,e.MoreOptionsButton.prototype.handleMouseLeave=function(){this.isSubMenuVisible()||this.vjsHandleMouseLeave()},e.registerComponent("MoreOptionsButton",e.MoreOptionsButton),u.ready(function(){var r=new e.MoreOptionsButton(u,t);u.controlBar.moreOptionsButton=u.controlBar.addChild(r),u.addEventListener(amp.eventName.loadedmetadata,function(){o(u)}),u.on("fullscreenchange",function(){n(u,u.controlBar.width()<d)}),u.on("visibilityChange",function(){a(u)}),u.on("dispose",function(){v=null})})})}(window.amp),function(e){"use strict";e.plugin("quality",function(t){function n(e){var t=e.player_.controlBar.qualityButton,n=d,r=t.items.indexOf(e);if(n!==r){t.items[n].selected(!1),e.selected(!0),d=r,i(t,r);var o=e.player_.currentVideoStreamList(),a=o.selectedIndex,s=o.streams[a].tracks;o.streams[a].selectTrackByIndex(0==d?-1:s.length-d)}}function r(t){var n=t.currentVideoStreamList();if(n&&0!==n.streams.length){var r=n.selectedIndex,i=n.streams[r].tracks,o=[];o[0]={text:p,selectable:!0};for(var a=1;a<=i.length;a++){var s=i[i.length-a].bitrate;o[a]={text:i[i.length-a].height+"p-"+e.utils.getBitrateByUnit(s),selectable:i[i.length-a].selectable}}return d>=0&&d<o.length&&(o[d].selected=!0),o}}function i(e,t){if(0==t)r=4;else{var n=e.items[t].options_.label.split("-")[0].replace("p",""),r=4;r=n>720?4:720>=n&&n>480?3:480>=n&&n>360?2:1}var i=e.el().className.match(/quality-\d/);e.el().className=e.el().className.replace(i,"quality-"+r)}function o(){this.refresh(),a(this.player_)}function a(t){var n=t.currentVideoStreamList();if(n&&n.streams)for(var r=0;r<n.streams.length;r++)n.streams[r].addEventListener(amp.streamEventName.trackselected,e.bind(t,s))}function s(){var e=this.controlBar.qualityButton,t=this.currentVideoStreamList();if(t){for(var n=t.selectedIndex,r=t.streams[n].tracks,o=-1,a=0,s=0;s<r.length;s++)r[s].selectable&&(o=s,a++);var l=-1;l=a>1?0:r.length-o,l!==d&&(d<e.items.length&&e.items[d].selected(!1),d=l,e.items[d].selected(!0),i(e,d))}}var l=this,u=t&&t.menuTitle?t.menuTitle:"Quality",d=t&&t.selectedItem?t.selectedItem:0,c="amp-quality-control",p=t&&t.autoMenuItemLabel?t.autoMenuItemLabel:"Auto",h=e.getComponent("MenuItem");e.QualityMenuItem=e.extend(h,{init:function(e,t){var n={label:t.text,value:t.value,selected:t.selected,selectable:t.selectable};h.call(this,e,n),this.addClass("amp-menu-item")}}),e.QualityMenuItem.prototype.handleClick=function(){n(this)},e.registerComponent("QualityMenuItem",e.QualityMenuItem);var f=e.getComponent("MenuButton");e.QualityButton=e.extend(f,{init:function(t,n){if(n=n||{},n.name="qualityButton",f.call(this,t,n),t.addEventListener("loadedmetadataInternal",e.bind(this,o)),void 0!=this.items&&this.items.length>0){var r=e.getComponent("Component"),i=new r(t,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.prependItem(i),this.el().className+=" quality-"+(4-d)}else this.hide()}}),e.QualityButton.prototype.buttonText=u,e.QualityButton.prototype.createItems=function(){for(var t=r(this.player_)||[],n=[],i=0;i<t.length;i++){var o=new e.QualityMenuItem(this.player_,t[i]);n.push(o)}return n},e.QualityButton.prototype.buildCSSClass=function(){return c+" "+f.prototype.buildCSSClass.call(this)},e.registerComponent("QualityButton",e.QualityButton),l.ready(function(){var t=new e.QualityButton(l,{selectedItemIndex:d});l.controlBar.qualityButton=l.controlBar.addChild(t),l.controlBar.qualityButton.el_.setAttribute("aria-label","Video Quality Menu"),l.controlBar.qualityButton.el_.setAttribute("title",this.localize("Video Quality")),l.controlBar.qualityButton.el_.setAttribute("role","region")}),e.QualityButton.prototype.refresh=function(){if(this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=this.createMenu(),this.addChild(this.menu),void 0!=this.items&&this.items.length>0){var t=e.getComponent("Component"),n=new t(l,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.prependItem(n),null==this.el().className.match(/quality-\d/)&&(this.el().className+=" quality-"+(4-d)),this.show()}else this.hide()}})}(window.amp),function(e){"use strict";e.plugin("subtitles",function(t){var n=this,r=t&&t.menuTitle?t.menuTitle:"Subtitles",i=t&&t.offMenuItemLabel?t.offMenuItemLabel:"Off";n.addEventListener(amp.eventName.loadedmetadata,function(){n.controlBar.subtitlesButton.el().className+=" amp-subtitles-control",n.controlBar.subtitlesButton.menu.children()[0].el().innerHTML=this.htmlEncode(this.localize(i)),n.controlBar.subtitlesButton.buttonText=r;var t=e.getComponent("Component"),o=new t(n,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(r)),tabindex:-1})});n.controlBar.subtitlesButton.menu.prependItem(o)})})}(window.amp),function(e){"use strict";e.plugin("outline",function(e){function t(e){e.clientX&&0!==e.clientX&&e.clientY&&0!==e.clientY&&l.removeClass(h)}function n(e){e.classList.add(f),e.removeEventListener("click",t),e.addEventListener("click",t),l.on("dispose",function(){e.removeEventListener("click",t)})}function r(){for(var e=l.el().querySelectorAll(d),t=0;t<e.length;t++)n(e[t]);if(u)for(var r=l.controlBar.el().querySelectorAll(p),t=0;t<r.length;t++)n(r[t]);i()}function i(){var e=l.el().querySelector(c);null!==e&&(e.classList.add(f),e.removeEventListener("mousedown",a),e.addEventListener("mousedown",a),l.on("dispose",function(){var e=l.el().querySelector(c);e&&e.removeEventListener("mousedown",a)}))}function o(){l.addClass(h),r()}function a(){t(),l.controls()&&(l.paused()?l.play():l.pause())}function s(){l.addClass(h),m&&(m=!1,r())}var l=this,u=!!e&&!!e.displayOnMenuItems,d=".vjs-control",c=".vjs-fullscreen-outline",p=".vjs-menu-item",h="outline-enabled",f="outline-enabled-control",m=!0;l.ready(function(){o(),l.controlBar.on("keydown",s)}),l.on("sourceset",function(){m=!0})})}(window.amp),function(e){"use strict";e.plugin("ampV2timelineMarkers",function(t){function n(){!o.isDisposed()&&o.duration()>0&&(u=o.duration(),r(),i(),o.isLive()&&a&&a.length>0&&setTimeout(n,1e3))}function r(){for(var e=0;e<d.length;e++)o.controlBar.progressControl.seekBar.removeChild(d[e]);d=[]}function i(){for(var t=0;t<a.length;t++){var n=new e.Marker(o,a[t]);n.el().tabIndex=0,d.push(n),o.controlBar.progressControl.seekBar.addChild(n)}}var o=this,a=t&&t.markers?t.markers:[],s="#ffd800",l="amp-timeline-marker",u=0,d=[],c=e.getComponent("Button"),p=e.getComponent("Component");e.Marker=e.extend(c,{init:function(e,t){var n=e.duration(),r=t.time>0?t.time:0,i=t.color?t.color:s;c.call(this,e,videojs.mergeOptions({el:p.prototype.createEl.call(this,"div",{innerHTML:" ",className:l})},t)),r=e.currentTime()+r-e.currentMediaTime();var o=r/n*100;o>0&&100>o&&(this.el_.style.left=r/n*100+"%",this.el_.style.backgroundColor=i,this.on("click",this.onClick))}}),e.Marker.prototype.onClick=function(){this.player().currentTime(this.options().time)},o.ready(function(){a&&(n(),o.on("sourceset",function(){a=[],r()}),o.on("midrollAdded",function(){if(this.scheduler){var e=this.scheduler.getMidRolls();if(e){a=[];for(var t=0;t<e.length;t++)a.push({time:e[t].splice.startOffset});n()}}}))})})}(window.amp),function(e){"use strict";e.plugin("ampVolumeMenuButton",function(t){var n=this,r=NaN,i=t.hideVolumeBarOnInActivity;void 0===i&&(i=!0);var o=e.getComponent("MuteToggle");e.AmpVolumeMenuButton=e.extend(o,{init:function(e,t){t=t||{},t.name="ampVolumeMenuButton",o.call(this,e,t),this.buttonTouched=!1}}),e.AmpVolumeMenuButton.prototype.clearOtherMenus=function(){this.volumeControl.buttonPressed_&&this.volumeControl.unpressButton(),o.prototype.clearOtherMenus.call(this)},e.AmpVolumeMenuButton.prototype.setVolumeControl=function(e){this.volumeControl=e},e.AmpVolumeMenuButton.prototype.handleClick=function(){this.clearOtherMenus(),this.buttonTouched=!this.buttonTouched,this.buttonTouched&&this.volumeControl.trigger("mouseover"),o.prototype.handleClick.call(this)};var a=e.getComponent("TooltipClickable");e.VolumeControl=e.extend(a,{init:function(t,n){n=n||{},n.name="volumeControl",n.el=e.createEl("div",{className:"vjs-volume-control"}),a.call(this,t,n),this.el_.setAttribute("title",this.localize("volume level")),this.on(t,"loadstart",function(){var e=!1;if(t.tech_.featuresVolumeControl===!1)e=!0;else if("HTML5FAIRPLAYHLS"===t.currentTechName().toUpperCase()||"HTML5"===t.currentTechName().toUpperCase()&&("video/mp4"===t.currentType()||"audio/mp3"===t.currentType()));else{var n=t.currentAudioStreamList();n&&n.streams&&0!==n.streams.length||(e=!0)}e?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.createChildElements(),this.setUpEventHandlers()}}),e.VolumeControl.prototype.setUpEventHandlers=function(){var e=this;this.on("mouseover",function(){e.handleMouseOver()}),this.on("mouseleave",function(){e.handleMouseLeave()}),this.on(n,this.volumeBar.playerEvent,function(){e.updateVolumeHandle()})},e.VolumeControl.prototype.createChildElements=function(){this.createVolumeMenuButton(),this.createVolumeBar()},e.VolumeControl.prototype.createVolumeMenuButton=function(){var r=new e.AmpVolumeMenuButton(n,t);this.ampVolumeMenuButton=this.addChild(r),r.setVolumeControl(this)},e.VolumeControl.prototype.unpressButton=function(){this.popUp.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.buttonPressed_=!1},e.VolumeControl.prototype.pressButton=function(){this.ampVolumeMenuButton.clearOtherMenus(),this.popUp.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.buttonPressed_=!0},e.VolumeControl.prototype.handleMouseLeave=function(){this.unpressButton()},e.VolumeControl.prototype.handleMouseOver=function(){this.pressButton()},e.VolumeControl.prototype.handleFocusOnVolumeBar=function(){this.pressButton()},e.VolumeControl.prototype.createVolumeBar=function(){var r=e.getComponent("Popup"),i=new r(n,{contentElType:"div"}),o=e.getComponent("VolumeBar"),a=new o(n,t||{}),s=this.createVolumeSliderHandle();a.el_.appendChild(s),a.on("focus",function(){n.controlBar.volumeControl.handleFocusOnVolumeBar()}),this.volumeBar=i.addChild(a),this.popUp=this.addChild(i),this.volumeHandle=s},e.VolumeControl.prototype.updateVolumeHandle=function(){var e=this.volumeBar;if(e.bar&&e.bar.el_){var n;t&&t.vertical===!1?(this.volumeHandle.style.left=e.bar.el_.style.width,n=this.volumeHandle.style.left):(this.volumeHandle.style.top=e.bar.el_.style.height,n=this.volumeHandle.style.top),this.volumeHandle.innerHTML='<span class="vjs-control-text">'+n+"</span>"}"off"===this.ampVolumeMenuButton.el_.getAttribute("aria-live")&&this.ampVolumeMenuButton.el_.setAttribute("aria-live","polite")},e.VolumeControl.prototype.createVolumeSliderHandle=function(){var t=e.getComponent("Component"),n=t.prototype.createEl.call(this,"div",{className:"vjs-volume-handle vjs-control"});return n},e.registerComponent("AmpVolumeMenuButton",e.AmpVolumeMenuButton),e.registerComponent("VolumeControl",e.VolumeControl),n.ready(function(){var t=new e.VolumeControl(n,{});n.controlBar.volumeControl=n.controlBar.addChild(t);var o=n.controlBar.volumeControl,a=function(){isNaN(r)||(clearTimeout(r),r=NaN)};i&&(n.on("userinactive",function(){o.popUp&&o.volumeBar.el_===document.activeElement&&(a(),r=setTimeout(function(){o.volumeBar.el_!==document.activeElement||n.userActive()||o.ampVolumeMenuButton.el().focus()},1e3)),o.el_.setAttribute("aria-expanded","false"),o.el_.setAttribute("aria-hidden","true")}),n.on("useractive",a)),o.updateVolumeHandle(),this.one(n,"timeupdate",function(){o.volumeBar.update(),o.updateVolumeHandle()})})})}(window.amp),function(e){"use strict";e.plugin("playbackSpeed",function(t){function n(){S.sort(function(e,t){return t.value-e.value})}function r(){for(var e=0;e<S.length;e++)if(1===S[e].value)return;S.push({selected:!1,name:_.htmlEncode(_.localize("1.0x")),value:1})}function i(){o(function(){return!0})}function o(e){for(T=[],P=0;P<S.length;P++)S[P].name&&S[P].value>=.5&&S[P].value<=4&&e(S[P].value)&&T.push({selected:!1,name:S[P].name,value:S[P].value})}function a(){o(function(e){return 1>=e})}function s(){o(function(e){return e>=1})}function l(){r(),n(),i()}function u(e,t){t.canControlPlaybackRate()&&t.playbackRate(e)}function d(e){var t=e.controlBar.playbackSpeedButton.currentSpeedIndex||0===e.controlBar.playbackSpeedButton.currentSpeedIndex?T[e.controlBar.playbackSpeedButton.currentSpeedIndex].value:1;e.controlBar.playbackSpeedButton.removeClass(k),e.controlBar.playbackSpeedButton.removeClass(E),e.controlBar.playbackSpeedButton.removeClass(C),e.controlBar.playbackSpeedButton.addClass(t>1?E:1>t?C:k)}function c(e,t,n,r){var i=n||e.player_,o=i.controlBar.playbackSpeedButton,a=i.controlBar.playbackSpeedButton.currentSpeedIndex,s=f(t||e.options().value);null===s||!r&&a===s||(p(o),o.items[s].selected(!0),h(o,s),u(T[s].value,i),i.controlBar.playbackSpeedButton.currentSpeedIndex=s,d(i))}function p(e){for(var t=0;t<e.items.length;t++)e.items[t].selected(!1)}function h(e,t){1===T[t].value}function f(e){for(var t=0;t<T.length;t++)if(Math.abs(T[t].value-e)<.001)return t;return null}var m=e.getComponent("Component"),g=e.getComponent("MenuItem"),y=e.getComponent("MenuButton");if(t&&t.enabled){var v,_=this,b=[{name:"2.0x",value:2},{name:"1.0x",value:1},{name:"0.5x",value:.5}],S=t.speedLevels?t.speedLevels.slice(0):b.slice(0),T=[],w="Playback Speed",k="amp-playbackspeed-control-normal",E="amp-playbackspeed-control-fast",C="amp-playbackspeed-control-slow",P=0;l();var I=t.initialSpeed?t.initialSpeed:1;v=f(I),null==v&&AMP.Logger.error(AMP.Logger.Area.plugin,"PlaybackSpeed plugin: cannot identify speed index for initial speed."),e.PlaybackSpeedMenuItem=e.extend(g,{init:function(e,t){var n={label:t.name,value:t.value,selected:t.selected,selectable:!0};g.call(this,e,n),this.addClass("amp-menu-item"),this.on("click",this.handleClick),this.value=t.value}}),e.PlaybackSpeedMenuItem.prototype.handleClick=function(){c(this)},e.registerComponent("PlaybackSpeedMenuItem",e.PlaybackSpeedMenuItem),e.PlaybackSpeedButton=e.extend(y,{init:function(t,n){n=n||{},n.name="playbackSpeedButton",y.call(this,t,n),t.addEventListener(e.eventName.loadedmetadata,e.bind(this,e.PlaybackSpeedButton.prototype.refresh));var r=new m(t,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(w)),tabindex:-1})});this.menu.prependItem(r),t.canControlPlaybackRate()?(this.addDVRPlaybackEventCallbacks(),this.show()):this.hide()}}),e.PlaybackSpeedButton.prototype.addDVRPlaybackEventCallbacks=function(){var t=this;_.addEventListener(e.internalEventName.playingAtLiveDVREdge,function(){t.handleLiveEdgePlayback()}),_.addEventListener(e.internalEventName.playingAtStartDVREdge,function(){t.handleStartEdgePlayback()}),_.addEventListener(e.internalEventName.playingInDVR,function(){t.handlePlayingInDVR()})},e.PlaybackSpeedButton.prototype.buttonText=w,e.PlaybackSpeedButton.prototype.createItems=function(){for(var t=[],n=0;n<T.length;n++){var r=new e.PlaybackSpeedMenuItem(this.player_,T[n]);t.push(r)}return t},e.PlaybackSpeedButton.prototype.buildCSSClass=function(){return k+" "+y.prototype.buildCSSClass.call(this).trim()},e.PlaybackSpeedButton.prototype.refresh=function(){this.player_.canControlPlaybackRate()?this.show():this.hide()},e.PlaybackSpeedButton.prototype.setInitialValues=function(){this.player_.controlBar.playbackSpeedButton.currentSpeedIndex=v,
this.player_.controlBar.playbackSpeedButton.el_.setAttribute("aria-label","Playback Speed"),this.player_.controlBar.playbackSpeedButton.el_.setAttribute("title",this.localize("Playback Speed")),this.player_.controlBar.playbackSpeedButton.el_.setAttribute("role","region"),d(this.player_)},e.PlaybackSpeedButton.prototype.handleLiveEdgePlayback=function(){a(),this.updateMenuItemsAndUi()},e.PlaybackSpeedButton.prototype.handleStartEdgePlayback=function(){s(),this.updateMenuItemsAndUi()},e.PlaybackSpeedButton.prototype.handlePlayingInDVR=function(){i(),this.updateMenuItemsAndUi()},e.PlaybackSpeedButton.prototype.updateMenuItemsAndUi=function(){this.update(),this.selectMenuItemWithValue(this.player_.playbackRate())},e.PlaybackSpeedButton.prototype.selectMenuItemWithValue=function(e){for(var t=0;t<this.items.length;t++)this.items[t].selected(this.items[t].value===e)},e.registerComponent("PlaybackSpeedButton",e.PlaybackSpeedButton),_.on("sourceset",function(){_.controlBar.playbackSpeedButton&&(l(),_.controlBar.playbackSpeedButton.updateMenuItemsAndUi())}),_.ready(function(){var t=new e.PlaybackSpeedButton(_);_.controlBar.playbackSpeedButton=_.controlBar.addChild(t),_.controlBar.playbackSpeedButton.setInitialValues(),_.addEventListener(amp.eventName.ratechange,function(){_.canControlPlaybackRate()&&c(void 0,_.playbackRate(),_)}),null!==v&&_.addEventListener(amp.eventName.loadeddata,function(){_.playbackRate(I)}),c(void 0,_.playbackRate(),_,!0)})}})}(window.amp),amp.AmpSkinPlugin=amp.extend(amp.getComponent("Component"),{init:function(e){"use strict";var t=e.options_.logo,n=!t||void 0===t.enabled||t.enabled,r=t&&t.opacity?t.opacity:.5,i=t&&t.targetUrl?t.targetUrl:null,o=(t&&t.horizontalPosition?t.horizontalPosition:"left",t&&t.verticalPosition?t.verticalPosition:"top",{contentTitle:{title:e.options_.title||"",description:e.options_.description||""},wallClockOverlay:{},logo:{enabled:n,opacity:r,targetUrl:i},responsive:{sizeClasses:e.options_.sizeClasses||{}},live:{controlText:"LIVE"},ampAudioTracks:{menuTitle:"Audio Tracks"},closedCaption:{menuTitle:"Closed Captioning"},subtitles:{menuTitle:"Subtitles",offMenuItemLabel:"Off"},quality:{menuTitle:"Quality",selectedItem:0},playbackSpeed:e.options_.playbackSpeed||{enabled:!1},download:e.options_.download||{},ampVolumeMenuButton:{vertical:!0,hideVolumeBarOnInActivity:!0},moreOptions:{controls:["qualityButton","captionsButton","subtitlesButton","audioTracksButton","castToDeviceButton","shareButton","playbackSpeedButton","downloadButton","nextTrackButton","skipForwardButton","fastForwardButton","rewindButton","skipBackwardButton","previousTrackButton"]},controlBarIcons:{leftIcons:["playToggle","previousTrackButton","skipBackwardButton","rewindButton","fastForwardButton","skipForwardButton","nextTrackButton","playbackRateMenuButton","liveDisplay","chaptersButton"],middleIcons:["liveIndicator","currentTimeDisplay","progressControl","timeDivider","durationDisplay","remainingTimeDisplay"],rightIcons:["shareButton","playbackSpeedButton","downloadButton","castToDeviceButton","audioTracksButton","subtitlesButton","captionsButton","qualityButton","volumeControl","moreOptionsButton","fullscreenToggle"],removeOtherIcons:!1},outline:{displayOnMenuItems:!0},ampV2timelineMarkers:{}});e.options_.plugins.moreOptions={controls:[]},Object.getOwnPropertyNames(o).forEach(function(t){e[t]&&e[t](o[t])}),e.addEventListener(amp.eventName.loadedmetadata,function(){var t=e.controlBar.options();t.children.volumeMenuButton&&t.children.volumeMenuButton.volumeBar&&t.children.volumeMenuButton.volumeBar.vertical&&e.addClass("amp-vertical-volume-slider")})}}),amp.AmpSkinPlugin.prototype.dispose=function(){},amp.registerComponent("AmpSkinPlugin",amp.AmpSkinPlugin),amp.getComponent("ControlBar").prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},subtitlesButton:{},captionsButton:{},chaptersButton:{},ampSkinPlugin:{}}},function(e){"use strict";window.videojs_hotkeys={version:"0.2.16"};var t=function(t){function n(e){return 32===e.which||179===e.which}function r(e){return 37===e.which||177===e.which}function i(e){return 39===e.which||176===e.which}function o(e){return 38===e.which}function a(e){return 40===e.which}function s(e){return 77===e.which}function l(e){return 70===e.which}var u=this,d=u.el(),c=document,p={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableSeek:!0,enablePlayPause:!0,playPauseKey:n,rewindKey:r,forwardKey:i,volumeUpKey:o,volumeDownKey:a,muteKey:s,fullscreenKey:l,customKeys:{}},h=1,f=2,m=3,g=4,y=5,v=6,_=7,b=e.mergeOptions||e.util.mergeOptions;t=b(p,t||{});var S=t.volumeStep,T=t.seekStep,w=t.enableMute,k=t.enableVolumeScroll,E=t.enableFullscreen,C=t.enableNumbers,P=t.enableJogStyle,I=t.alwaysCaptureHotkeys,M=t.enableModifiersForNumbers,A=t.enableSeek,R=t.enablePlayPause;d.hasAttribute("tabIndex")||d.setAttribute("tabIndex","1"),(I||!u.autoplay())&&u.one("play",function(){d.focus()}),u.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){u.off("useractive",e),c.activeElement&&c.activeElement.parentElement==d.querySelector(".vjs-control-bar")&&d.focus()},10);u.one("useractive",e)}),u.on("play",function(){var e=d.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var j=function(e){var n,r=e.which,i=e.preventDefault;if(u.controls()){var o=c.activeElement;if(I||o==d||o==d.querySelector(".vjs-tech")||o==d.querySelector(".vjs-control-bar")||o==d.querySelector(".iframeblocker"))switch(x(e,u)){case h:R&&(i(),I&&e.stopPropagation(),u.paused()?u.play():u.pause());break;case f:A&&(i(),n=u.currentTime()-T,u.currentTime()<=T&&(n=0),u.currentTime(n));break;case m:A&&(i(),u.currentTime(u.currentTime()+T));break;case y:i(),P?(n=u.currentTime()-1,u.currentTime()<=1&&(n=0),u.currentTime(n)):u.volume(u.volume()-S);break;case g:i(),P?u.currentTime(u.currentTime()+1):u.volume(u.volume()+S);break;case v:w&&u.muted(!u.muted());break;case _:E&&(u.isFullscreen()?u.exitFullscreen():u.requestFullscreen());break;default:if((r>47&&59>r||r>95&&106>r)&&(M||!(e.metaKey||e.ctrlKey||e.altKey))&&C){var a=48;r>95&&(a=96);var s=r-a;i(),u.currentTime(u.duration()*s*.1)}for(var l in t.customKeys){var p=t.customKeys[l];p&&p.key&&p.handler&&p.key(e)&&(i(),p.handler(u,t))}}}},O=function(e){if(u.controls()){var t=e.relatedTarget||e.toElement||c.activeElement;(t==d||t==d.querySelector(".vjs-tech")||t==d.querySelector(".iframeblocker"))&&E&&(u.isFullscreen()?u.exitFullscreen():u.requestFullscreen())}},D=function(e){if(u.controls()){var t=e.relatedTarget||e.toElement||c.activeElement;if((I||t==d||t==d.querySelector(".vjs-tech")||t==d.querySelector(".iframeblocker")||t==d.querySelector(".vjs-control-bar"))&&k){e=window.event||e;var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault?e.preventDefault():e.returnValue=!1,1==n?u.volume(u.volume()+S):-1==n&&u.volume(u.volume()-S)}}},x=function(e,n){return t.playPauseKey(e,n)?h:t.rewindKey(e,n)?f:t.forwardKey(e,n)?m:t.volumeUpKey(e,n)?g:t.volumeDownKey(e,n)?y:t.muteKey(e,n)?v:t.fullscreenKey(e,n)?_:void 0};return u.on("keydown",j),u.on("dblclick",O),u.on("mousewheel",D),u.on("DOMMouseScroll",D),this};e.plugin("hotKeys",t)}(window.videojs),amp.AmpInlinePlugins=amp.extend(amp.getComponent("Component"),{init:function(e,t){"use strict";var n={hotKeys:{},ampAds:{}};Object.getOwnPropertyNames(n).forEach(function(r){if(e[r]){var i=n[r];t&&t.playerOptions&&t.playerOptions[r]&&(i=t.playerOptions[r]),e[r](i)}})}}),amp.registerComponent("AmpInlinePlugins",amp.AmpInlinePlugins),amp.getComponent("Player").prototype.options_.children.push("AmpInlinePlugins"),!function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ADSVAST=e()}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];for(u=n.slice(),i=u.length,l=0;i>l;l++)u[l].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0)}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t){var n;n=function(){function e(){this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.adTitle=""}return e}(),t.exports=n},{}],3:[function(e,t){var n,r,i;r=e("./parser.coffee"),i=e("./util.coffee"),n=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.timeout=0,e.get=function(e,t,n){var i;return i=+new Date,this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls?void t(null):i-this.lastSuccessfullAd<this.cappingMinimumTimeInterval?void t(null):r.parse(e,function(){return function(e){return t(e)}}(this),n)},function(){var t,n;n=i.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(r){t(e,r,{get:function(){return n.getItem(r)},set:function(e){return n.setItem(r,e)},configurable:!1,enumerable:!0})}),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.exports=n},{"./parser.coffee":8,"./util.coffee":14}],4:[function(e,t){var n;n=function(){function e(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}return e}(),t.exports=n},{}],5:[function(e,t){var n,r,i,o,a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=function(){function e(){this.trackingEvents={},this.progressOffsets=[]}return e}(),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplate=null}return s(t,e),t}(n),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t}(n),r=function(){function e(){this.type="companion",this.variations=[]}return e}(),t.exports={VASTCreativeLinear:i,VASTCreativeNonLinear:o,VASTCreativeCompanion:r}},{}],6:[function(e,t){t.exports={client:e("./client.coffee"),tracker:e("./tracker.coffee"),parser:e("./parser.coffee"),util:e("./util.coffee")}},{"./client.coffee":3,"./parser.coffee":8,"./tracker.coffee":10,"./util.coffee":14}],7:[function(e,t){var n;n=function(){function e(){this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0}return e}(),t.exports=n},{}],8:[function(e,t){var n,r,i,o,a,s,l,u,d,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n=e("./urlhandler.coffee"),u=e("./response.coffee"),r=e("./ad.coffee"),d=e("./util.coffee"),a=e("./creative.coffee").VASTCreativeLinear,o=e("./creative.coffee").VASTCreativeCompanion,s=e("./mediafile.coffee"),i=e("./companionad.coffee"),l=function(){function e(){}var t;return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(e,t,n){return this._parse(e,null,function(e,n){return t(n)},n)},e._parse=function(e,r,i,o){var a,s,l;for(s=0,l=t.length;l>s;s++)a=t[s],e=a(e);return null==r&&(r=[]),r.push(e),n.get(e,function(t){return function(n,o){var a,s,l,p,h,f,m,g,y,v,_;if(null!=n)return i(n);if(h=new u,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return i();for(v=o.documentElement.childNodes,f=0,g=v.length;g>f;f++)p=v[f],"Error"===p.nodeName&&h.errorURLTemplates.push(t.parseNodeText(p));for(_=o.documentElement.childNodes,m=0,y=_.length;y>m;m++)p=_[m],"Ad"===p.nodeName&&(a=t.parseAdElement(p),null!=a?h.ads.push(a):(AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: Ad element parsing failed."),d.track(h.errorURLTemplates,{ERRORCODE:101})));for(s=function(){var e,t,n;if(h){for(n=h.ads,e=0,t=n.length;t>e;e++)if(a=n[e],null!=a.nextWrapperURL)return;return 0===h.ads.length&&(AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: No Ads."),d.track(h.errorURLTemplates,{ERRORCODE:303}),h=null),i(null,h)}},l=h.ads.length;l--;)a=h.ads[l],null!=a.nextWrapperURL&&!function(n){var i,o;return r.length>=10||(o=n.nextWrapperURL,c.call(r,o)>=0)?(AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: Reached maximum wrapper length of 10 and no Ads found."),d.track(n.errorURLTemplates,{ERRORCODE:302}),h.ads.splice(h.ads.indexOf(n),1),void s()):(-1===n.nextWrapperURL.indexOf("://")&&(i=e.slice(0,e.lastIndexOf("/")),n.nextWrapperURL=""+i+"/"+n.nextWrapperURL),t._parse(n.nextWrapperURL,r,function(e,t){var r,i,o,a,l,u,c,p,f,m,g,y,v,_;if(null!=e)AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: Wrapper URi fetch timeout."),d.track(n.errorURLTemplates,{ERRORCODE:301}),h.ads.splice(h.ads.indexOf(n),1);else if(null==t)AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: No wrapped response."),d.track(n.errorURLTemplates,{ERRORCODE:303}),h.ads.splice(h.ads.indexOf(n),1);else for(h.errorURLTemplates=h.errorURLTemplates.concat(t.errorURLTemplates),o=h.ads.indexOf(n),h.ads.splice(o,1),y=t.ads,u=0,c=y.length;c>u;u++){if(a=y[u],a.errorURLTemplates=n.errorURLTemplates.concat(a.errorURLTemplates),a.impressionURLTemplates=n.impressionURLTemplates.concat(a.impressionURLTemplates),null!=n.trackingEvents)for(v=a.creatives,m=0,p=v.length;p>m;m++)for(r=v[m],_=Object.keys(n.trackingEvents),g=0,f=_.length;f>g;g++)i=_[g],r.trackingEvents=r.trackingEvents||{},(l=r.trackingEvents)[i]||(l[i]=[]),r.trackingEvents[i]=r.trackingEvents[i].concat(n.trackingEvents[i]);h.ads.splice(o,0,a)}return delete n.nextWrapperURL,s()}))}(a);return s()}}(this),o)},e.childByName=function(e,t){var n,r,i,o;for(o=e.childNodes,r=0,i=o.length;i>r;r++)if(n=o[r],n.nodeName===t)return n},e.childsByName=function(e,t){var n,r,i,o,a;for(r=[],a=e.childNodes,i=0,o=a.length;o>i;i++)n=a[i],n.nodeName===t&&r.push(n);return r},e.parseAdElement=function(e){var t,n,r,i;for(i=e.childNodes,n=0,r=i.length;r>n;n++){if(t=i[n],"Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},e.parseWrapperElement=function(e){var t,n,r;return t=this.parseInLineElement(e),r=this.childByName(e,"VASTAdTagURI"),null!=r&&(t.nextWrapperURL=this.parseNodeText(r)),n=t.creatives[0],null!=n&&null!=n.trackingEvents&&(t.trackingEvents=n.trackingEvents),null!=t.nextWrapperURL?t:void 0},e.parseInLineElement=function(e){var t,n,i,o,a,s,l,u,d,c,p,h,f,m;for(t=new r,h=e.childNodes,s=0,d=h.length;d>s;s++)switch(a=h[s],a.nodeName){case"AdTitle":t.adTitle=this.parseNodeText(a);break;case"Error":t.errorURLTemplates.push(this.parseNodeText(a));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(a));break;case"Creatives":for(f=this.childsByName(a,"Creative"),l=0,c=f.length;c>l;l++)for(i=f[l],m=i.childNodes,u=0,p=m.length;p>u;u++)switch(o=m[u],o.nodeName){case"Linear":n=this.parseCreativeLinearElement(o),n&&t.creatives.push(n);break;case"CompanionAds":n=this.parseCompanionAd(o),n&&t.creatives.push(n)}}return t},e.parseCreativeLinearElement=function(e){var t,n,r,i,o,l,u,d,c,p,h,f,m,g,y,v,_,b,S,T,w,k,E,C;if(t=new a,t.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===t.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;for(u=e.getAttribute("skipoffset"),null==u?t.skipDelay=null:"%"===u.charAt(u.length-1)?(l=parseInt(u,10),t.skipDelay=t.duration*(l/100)):t.skipDelay=this.parseDuration(u),h=this.childByName(e,"VideoClicks"),null!=h&&(t.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(h,"ClickThrough")),t.videoClickTrackingURLTemplate=this.parseNodeText(this.childByName(h,"ClickTracking"))),w=this.childsByName(e,"TrackingEvents"),m=0,_=w.length;_>m;m++)for(c=w[m],k=this.childsByName(c,"Tracking"),g=0,b=k.length;b>g;g++)if(d=k[g],n=d.getAttribute("event"),p=this.parseNodeText(d),null!=n&&null!=p)if("progress"===n){var P=d.getAttribute("offset");if(-1!==P.indexOf("%"))P=P.trim().substring(0,P.indexOf("%"));else if(P=P.trim().split(":"),4==P.length||3==P.length){var I=P[0],M=P[1],A=P[2];P=3600*I+60*M+A,P=P/t.duration*100}P=parseInt(P),n=n+"-"+P,null==(f=t.trackingEvents)[n]&&(f[n]=[]),t.trackingEvents[n].push(p),t.progressOffsets.push(P)}else null==(f=t.trackingEvents)[n]&&(f[n]=[]),t.trackingEvents[n].push(p);for(E=this.childsByName(e,"MediaFiles"),y=0,S=E.length;S>y;y++)for(o=E[y],C=this.childsByName(o,"MediaFile"),v=0,T=C.length;T>v;v++)i=C[v],r=new s,r.fileURL=this.parseNodeText(i),r.deliveryType=i.getAttribute("delivery"),r.codec=i.getAttribute("codec"),r.mimeType=i.getAttribute("type"),r.bitrate=parseInt(i.getAttribute("bitrate")||0),r.minBitrate=parseInt(i.getAttribute("minBitrate")||0),r.maxBitrate=parseInt(i.getAttribute("maxBitrate")||0),r.width=parseInt(i.getAttribute("width")||0),r.height=parseInt(i.getAttribute("height")||0),t.mediaFiles.push(r);return t},e.parseCompanionAd=function(e){var t,n,r,a,s,l,u,d,c,p,h,f,m,g,y,v,_,b,S,T,w;for(r=new o,b=this.childsByName(e,"Companion"),p=0,g=b.length;g>p;p++){for(n=b[p],t=new i,t.id=n.getAttribute("id")||null,t.width=n.getAttribute("width"),t.height=n.getAttribute("height"),S=this.childsByName(n,"StaticResource"),h=0,y=S.length;y>h;h++)s=S[h],t.type=s.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(s);for(T=this.childsByName(n,"TrackingEvents"),f=0,v=T.length;v>f;f++)for(u=T[f],w=this.childsByName(u,"Tracking"),m=0,_=w.length;_>m;m++)l=w[m],a=l.getAttribute("event"),d=this.parseNodeText(l),null!=a&&null!=d&&(null==(c=t.trackingEvents)[a]&&(c[a]=[]),t.trackingEvents[a].push(d));t.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(n,"CompanionClickThrough")),r.variations.push(t)}return r},e.parseDuration=function(e){var t,n,r,i,o;return null==e?-1:(t=e.split(":"),3!==t.length?-1:(o=t[2].split("."),i=parseInt(o[0]),2===o.length&&(i+=parseFloat("0."+o[1])),r=parseInt(60*t[1]),n=parseInt(60*t[0]*60),isNaN(n||isNaN(r||isNaN(i||r>3600||i>60)))?-1:n+r+i))},e.parseNodeText=function(e){return e&&(e.textContent||e.text)},e}(),t.exports=l},{"./ad.coffee":2,"./companionad.coffee":4,"./creative.coffee":5,"./mediafile.coffee":7,"./response.coffee":9,"./urlhandler.coffee":11,"./util.coffee":14}],9:[function(e,t){var n;n=function(){function e(){this.ads=[],this.errorURLTemplates=[]}return e}(),t.exports=n},{}],10:[function(e,t){var n,r,i,o,a,s={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=e("./client.coffee"),a=e("./util.coffee"),i=e("./creative.coffee").VASTCreativeLinear,n=e("events").EventEmitter,o=function(e){function t(e,t){var n,o,a;if(this.ad=e,this.creative=t,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.progressOffsets=[],this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","rewind","skip","mute","unmute","pause","rewind","resume","fullscreen","exitFullscreen","closeLinear","close","skip","click","progress"],t){a=t.trackingEvents;for(n in a)o=a[n],this.trackingEvents[n]=o.slice(0);this.progressOffsets=t.progressOffsets||[],this.progressOffsets.sort(function(e,t){return e-t})}t instanceof i?(this.assetDuration=t.duration,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100},this.skipDelay=t.skipDelay,this.linear=!0,this.clickThroughURLTemplate=t.videoClickThroughURLTemplate,this.clickTrackingURLTemplate=t.videoClickTrackingURLTemplate):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){r.lastSuccessfullAd=+new Date})}return l(t,e),t.prototype.resetTrackingEventsInfo=function(){if(this.creative){var e,t,n=this.creative.trackingEvents;for(e in n)t=n[e],this.trackingEvents[e]=t.slice(0);this.impressed=!1}},t.prototype.setProgress=function(e){var t,n,r,i,o,a,s,l,u;if(o=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,-1===o||this.skipable||(o>e?this.emit("skip-countdown",o-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(n=[],e>0){if(n.push("start"),r=Math.round(e/this.assetDuration*100),this.progressOffsets.length>0)for(var d=this.progressOffsets.length-1;d>=0;d--)if(this.progressOffsets[d]<=r){n.push("progress-"+this.progressOffsets[d]);break}u=this.quartiles;for(i in u)a=u[i],e>=a&&a+1>=e&&n.push(i)}for(s=0,l=n.length;l>s;s++)t=n[s],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"muted":"unmuted"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setSkipDelay=function(e){return"number"==typeof e?this.skipDelay=e:void 0},t.prototype.load=function(){return this.impressed?void 0:(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){this.track("complete"),this.resetTrackingEventsInfo()},t.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.skip=function(){this.track("skip"),this.trackingEvents=[],this.resetTrackingEventsInfo()},t.prototype.click=function(){var e,t;return null!=this.clickTrackingURLTemplate&&this.trackURLs([this.clickTrackingURLTemplate]),null!=this.clickThroughURLTemplate?(this.linear&&(t={CONTENTPLAYHEAD:this.progressFormated()}),e=a.resolveURLTemplates([this.clickThroughURLTemplate],t)[0],this.emit("clickthrough",e)):void 0},t.prototype.setAssetFileUri=function(e){this.assetFileUri=encodeURIComponent(e)},t.prototype.track=function(e,t){var n,r;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),r=this.trackingEvents[e],n=this.emitAlwaysEvents.indexOf(e),null!=r?(this.emit(e,""),this.trackURLs(r)):-1!==n&&this.emit(e,""),t===!0&&(delete this.trackingEvents[e],n>-1&&this.emitAlwaysEvents.splice(n,1))},t.prototype.trackURLs=function(e,t){return null==t&&(t={}),this.linear&&(t.CONTENTPLAYHEAD=this.progressFormated(),t.ASSETURI=this.assetFileUri),a.track(e,t)},t.prototype.progressFormated=function(){var e,t,n,r,i;return i=parseInt(this.progress),e=i/3600,e.length<2&&(e="0"+e),t=i/60%60,t.length<2&&(t="0"+t),r=i%60,r.length<2&&(r="0"+t),n=parseInt(100*(this.progress-i)),""+e+":"+t+":"+r+"."+n},t}(n),t.exports=o},{"./client.coffee":3,"./creative.coffee":5,"./util.coffee":14,events:1}],11:[function(e,t){var n,r,i;i=e("./urlhandlers/xmlhttprequest.coffee"),r=e("./urlhandlers/flash.coffee"),n=function(){function t(){}return t.get=function(t,n,o){return"undefined"==typeof window||null===window?e("./urlhandlers/node.coffee").get(t,n):i.supported()?i.get(t,n,o):r.supported()?r.get(t,n):n()},t}(),t.exports=n},{"./urlhandlers/flash.coffee":12,"./urlhandlers/xmlhttprequest.coffee":13}],12:[function(e,t){var n;n=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t){function n(){return t(null,null)}var r,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,r=this.xdr(),r.open("GET",e),r.send(),r.onerror=n,r.ontimeout=n,r.onload=function(){return i.loadXML(r.responseText),t(null,i)}):t()},e}(),t.exports=n},{}],13:[function(e,t){var n;n=function(){function e(){}return e.xhr=function(){var e;return e=new window.XMLHttpRequest,"withCredentials"in e?e:void 0},e.supported=function(){return!!this.xhr()},e.get=function(e,t,n){function r(){return t(null,null)}var i;return i=this.xhr(),i.open("GET",e),i.timeout=n,i.ontimeout=r,i.onerror=r,i.send(),i.onreadystatechange=function(){return 4===i.readyState?t(null,i.responseXML):void 0}},e}(),t.exports=n},{}],14:[function(e,t){var n;n=function(){function e(){}return e.track=function(e,t){var n,r,i,o,a,s;for(r=this.resolveURLTemplates(e,t),s=[],o=0,a=r.length;a>o;o++)n=r[o],"undefined"!=typeof window&&null!==window&&(i=new Image,s.push(i.src=n));return s},e.resolveURLTemplates=function(e,t){var n,r,i,o,a,s,l,u,d;r=[],null==t&&(t={}),"CACHEBUSTING"in t||(t.CACHEBUSTING=Math.round(1e10*Math.random())),t.random=t.CACHEBUSTING;for(u=0,d=e.length;d>u;u++)if(n=e[u],s=n){for(i in t)l=t[i],o="["+i+"]",a="%%"+i+"%%",s=s.replace(o,l),s=s.replace(a,l);r.push(s)}return r},e.storage=function(){var e,t,n,r;try{n="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(i){r=i,n=null}return t=function(e){var t,n;try{if(n="__VASTUtil__",e.setItem(n,n),e.getItem(n)!==n)return!0}catch(r){return t=r,!0}return!1},(null==n||t(n))&&(e={},n={length:0,getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),n}(),e}(),t.exports=n},{}]},{},[6])(6)});var AMP;!function(e){!function(t){!function(t){"use strict";var n=function(){function e(){}return e.creativeView="creativeView",e.start="start",e.firstQuartile="firstQuartile",e.midpoint="midpoint",e.thirdQuartile="thirdQuartile",e.complete="complete",e.mute="mute",e.unmute="unmute",e.pause="pause",e.rewind="rewind",e.resume="resume",e.fullscreen="fullscreen",e.exitFullscreen="exitFullscreen",e.expand="expand",e.collapse="collapse",e.acceptInvitationLinear="acceptInvitationLinear",e.closeLinear="closeLinear",e.skip="skip",e.progress="progress",e.click="click",e.error="error",e}();t.TrackingEvents=n;var r=function(){function e(){}return e.XML_PARSING_ERROR=100,e.VAST_SCHEMA_VALIDATION_ERROR=101,e.VAST_VERSION_OF_RESPONSE_NOT_SUPPORTED=102,e.TRAFFICKING_ERROR=200,e.VIDE0_PLAYER_EXPECTED_DIFFERENT_LINEARITY=201,e.VIDE0_PLAYER_EXPECTED_DIFFERENT_DURATION=202,e.VIDE0_PLAYER_EXPECTED_DIFFERENT_SIZE=203,e.GENERAL_RESPONSE_ERROR=300,e.TIMEOUT_OF_URI_PROVIDED_IN_WRAPPER=301,e.WRAPPER_LIMIT_REACHED=302,e.NO_ADS_RESPONSE_AFTER_WRAPPERS=303,e.GENERAL_LINEAR_ERROR=400,e.TIMEOUT_MEDIA_URI=402,e.NO_MEDIA_FILE_SUPPORTED=403,e.PROBLEM_PLAYING_MEDIA_FILE=405,e.UNDEFINED_ERROR=900,e}();t.VastErrorsCodes=r;var i=function(){function t(){}return t.prototype.get=function(t,n,r){var i=this,o=window.ADSVAST.client;e.Logger.verbose(5,"Ads plugin: Fetching ads"),o.get(t,function(t){e.Logger.verbose(5,"Ads plugin: Ads fetch response VastFile = "+JSON.stringify(t)),null!=t?(e.Logger.verbose(5,"Ads plugin: Ads Fetched"),i.addTrackerForCreatives(t),n.call(i,t)):(e.Logger.verbose(5,"Ads plugin: Failed to fetch the ads"),n.call(i))},r)},t.prototype.addTrackerForCreatives=function(e){for(var t=0;t<e.ads.length;t++){var n=e.ads[t].creatives,r=null;r=new window.ADSVAST.tracker(e.ads[t]),e.ads[t].tracker=r;for(var i=0;i<n.length;i++){var r=null;r=new window.ADSVAST.tracker(e.ads[t],n[i]),n[i].tracker=r}}},t}();t.VastSourceHandler=i}(t.vast||(t.vast={})),t.vast}(e.ads||(e.ads={})),e.ads}(AMP||(AMP={}));var AMP;!function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.maxdur="{maxdur}",e.mindur="{mindur}",e.maxbr="{maxbr}",e.DEFAULT_MAX_DUR_SEC=30,e.DEFAULT_MIN_DUR_SEC=15,e.DEFAULT_MAX_BITRATE_KBPS=600,e}();e.UrlKeys=t;var n=function(){function e(){}return e.formatVastFileUrl=function(e,n,r,i){for(var o=e,a=[t.maxbr,t.mindur,t.maxdur],s=[r,i,n],l=0;l<a.length;l++)o=o.replace(a[l],""+s[l]);return o},e}();e.VastUrlFormatter=n}(e.UrlFormatter||(e.UrlFormatter={})),e.UrlFormatter}(e.vast||(e.vast={})),e.vast}(e.ads||(e.ads={})),e.ads}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";function n(e){new s(e,this)}var r=function(){function e(e,t,n){this.source=e,this.tracks=t,this.name=n}return e}();t.AssetImpl=r;var i=function(){function e(e,t,n,r,i,o,a){this.name=e,this.parent=t,this.offset=n,
this.controls=r,this.timedReturn=i,this.clickThrough=o,this.skippable=a,this.isAd=!1}return e}();t.ClipImpl=i;var o=function(){function e(){this.pauseTimeline=!1,this.clips=[]}return e.prototype.add=function(e){return this.clips.push(e)},e}();t.PlayListImpl=o;var a=function(){function e(e,t,n){this.clip=e,this.ad=t,this.creative=n}return e}();t.ClipAdTrackerMap=a,amp.plugin("ampAds",n);var s=function(){function t(t,n){this.player=n,this.refreshPresentationLayout(t),this.registerForPresentationUpdate(),this.vastSourceHandler=new e.ads.vast.VastSourceHandler}return t.prototype.registerForPresentationUpdate=function(){var e=this;this.player.addEventListener("presentationUpdate",function(){e.refreshPresentationLayout(e.player.presentationLayout())})},t.prototype.refreshPresentationLayout=function(e){this.reset(),this.processPresentationLayout(e)},t.prototype.reset=function(){this.preRoll=null,this.midRolls=[],this.postRoll=null,this.inBandSourceUri=null,this.mainProgram=null,this.adsFetched=[],this.preRoll=null,this.postRoll=null,this.postRollClip=null,this.preRollClip=null,this.preRollFetchFailed=!1,this.postRollFetchFailed=!1,this.adTrackerInfo=[],this.requestedBitrate=300},t.prototype.init=function(){var e=this;setTimeout(function(){e.initializePlaylist()},10)},t.prototype.initializePlaylist=function(){var e=!1;this.preRoll&&this.preRoll.sourceUri&&(this.fetchAdForAdElement(this.preRoll),e=!0),this.postRoll&&this.postRoll.sourceUri&&(this.fetchAdForAdElement(this.postRoll),e=!0),!e&&this.mainProgram&&this.mainProgram.source&&this.checkPlayListAvailabilityAndStartPlayback()},t.prototype.handleAdFetchSuccess=function(e,t){if(!this.player.isDisposed()){if(this.overrideAdOptions(e,t),e===this.preRoll)this.preRollClip=this.getClipForAdElement(e,t);else{if(e!==this.postRoll){var n=this.getClipForAdElement(e,t),r={clip:n,splice:null};return e.splice&&(r.splice=e.splice),void this.player.addMidRoll(r)}this.postRollClip=this.getClipForAdElement(e,t)}this.checkPlayListAvailabilityAndStartPlayback()}},t.prototype.checkPlayListAvailabilityAndStartPlayback=function(){var e=!0,t=!0;null===this.preRoll||null!==this.preRollClip||this.preRollFetchFailed||(e=!1),null===this.postRoll||null!==this.postRollClip||this.postRollFetchFailed||(t=!1);var n=null;e&&t&&(n=new o,null!==this.preRoll&&null!==this.preRollClip&&n.add(this.preRollClip),n.add(this.getClipForMainProgram()),null!==this.postRoll&&null!==this.postRollClip&&n.add(this.postRollClip),n.pauseTimeline=!0,this.player.isDisposed()||this.player.playlist(n))},t.prototype.getClipForAdElement=function(t,n){for(var o=null,s=0;s<n.ads[0].creatives.length;s++)if("linear"===n.ads[0].creatives[s].type){o=n.ads[0].creatives[s];break}null==o&&(e.Logger.error(5,"Ads plugin: No Linear creative found"),n.ads[0].tracker.errorWithCode(e.ads.vast.VastErrorsCodes.VIDE0_PLAYER_EXPECTED_DIFFERENT_LINEARITY));var l=null,u=["video/mp4","video/mpeg"];if(o){for(var s=0;s<o.mediaFiles.length;s++)-1!==u.indexOf(o.mediaFiles[s].mimeType)&&(null!==l?l.bitrate<o.mediaFiles[s].bitrate&&o.mediaFiles[s].bitrate<=this.requestedBitrate?l=o.mediaFiles[s]:l.bitrate>o.mediaFiles[s].bitrate&&o.mediaFiles[s].bitrate>=this.requestedBitrate&&(l=o.mediaFiles[s]):l=o.mediaFiles[s]);null===l&&(e.Logger.error(5,"Ads plugin: No supported Media file can be found."),o.tracker.errorWithCode(e.ads.vast.VastErrorsCodes.NO_MEDIA_FILE_SUPPORTED))}if(null!==o&&null!=l){l.fileURL=l.fileURL.trim(),o.tracker.setAssetFileUri(l.fileURL);var d=new r({src:l.fileURL,type:l.mimeType},null,n.ads[0].adTitle),c=new i(n.ads[0].adTitle,d,0,(!0));return this.strictSchedule&&(c.timedReturn=!0),o.videoClickThroughURLTemplate&&o.videoClickThroughURLTemplate.length>0&&(c.clickThrough=o.videoClickThroughURLTemplate),t.options&&t.options.skipAd&&t.options.skipAd.enabled&&(c.skippable=t.options.skipAd.offset),c.ad=n,c.isAd=!0,this.adTrackerInfo.push(new a(c,n,o)),c}return t===this.preRoll?this.preRollFetchFailed=!0:t===this.postRoll&&(this.postRollFetchFailed=!0),null},t.prototype.getTrackerMapInfoForClip=function(e){for(var t=0;t<this.adTrackerInfo.length;t++)if(e===this.adTrackerInfo[t].clip)return this.adTrackerInfo[t];return null},t.prototype.getClipForMainProgram=function(){var e="Main Program",t=new r(this.mainProgram.source,this.mainProgram.tracks,e),n=new i(e,t,0,(!0),(!1));return n.isAd=!1,n},t.prototype.overrideAdOptions=function(e,t){if(e.options&&e.options.skipAd&&e.options.skipAd.enabled)for(var n=0;n<t.ads.length;n++)for(var r=0;r<t.ads[n].creatives.length;r++)t.ads[n].creatives[r].skipDelay=e.options.skipAd.offset},t.prototype.handleAdFetchError=function(t){e.Logger.verbose(5,"Ads plugin: Ads fetch failed for Uri = "+t.sourceUri),t===this.preRoll&&(this.preRollFetchFailed=!0,this.checkPlayListAvailabilityAndStartPlayback()),t===this.postRoll&&(this.postRollFetchFailed=!0,this.checkPlayListAvailabilityAndStartPlayback())},t.prototype.getFormattedUrl=function(t){var n=t.splice&&t.splice.duration?t.splice.duration:e.ads.vast.UrlFormatter.UrlKeys.DEFAULT_MAX_DUR_SEC,r=this.player.videoBufferData(),i=e.ads.vast.UrlFormatter.UrlKeys.DEFAULT_MAX_BITRATE_KBPS;return r&&r.downloadCompleted&&(i=r.downloadCompleted.mediaDownload.bitrate/1024,this.requestedBitrate=i),e.ads.vast.UrlFormatter.VastUrlFormatter.formatVastFileUrl(t.sourceUri,n,i,e.ads.vast.UrlFormatter.UrlKeys.DEFAULT_MIN_DUR_SEC)},t.prototype.fetchAdForAdElement=function(n){if(n.sourceUri){var r={manager:this,adElement:n},i=this.getFormattedUrl(n);this.vastSourceHandler.get(i,amp.bind(r,function(e){var t=this.manager.adsFetched.indexOf(this.adElement);e&&e.ads&&e.ads.length>0&&-1!==t?this.manager.handleAdFetchSuccess(this.adElement,e):this.manager.handleAdFetchError(this.adElement),this.manager.adsFetched.splice(t,1)}),t.DefaultTimeoutVal),this.adsFetched.push(n)}else e.Logger.error(5,"Ads plugin: fetchAdForAdElement ad missing sourceUri")},t.prototype.addListenersForPlayerEvents=function(){for(var e=this,t=[amp.eventName.playing,amp.eventName.timeupdate,amp.eventName.loadeddata,amp.eventName.splicewaiting,amp.eventName.start,amp.eventName.firstquartile,amp.eventName.midpoint,amp.eventName.thirdquartile,amp.eventName.complete,amp.eventName.mute,amp.eventName.unmute,amp.eventName.resume,amp.eventName.pause,amp.eventName.fullscreen,amp.eventName.exitfullscreen,amp.eventName.click,amp.eventName.skip,amp.eventName.errorInPlayingAd,amp.eventName.disposing],n=0;n<t.length;n++)this.player.addEventListener(t[n],function(t){e.handlePlayerEvent(t)})},t.prototype.fetchAllStaticMidRolls=function(){if(null!==this.midRolls)for(var e=0;e<this.midRolls.length;e++)this.midRolls[e].startTime>=0&&(this.midRolls[e].splice={id:-1,startOffset:this.midRolls[e].startTime},this.fetchAdForAdElement(this.midRolls[e]))},t.prototype.handlePlayerEvent=function(t){switch(t.type){case amp.eventName.disposing:break;case amp.eventName.loadeddata:var n=t.clip;n&&!n.isAd&&this.fetchAllStaticMidRolls();break;case amp.eventName.splicewaiting:var r=this.player.spliceWaiting();r.sort(function(e,t){return e.startOffset-t.startOffset});for(var i=0;i<r.length;i++)if(r[i].out){e.Logger.error(5,"ads-plugin : Fetching ad for splice OUT with Id = "+r[i].id+" duration ="+r[i].duration+" startOffset = "+r[i].startOffset);var o={sourceUri:this.inBandSourceUri,startTime:r[i].startOffset,splice:r[i]};this.fetchAdForAdElement(o)}else e.Logger.error(5,"ads-plugin : Processing splice Cancel or IN with Id = "+r[i].id+" duration ="+r[i].duration),this.player.addMidRoll({splice:r[i]});break;case amp.eventName.complete:case amp.eventName.start:case amp.eventName.errorInPlayingAd:case amp.eventName.skip:case amp.eventName.firstquartile:case amp.eventName.midpoint:case amp.eventName.thirdquartile:case amp.eventName.mute:case amp.eventName.unmute:case amp.eventName.resume:case amp.eventName.pause:case amp.eventName.fullscreen:case amp.eventName.exitfullscreen:case amp.eventName.timeupdate:case amp.eventName.playing:case amp.eventName.click:var n=t.clip;this.processPlayerEventForClip(n,t,this.player);break;case amp.eventName.error:}},t.prototype.processPlayerEventForClip=function(t,n){var r=this.mapAmpEventNameToVastEventName(n.type);if(t&&t.isAd&&null!==r){var i=this.getTrackerMapInfoForClip(t);null!==i&&i.creative.tracker&&(r!==e.ads.vast.TrackingEvents.error?(i.creative.tracker.setProgress(n.time),r===e.ads.vast.TrackingEvents.creativeView?i.creative.tracker.load():r===e.ads.vast.TrackingEvents.click?(i.creative.videoClickThroughURLTemplate&&window.open(i.creative.videoClickThroughURLTemplate),i.creative.tracker.click()):r!==e.ads.vast.TrackingEvents.progress&&i.creative.tracker.track(r)):(e.Logger.error(5,"Ads plugin: Ads playback Error."),i.creative.tracker.errorWithCode(e.ads.vast.VastErrorsCodes.PROBLEM_PLAYING_MEDIA_FILE)),(r===e.ads.vast.TrackingEvents.skip||r===e.ads.vast.TrackingEvents.complete||r===e.ads.vast.TrackingEvents.error)&&i.creative.tracker.resetTrackingEventsInfo())}},t.prototype.compareAdStartTime=function(e,t){var n=0,r=10;return e<t.startTime-r?n=-1:e>t.startTime&&(n=1),n},t.prototype.handleTimeUpdateAndFetchMidRoll=function(e){var n=t.binarySearchThroughMidRolls(e,this.midRolls,this.compareAdStartTime);-1!==n&&-1!==this.adsFetched.indexOf(this.midRolls[n])&&this.fetchAdForAdElement(this.midRolls[n])},t.prototype.processPresentationLayout=function(e){var t=this;if(null!==e&&void 0!==e){var n=!1;if(e.preRoll){if(!e.preRoll.sourceUri)throw"preRoll without sourceUri is not valid";this.preRoll=e.preRoll,n=!0}if(e.midRoll&&e.midRoll.length>0)for(var r=0;r<e.midRoll.length;r++){var i=e.midRoll[r];if(!i.sourceUri)throw"midRoll entry without sourceUri is not valid";if(i.sourceUri&&!i.startTime){if(this.inBandSourceUri)throw"multiple midRoll entries without starTime are not valid.";this.inBandSourceUri=i.sourceUri,n=!0}else{if(i.startTime<0)throw"midRoll starTime cannot be nagative.";this.midRolls.push(i),n=!0}}if(e.postRoll){if(!e.postRoll.sourceUri)throw"postRoll without sourceUri is not valid";this.postRoll=e.postRoll,n=!0}if(e.mainProgram){if(!e.mainProgram.source)throw"ads-plugin needs a valid presentationLayout.mainProgram definition.";this.mainProgram=e.mainProgram,n=!0}this.midRolls.length>1&&this.midRolls.sort(function(e,t){return e.startTime-t.startTime}),this.strictSchedule=!!e.strictSchedule,n&&(this.player.showBusy(),this.player.ready(function(){t.addListenersForPlayerEvents()}),this.init())}},t.prototype.mapAmpEventNameToVastEventName=function(t){switch(t){case amp.eventName.playing:return e.ads.vast.TrackingEvents.creativeView;case amp.eventName.errorInPlayingAd:return e.ads.vast.TrackingEvents.error;case amp.eventName.start:return e.ads.vast.TrackingEvents.start;case amp.eventName.firstquartile:return e.ads.vast.TrackingEvents.progress;case amp.eventName.midpoint:return e.ads.vast.TrackingEvents.progress;case amp.eventName.thirdquartile:return e.ads.vast.TrackingEvents.progress;case amp.eventName.complete:return e.ads.vast.TrackingEvents.complete;case amp.eventName.mute:return e.ads.vast.TrackingEvents.mute;case amp.eventName.unmute:return e.ads.vast.TrackingEvents.unmute;case amp.eventName.resume:return e.ads.vast.TrackingEvents.resume;case amp.eventName.fullscreen:return e.ads.vast.TrackingEvents.fullscreen;case amp.eventName.exitfullscreen:return e.ads.vast.TrackingEvents.exitFullscreen;case amp.eventName.click:return e.ads.vast.TrackingEvents.click;case amp.eventName.skip:return e.ads.vast.TrackingEvents.skip;case amp.eventName.pause:return e.ads.vast.TrackingEvents.pause;case amp.eventName.resume:return e.ads.vast.TrackingEvents.resume;case amp.eventName.rewind:return e.ads.vast.TrackingEvents.rewind;case amp.eventName.timeupdate:return e.ads.vast.TrackingEvents.progress}return null},t.DefaultTimeoutVal=5e3,t.binarySearchThroughMidRolls=AzureHtml5JS.Common.binarySearch,t}()}(e.ads||(e.ads={})),e.ads}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";function n(e){return new r(e)}t.createScheduler=n;var r=function(){function t(t){var n=this;this._eventsToRoute=[amp.eventName.canplaythrough,amp.eventName.timeupdate,amp.eventName.start,amp.eventName.firstquartile,amp.eventName.midpoint,amp.eventName.thirdquartile,amp.eventName.ended,amp.eventName.mute,amp.eventName.unmute,amp.eventName.rewind,amp.eventName.resume,amp.eventName.pause,amp.eventName.fullscreen,amp.eventName.exitfullscreen,amp.eventName.click,amp.eventName.skip,amp.eventName.error,amp.eventName.play,amp.eventName.playing],this._player=t,this._adPlaybackStrategy=e.Scheduler.Strategy.getStrategy(this._player),this._midRolls=[],this._currentClipIndexInPlayList=-1,this.addListenersForAllPlayerEvents(),this._currentPreloadPlayIndexInMidRolls=-1,this._lastMidRollPlayed=null,this._lastMainContentTime=-1,this._adPlayMonitorTimerId=NaN,this._nextClipPreloaded=!1,this._adPlayStartTime=NaN,this._playList=null,this._player.addEventListener("presentationUpdate",function(){null!==n._playList&&n._adPlaybackStrategy.updateAutoPlay(!0),n.reset(),n._adPlaybackStrategy.presentationUpdated()})}return t.prototype.setPlaylist=function(e){var t=this;this._playList=e,this.startPlaybackWithNextInPlayList(),this._player.one(amp.eventName.play,function(){t.handleFirstPlay(t._player)})},t.prototype.playlist=function(){return this._playList},t.prototype.reset=function(){this._midRolls=[],this._currentClipIndexInPlayList=-1,this._currentPreloadPlayIndexInMidRolls=-1,this._lastMidRollPlayed=null,this._lastMainContentTime=-1,this._nextClipPreloaded=!1,this._adPlayStartTime=NaN,this.stopAdPlayTimer(),this._playList=null},t.prototype.dispose=function(){this.stopRoutingAdEvents(),this._adPlaybackStrategy&&this._adPlaybackStrategy.dispose(),this.stopAdPlayTimer()},t.prototype.startPlaybackWithNextInPlayList=function(){if(this._currentClipIndexInPlayList++,this._playList.clips.length>0&&this._currentClipIndexInPlayList<this._playList.clips.length){var t=this._playList.clips[this._currentClipIndexInPlayList];t.isAd?(e.Logger.verbose(9,"Playing ad CLip with src ="+t.parent.source.src),this._nextClipPreloaded=!1,this._adPlaybackStrategy.playAdClip(t)):(e.Logger.verbose(9,"Starting Main Content play."),this._adPlaybackStrategy.setMainContent(t),this.resumeMainContent()),this.preloadMainContent()}else this._adPlaybackStrategy.isPlayingAd()&&this._adPlaybackStrategy.handlePostRollCompleted()},t.prototype.preloadMainContent=function(){if(0===this._currentClipIndexInPlayList&&this._adPlaybackStrategy.isPlayingAd()){var e=this._currentClipIndexInPlayList+1,t=this._playList.clips.length;if(e>t)return;var n=this._playList.clips[e];for(e+=1;n.isAd&&t-1>e;)n=this._playList.clips[e++];if(!n.isAd)return this._adPlaybackStrategy.setMainContent(n),void this._adPlaybackStrategy.preloadMainContent()}},t.prototype.addListenersForAllPlayerEvents=function(){var e=this._adPlaybackStrategy.getAdPlayer();this._player!==e&&(this.startRoutingAdEvents(e),this.addEventListeners(e)),this.addEventListeners(this._player)},t.prototype.addEventListeners=function(e){var t=this;e.addEventListener(amp.eventName.timeupdate,function(){t.playerTimeUpdate(e)}),e.addEventListener(amp.eventName.seeked,function(){t.playerSeeked(e)}),e.addEventListener(amp.eventName.ended,function(){t.handleEnded(e)})},t.prototype.startRoutingAdEvents=function(e){var t=this;this._eventsToRoute.forEach(function(n){e.addEventListener(n,t.adEventHandler.bind(t))})},t.prototype.stopRoutingAdEvents=function(){var e=this._adPlaybackStrategy.getAdPlayer();if(this._player!==e){var t=this;this._eventsToRoute.forEach(function(n){e.removeEventListener(n,t.adEventHandler.bind(t))})}},t.prototype.adEventHandler=function(e){if(this._adPlaybackStrategy.isPlayingAd()){var t,n=this._adPlaybackStrategy.getAdPlayer();switch(e.type){case amp.eventName.error:if(!this._adPlaybackStrategy.isPlayingAd())return;t=amp.eventName.errorInPlayingAd,this._adPlaybackStrategy.updateAutoPlay(!0);break;case amp.eventName.ended:t=amp.eventName.complete;break;case amp.eventName.pause:if(t=amp.eventName.pause,n.ended())return;break;case amp.eventName.click:if(t=amp.eventName.click,n.paused())return void n.play();n.pause(),this.stopAdPlayTimer();break;default:t=e.type}this._player.trigger(t,null,n.currentClip(),n.currentTime()),(t===amp.eventName.errorInPlayingAd||t===amp.eventName.skip)&&this.handleEnded(n)}},t.prototype.resumeMainContent=function(e){this.stopAdPlayTimer(),(this.isTimeToResumeMainContent()||e)&&(this._currentPreloadPlayIndexInMidRolls=-1,this._adPlaybackStrategy.resumeMainContent(),this._adPlayStartTime=NaN,this.removeObsoleteMidRollsForLiveStreaming())},t.prototype.handleFirstPlay=function(e){this._adPlaybackStrategy.isPlayingAd()||(this._mainContentLive=e.isLive(),this._mainContentLive&&(this.removeStaticMidRolls(),this._player.trigger("midrollAdded"),this._currentPreloadPlayIndexInMidRolls=-1))},t.prototype.removeStaticMidRolls=function(){var e=[];if(this._midRolls.length>0){for(var t=0;t<this._midRolls.length;t++)this._midRolls[t].splice.id>0&&e.push(this._midRolls[t]);this._midRolls=e}},t.prototype.playerSeeked=function(){var e=this;if(!this._adPlaybackStrategy.isPlayingAd()&&this._midRolls.length>0){var t=this._player.currentMediaTime();this.handleSkipAndPlayPreloadedAd(t)||(this._lastMidRollPlayed=null,this._lastMainContentTime=t,AzureHtml5JS.Util.setTimeout(function(){e.preloadAd(e._lastMainContentTime,!0)},100))}},t.prototype.handleSkipAndPlayPreloadedAd=function(e){if(this._lastMainContentTime<e&&-1!==this._currentPreloadPlayIndexInMidRolls&&e>this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.startOffset){var t=this._adPlaybackStrategy.getAdPlayer();return t.bufferedPercent(),this.handleTimeUpdateAndFetchMidRoll(this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.startOffset,!1,!0)}return!1},t.prototype.playerTimeUpdate=function(e){!this._adPlaybackStrategy.isPlayingAd()&&this._midRolls.length>0&&!e.paused()&&(this._lastMainContentTime=this._player.currentMediaTime(),this.handleTimeUpdateAndFetchMidRoll(this._lastMainContentTime)||this.checkIfPreloadNeedsRefresh()&&this.preloadAd(this._lastMainContentTime,!1))},t.prototype.checkIfPreloadNeedsRefresh=function(){return!(!this._adPlaybackStrategy.isPlayingAd()&&-1!==this._currentPreloadPlayIndexInMidRolls&&this._player.currentMediaTime()<this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.startOffset)},t.prototype.handleEnded=function(t){var n=t.currentClip();null!==n&&(this._adPlaybackStrategy.updateAutoPlay(!0),n.isAd&&!this.isPlayListItem(n)?(e.Logger.verbose(9,"Handling ended for Clip="+n.parent.source.src),this._adPlaybackStrategy.isPlayingAd()&&this.resumeMainContent()):(this._lastMidRollPlayed=null,this.startPlaybackWithNextInPlayList()))},t.prototype.isPlayListItem=function(e){return-1!==this._playList.clips.indexOf(e)},t.prototype.addMidRoll=function(t){if(this._adPlaybackStrategy.isMidRollSpupported()){var n=0;if(this._mainContentLive&&t.splice.id<0)return;if(!this._mainContentLive&&t.splice.id<0&&(n=this._player.currentMediaTime()-this._player.currentTime(),t.splice.startOffset=t.splice.startOffset+n),t.clip){if(!this.updateExistingMidRoll(t)){var r=this.midRollsSortingNeeded(t);this._midRolls.push(t),r&&(this._currentPreloadPlayIndexInMidRolls=-1,this.keepMidRollsSorted()),e.Logger.verbose(9,"Current media time ="+this._player.currentMediaTime()),e.Logger.verbose(9,"Received an ad signal message with startOffset ="+t.splice.startOffset+" and Id ="+t.splice.id+" and Duration ="+t.splice.duration)}}else e.Logger.verbose(9,"Reveived a splice In or Cancel with Id = "+t.splice.id+" Cancel ="+t.splice.cancel+" And out = "+t.splice.out+" And duration = "+t.splice.duration),this.clearSplice(t.splice)}return this._player.trigger("midrollAdded"),this._midRolls},t.prototype.midRollsSortingNeeded=function(e){return!(this._midRolls.length>0&&this._midRolls[this._midRolls.length-1].splice.startOffset<=e.splice.startOffset)&&0!==this._midRolls.length},t.prototype.removeObsoleteMidRollsForLiveStreaming=function(){if(this._mainContentLive&&!this._adPlaybackStrategy.isPlayingAd()){var t=this._player.currentMediaTime()-this._player.currentTime();if(this._midRolls.length>0){for(var n=[],r=[],i=0;i<this._midRolls.length;i++)this._midRolls[i].splice.id>0&&this._midRolls[i].splice.startOffset<t?(r.push(this._midRolls[i]),e.Logger.verbose(9,"Splice with Offset ="+this._midRolls[i].splice.startOffset+" is stale and will be removed")):n.push(this._midRolls[i]);r.length>0&&(this._midRolls=n,this._currentClipIndexInPlayList=-1)}}},t.prototype.updateExistingMidRoll=function(t){if(t.splice.id>0)for(var n=this._midRolls.length,r=0;n>r;r++)if(this._midRolls[r].splice.id===t.splice.id){e.Logger.verbose(9,"Duplicate splice with ID ="+this._midRolls[r].splice.id+" storing a suplimentory Clip new duration ="+t.splice.duration+" new startOffset="+t.splice.startOffset);var i=this._midRolls[r].splice;if(this._currentPreloadPlayIndexInMidRolls===r&&this._adPlaybackStrategy.isPlayingAd()){if(i.startOffset===t.splice.startOffset){if(i.duration>t.splice.duration){i.duration=t.splice.duration;var o=(Date.now()-this._adPlayStartTime)/1e3;this.startAdPlayMonitor(this._midRolls[r],i.startOffset+o)}return this._midRolls[r]=t,!0}this._lastMidRollPlayed=null,this.resumeMainContent(!0)}return this._midRolls.splice(r,1),!1}},t.prototype.getMidRolls=function(){return this._midRolls},t.prototype.keepMidRollsSorted=function(){this._midRolls.length>1&&this._midRolls.sort(function(e,t){return e.splice.startOffset-t.splice.startOffset})},t.prototype.clearSplice=function(t){var n=this;if(this._currentPreloadPlayIndexInMidRolls>=0&&this._adPlaybackStrategy.isPlayingAd()&&this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice&&this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.id===t.id){var r=this._midRolls[this._currentPreloadPlayIndexInMidRolls];if(void 0!==t.cancel&&t.cancel)this.resumeMainContent(!0);else if(void 0!==t.out&&!t.out&&void 0===r.splice.duration){var i=t.startOffset,o=(this._lastMainContentTime,(Date.now()-this._adPlayStartTime)/1e3),a=i-r.splice.startOffset,s=a-o;r.splice.duration=a,e.Logger.verbose(9,"Updated duration of splice with Id = "+r.splice.id+" to = "+r.splice.duration),0>=s?this.resumeMainContent(!0):(this.stopAdPlayTimer(),this._adPlayMonitorTimerId=AzureHtml5JS.Util.setTimeout(function(){n.resumeMainContent()},1e3*s))}}else if(void 0!==t.out&&void 0===t.cancel&&!t.out){var l=this.searchMidRollsForSplice(t);if(-1!==l){var u=this._midRolls[l],i=t.startOffset,a=i-u.splice.startOffset;u.splice.duration=a}}if(t.cancel){var d=-1;for(d=this.searchMidRollsForSplice(t);-1!==d;)this._midRolls.splice(d,1),d=this.searchMidRollsForSplice(t);this._currentPreloadPlayIndexInMidRolls=-1}},t.prototype.searchMidRollsForSplice=function(e){for(var t=0;t<this._midRolls.length;t++)if(this._midRolls[t].splice.id===e.id)return t;return-1},t.prototype.searchMidRollsAfterTimeForPreload=function(e){for(var t=6e5,n=0;n<this._midRolls.length;n++)if(this._midRolls[n].splice.startOffset>e&&this._midRolls[n].splice.startOffset<e+t)return n;return-1},t.prototype.compareAdStartTimeForPlay=function(e,t){var n=0,r=.3,i=.2;return e<t.splice.startOffset-r?n=-1:t.splice.duration&&t.splice.id>0&&e>t.splice.startOffset+t.splice.duration?n=1:void 0===t.splice.duration&&e>t.splice.startOffset+i&&(n=1),n},t.prototype.handleTimeUpdateAndFetchMidRoll=function(n,r,i){if(!this._adPlaybackStrategy.isPlayingAd()||r){var o=t.binarySearchThroughMidRolls(n,this._midRolls,this.compareAdStartTimeForPlay);if(-1!==o&&this._midRolls[o].clip&&(!i||this._midRolls[o].played!==!0)&&this._lastMidRollPlayed!==this._midRolls[o]){e.Logger.verbose(9,"Found an Ad that we can play for media time = "+n);var a=this._adPlayStartTime;return this.startMidRollPlayback(this._midRolls[o],n),r&&!isNaN(a)&&(this._adPlayStartTime=a),this._currentPreloadPlayIndexInMidRolls=o,!0}}return!1},t.prototype.startMidRollPlayback=function(t,n){this._adPlaybackStrategy.updateAutoPlay(!0),this._lastMidRollPlayed=t,this.startAdPlayMonitor(t,n),this._adPlayStartTime=Date.now(),this._mainContentAtLiveEdgeBeforeAdBreak=this._adPlaybackStrategy.isMainContentAtLiveEdge(),this._mainContentLive=this._adPlaybackStrategy.isMainContentLive(),e.Logger.verbose(9,"Starting Ad playback for time ="+n+" ad start time = "+t.splice.startOffset+" ad duration = "+t.splice.cancel),this._adPlaybackStrategy.playAdClip(t.clip,t.splice.id>0),t.played=!0},t.prototype.preloadAd=function(t,n){if(null!==this._adPlaybackStrategy.currentClip()&&!this._adPlaybackStrategy.currentClip().isAd){var r=this.searchMidRollsAfterTimeForPreload(t);if(-1!==r&&this._midRolls[r].clip&&this._currentPreloadPlayIndexInMidRolls!==r&&this._lastMidRollPlayed!==this._midRolls[r]){var i=!1;n?i=!0:-1===this._currentPreloadPlayIndexInMidRolls&&(i=!0),i&&this._midRolls[r].clip&&(e.Logger.verbose(9,"Preloading ad CLip with src ="+this._midRolls[r].clip.parent.source.src),this._adPlaybackStrategy.preloadAd(this._midRolls[r].clip),this._nextClipPreloaded=!0,this._currentPreloadPlayIndexInMidRolls=r)}else this._mainContentLive||(this._currentClipIndexInPlayList<this._playList.clips.length-1&&!this._nextClipPreloaded&&(e.Logger.verbose(9,"Preloading ad Clip with src ="+this._playList.clips[this._currentClipIndexInPlayList+1].parent.source.src),this._adPlaybackStrategy.preloadAd(this._playList.clips[this._currentClipIndexInPlayList+1]),this._nextClipPreloaded=!0),this._currentPreloadPlayIndexInMidRolls=-1)}},t.prototype.startAdPlayMonitor=function(t,n){var r=this;if(this.stopAdPlayTimer(),t.splice.id>0&&t.splice.duration){var i=t.splice.startOffset+t.splice.duration-n;this._adPlayMonitorTimerId=AzureHtml5JS.Util.setTimeout(function(){r.resumeMainContent()},1e3*i),e.Logger.verbose(9,"Starting _adPlayMonitor for duration = "+i)}},t.prototype.isTimeToResumeMainContent=function(){var t=this._lastMidRollPlayed,n=Date.now(),r=(n-this._adPlayStartTime)/1e3;return null!==t&&null!==t.splice&&t.splice.id>0&&!isNaN(this._adPlayStartTime)&&this.handleTimeUpdateAndFetchMidRoll(this._lastMainContentTime+r,!0)?(this._lastMainContentTime=this._lastMainContentTime+r,!1):(e.Logger.verbose(9,"Switching to main program after time = "+r),!0)},t.prototype.stopAdPlayTimer=function(){isNaN(this._adPlayMonitorTimerId)||(AzureHtml5JS.Util.clearTimeout(this._adPlayMonitorTimerId),this._adPlayMonitorTimerId=NaN)},t.prototype.isPlayingAd=function(){return this._adPlaybackStrategy.isPlayingAd()},t.prototype.getAdPlayer=function(){return this._adPlaybackStrategy.getAdPlayer()},t.binarySearchThroughMidRolls=AzureHtml5JS.Common.binarySearch,t}();t.Scheduler=r}(e.Scheduler||(e.Scheduler={})),e.Scheduler}(AMP||(AMP={}));var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},AMP;!function(e){!function(t){!function(t){"use strict";function n(e){return AzureHtml5JS.Common.isMobile?new r(e):new i(e)}t.getStrategy=n;var r=function(){function e(e){this._mainPlayer=e,this._mainPlayerState=null}return e.prototype.isMainContentLive=function(){return this._mainPlayer.isLive()},e.prototype.isMainContentAtLiveEdge=function(){var e=this._mainPlayer.currentPlayerSettingValue("livePlaybackOffsetInWallClockSec"),t=5;return!(this._mainPlayer.currentTime()<this._mainPlayer.duration()-t-e)},e.prototype.preloadAd=function(){},e.prototype.preloadMainContent=function(){},e.prototype.isPlayingAd=function(){return this._mainPlayer.currentClip().isAd},e.prototype.updateAutoPlay=function(){this._mainPlayer.autoplay(!0)},e.prototype.dispose=function(){},e.prototype.presentationUpdated=function(){},e.prototype.isMidRollSpupported=function(){return!1},e.prototype.setMainContent=function(e){this._mainContent=e},e.prototype.playAdClip=function(e){this.pauseMainContent(),this._mainPlayer.playClip(e)},e.prototype.currentClip=function(){return this._mainPlayer.currentClip()},e.prototype.getAdPlayer=function(){return this._mainPlayer},e.prototype.pauseMainContent=function(){this._mainPlayer&&null!==this._mainPlayer.currentSrc()&&null===this._mainPlayerState&&(this._mainPlayer.pause(),this._mainPlayerState=null)},e.prototype.resumeMainContent=function(){null!==this._mainPlayerState?(this._mainPlayer.loadPlayerFromState(this._mainPlayerState),this._mainPlayerState=null):this._mainPlayer.playClip(this._mainContent)},e.prototype.handlePostRollCompleted=function(){},e}();t.SinglePlayerStrategy=r;var i=function(t){function n(e){t.call(this,e),this.populateAdDomElements(),this.setUpFullScreenEventHandling(),this._isFirstPlayForMainContent=!0}return __extends(n,t),n.prototype.preloadAd=function(e){this._adPlayer.resetPlayer(),this._adPlayer.controls(!1),this._adPlayer.preloadClip(e)},n.prototype.preloadMainContent=function(){this._mainPlayer.preloadClip(this._mainContent)},n.prototype.isMidRollSpupported=function(){return"AzureHtml5JS"===this._mainPlayer.currentTechName()},n.prototype.isPlayingAd=function(){return this._currentPlayer===this._adPlayer},n.prototype.updateAutoPlay=function(){this._mainPlayer.autoplay(!0),this._adPlayer.autoplay(!0),this._adPlayer.poster(""),this._adPlayer.bigPlayButton.el_.className="vjs-big-play-button "},n.prototype.dispose=function(){this._adPlayer.dispose()},n.prototype.presentationUpdated=function(){this._mainContent=null,this._adPlayer.muted(!1),this._adPlayer.options_.autoplay=this._mainPlayer.options_.autoplay,this._adPlayer.poster(this._mainPlayer.poster()),this._adPlayer.resetPlayer(),this._adPlayer.trigger("presentationUpdate"),this._isFirstPlayForMainContent=!0,this._adPlayer.bigPlayButton.el_.className="vjs-big-play-button override-controls-disabled "},n.prototype.storeMainContentPlaybackRate=function(){try{this._mainPlayer.canControlPlaybackRate()&&(this._mainContentPlayRate=this._mainPlayer.playbackRate())}catch(t){e.Logger.warning(9,"Exception in retrieving playback rate")}},n.prototype.updateMainContentPlaybackRate=function(){try{this._mainPlayer.canControlPlaybackRate()&&this._mainPlayer.playbackRate(this._mainContentPlayRate)}catch(t){e.Logger.warning(9,"Exception in setting playback rate")}},n.prototype.playAdClip=function(t,n){this.copyPlayerStatus(this._mainPlayer,this._adPlayer),this.storeMainContentPlaybackRate(),n?(1!==this._mainContentPlayRate&&this._mainPlayer.canControlPlaybackRate()&&this._mainPlayer.playbackRate(1),this._mainPlayer.muted(!0)):this.pauseMainContent(),this._mainPlayer.hide(),this._currentPlayer=this._adPlayer,this._adPlayer.currentClip()===t&&null===this._adPlayer.error()?(this._adPlayer.play(),this._adPlayer.show()):(e.Logger.verbose(9,"Ad is not preloaded, so executing a playClip"),this._adPlayer.resetPlayer(),this._adPlayer.playClip(t),this._adPlayer.show(!0),this._adPlayer.controls(!1)),null!==this._mainPlayer.currentClip()&&this._adPlayer.poster("")},n.prototype.isMainContentPaused=function(){try{return this._mainPlayer.paused()}catch(t){e.Logger.warning(9,"Exception in retrieving isPaused status.")}return!1},n.prototype.resumeMainContent=function(){this.copyPlayerStatus(this._adPlayer,this._mainPlayer),this._currentPlayer=this._mainPlayer,null!=this._adPlayer&&this._adPlayer.pauseAndHide(),null===this._mainPlayer.currentClip()||this._mainPlayer.currentClip()!==this._mainContent||null!==this._mainPlayer.error()?(this._mainPlayer.show(!0),this._mainPlayer.playClip(this._mainContent)):this.isMainContentPaused()&&null===this._mainPlayer.error()?this.startMainContentPlay():this._mainPlayer.show(),this._isFirstPlayForMainContent&&this._mainPlayer.isLive()&&null===this._mainPlayer.error()&&(this._isFirstPlayForMainContent=!1,this._mainPlayer.currentTime(this._mainPlayer.duration())),this.updateMainContentPlaybackRate()},n.prototype.startMainContentPlay=function(){var t=this;this._mainPlayer.show(),this._mainPlayer.play();var n=0;try{n=this._mainPlayer.currentTime(),2>n&&(this._mainPlayer.el_.style.opacity=0,this.pauseMainContent(),AzureHtml5JS.Util.setTimeout(function(){t._mainPlayer.el_.style.opacity=1,t._mainPlayer.play()},200))}catch(r){e.Logger.warning(9,"Exception in startMainContentPlay.");
}},n.prototype.handlePostRollCompleted=function(){this.copyPlayerStatus(this._adPlayer,this._mainPlayer),null!=this._adPlayer&&this._adPlayer.pauseAndHide(),this.updateMainContentPlaybackRate(),this._currentPlayer=this._mainPlayer,this._mainPlayer.show()},n.prototype.copyPlayerStatus=function(t,n){try{null!==t&&null!==n&&(n.volume(t.volume()),n.muted(t.muted()))}catch(r){e.Logger.warning(9,"Exception in copying volume status.")}},n.prototype.setUpFullScreenEventHandling=function(){var t=this;try{this._mainPlayer.addEventListener("fullscreenchange",function(){t.copyFullScreenStatus(t._mainPlayer,t._adPlayer)}),this._adPlayer.addEventListener("fullscreenchange",function(){t.copyFullScreenStatus(t._adPlayer,t._mainPlayer)})}catch(n){e.Logger.warning(9,"Exception in settingup fullscreen event handling.")}},n.prototype.copyFullScreenStatus=function(t,n){try{t.isFullscreen()&&!n.isFullscreen()?n.enterFullscreen():!t.isFullscreen()&&n.isFullscreen()&&n.exitFullscreen()}catch(r){e.Logger.warning(9,"Exception in copying fullscreen status.")}},n.prototype.pauseMainContent=function(){try{null!==this._mainPlayer&&this._mainPlayer.pause()}catch(t){e.Logger.warning(9,"Exception in pausing playback.")}},n.prototype.getAdPlayer=function(){return this._adPlayer},n.prototype.currentClip=function(){return this._currentPlayer.currentClip()},n.prototype.populateAdDomElements=function(){this._adPlayer=this._mainPlayer.createAdPlayer()},n}(r);t.MultiPlayerStrategy=i}(t.Strategy||(t.Strategy={})),t.Strategy}(e.Scheduler||(e.Scheduler={})),e.Scheduler}(AMP||(AMP={})),function(e){var t=e.vttjs={},n=t.VTTCue,r=t.VTTRegion,i=e.VTTCue,o=e.VTTRegion;t.shim=function(){t.VTTCue=n,t.VTTRegion=r},t.restore=function(){t.VTTCue=i,t.VTTRegion=o}}(this),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){if("string"!=typeof e)return!1;var t=l[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t,o){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var d="",c=!1,p=e,h=t,f=o,m=null,g="",y=!0,v="auto",_="start",b=50,S="middle",T=50,w="middle";return Object.defineProperty(s,"id",i({},u,{get:function(){return d},set:function(e){d=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return g},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return v},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return b},set:function(e){if(0>e||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return S},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return T},set:function(e){if(0>e||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),s.displayState=void 0,l?s:void 0}var a="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o,t.VTTCue=o}(this,this.vttjs||{}),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=o[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){return"number"==typeof e&&e>=0&&100>=e}function i(){var e=100,t=3,i=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var o={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{}),function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=f(null)}function i(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}function o(e,o,a){function s(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+d);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function l(e,t){var n=new r;i(e,function(e,t){switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];n.integer(e,o),n.percent(e,o)?n.set("snapToLines",!1):null,n.alt(e,o,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function u(){e=e.replace(/^\s+/,"")}var d=e;if(u(),o.startTime=s(),u(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+d);e=e.substr(3),u(),o.endTime=s(),u(),l(e,o)}function a(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return m[e]}function o(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],i);return e}function a(e,t){return!v[t.localName]||v[t.localName]===e.localName}function s(t,n){var r=g[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=y[t];return o&&n&&(i[o]=n.trim()),i}for(var l,u=e.document.createElement("div"),d=u,c=[];null!==(l=r());)if("<"!==l[0])d.appendChild(e.document.createTextNode(o(l)));else{if("/"===l[1]){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),d=d.parentNode);continue}var p,h=n(l.substr(1,l.length-2));if(h){p=e.document.createProcessingInstruction("timestamp",h),d.appendChild(p);continue}var f=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(p=s(f[1],f[3]),!p)continue;if(!a(d,p))continue;f[2]&&(p.className=f[2].substr(1).replace("."," ")),c.push(f[1]),d.appendChild(p),d=p}return u}function s(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=n(i);)for(var a=0;a<o.length;a++){r=o.charCodeAt(a);for(var s=0;s<_.length;s++)if(_[s]===r)return"rtl"}return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}function u(){}function d(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),u.call(this),this.cue=t,this.cueDiv=a(e,t.text);var l={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(l.direction=s(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var d=0;switch(t.positionAlign){case"start":d=t.position;break;case"middle":d=t.position-t.size/2;break;case"end":d=t.position-t.size}this.applyStyles(""===t.vertical?{left:this.formatStyle(d,"%"),width:this.formatStyle(t.size,"%")}:{top:this.formatStyle(d,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function c(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,n,r){function i(e,t){for(var i,o=new c(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(i=new c(e),a=l),e=new c(o)}return i||o}var o=new c(t),a=t.cue,s=l(a),u=[];if(a.snapToLines){var d;switch(a.vertical){case"":u=["+y","-y"],d="height";break;case"rl":u=["+x","-x"],d="width";break;case"lr":u=["-x","+x"],d="width"}var p=o.lineHeight,h=p*Math.round(s),f=n[d]+p,m=u[0];Math.abs(h)>f&&(h=0>h?-1:1,h*=Math.ceil(f/p)*p),0>s&&(h+=""===a.vertical?n.height:n.width,u=u.reverse()),o.move(m,h)}else{var g=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=g/2;break;case"end":s-=g}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],o=new c(t)}var y=i(o,u);t.move(y.toCSSCompatValues(n))}function h(){}var f=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=f(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&100>=t))&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},y={v:"title",lang:"lang"},v={rt:"ruby"},_=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];u.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},u.prototype.formatStyle=function(e,t){return 0===e?0:e+t},d.prototype=f(u.prototype),d.prototype.constructor=d,c.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},c.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},c.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},c.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},c.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},c.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},c.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},c.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i},h.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},h.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null};var b=.05,S="sans-serif",T="1.5%";h.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=T,n.appendChild(i),r(t)){var o=[],a=c.getSimpleBoxPosition(i),s=Math.round(a.height*b*100)/100,l={font:s+"px "+S};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new d(e,r,l),i.appendChild(n.div),p(e,n,a,o),r.displayState=n.div,o.push(c.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)},h.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},h.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=l.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,l.buffer=e.substr(t),n}function a(e){var t=new r;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new r;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),l.onregion&&l.onregion(n),l.regionList.push({id:t.get("id"),region:n})}}function s(e){i(e,function(e,t){switch(e){case"Region":a(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;u=n();var d=u.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new t(t.Errors.BadSignature);l.state="HEADER"}for(var c=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(c?c=!1:u=n(),l.state){case"HEADER":/:/.test(u)?s(u):u||(l.state="ID");continue;case"NOTE":u||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){l.state="NOTE";break}if(!u)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",-1===u.indexOf("-->")){l.cue.id=u;continue}case"CUE":try{o(u,l.cue,l.regionList)}catch(p){l.reportOrThrowError(p),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var h=-1!==u.indexOf("-->");if(!u||h&&(c=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=u;continue;case"BADCUE":u||(l.state="ID");continue}}}catch(p){l.reportOrThrowError(p),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=h}(this,this.vttjs||{}),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};amp.plugin("ga",function(t){function n(){g.unloaddatasent||(g.unloaddatasent=!0,r("page","onbeforeunload"),d.playTime&&_.send(),d.bitrate&&v.send())}function r(e,n,r,i){window.google_tag_manager?(dataLayer.push({event:"trackEvent",eventCategory:e,eventAction:n,eventLabel:p,eventValue:i}),t.debug&&console.log("sent to gtm...'send', 'event', {'eventCategory': "+e+", 'eventAction': "+n+", 'eventLabel': "+p+",'eventValue': "+i+"}")):window.ga||window.ga2?(window.ga&&(ga("send","event",{eventCategory:e,eventAction:n,eventLabel:p,eventValue:i,nonInteraction:r}),t.debug&&console.log("sent to ga...'send', 'event', {'eventCategory': "+e+", 'eventAction': "+n+", 'eventLabel': "+p+",'eventValue': "+i+", 'nonInteraction': "+r)),window.ga2&&(ga2("send","event",{eventCategory:e,eventAction:n,eventLabel:p,eventValue:i,nonInteraction:r}),t.debug&&console.log("sent to ga2...'send', 'event', {'eventCategory': "+e+", 'eventAction': "+n+", 'eventLabel': "+p+",'eventValue': "+i+", 'nonInteraction': "+r))):window._gaq?(_gaq.push(["_trackEvent",e,n,p,i,r]),t.debug&&console.log("sent to gaq...'_trackEvent', "+e+", "+n+", "+p+", "+i+", "+r)):t.debug&&console.log("Google Analytics not detected")}function i(e,n){window.google_tag_manager?(dataLayer.push({event:"ampException",exDescription:e,exFatal:n,appName:"AMP",appVersion:a.getAmpVersion()}),t.debug&&console.log("sent to ga...'send', 'exception', {'exDescription': "+e+", 'exFatal': "+n+", 'appName': 'AMP','appVersion': "+a.getAmpVersion())):window.ga||window.ga2?(window.ga&&(ga("send","exception",{exDescription:e,exFatal:n,appName:"AMP",appVersion:a.getAmpVersion()
}),t.debug&&console.log("sent to ga...'send', 'exception', {'exDescription': "+e+", 'exFatal': "+n+", 'appName': 'AMP','appVersion': "+a.getAmpVersion())),window.ga2&&(ga2("send","exception",{exDescription:e,exFatal:n,appName:"AMP",appVersion:a.getAmpVersion()}),t.debug&&console.log("sent to ga2...'send', 'exception', {'exDescription': "+e+", 'exFatal': "+n+", 'appName': 'AMP','appVersion': "+a.getAmpVersion()))):t.debug&&console.log("Google Analytics not detected")}var o,a=this;null==t&&(t={});var s={};this.options()["data-setup"]&&(o=JSON.parse(this.options()["data-setup"]),o.ga&&(s=o.ga));var l=["playerConfig","loaded","playTime","percentsPlayed","start","end","play","pause","error","buffering","fullscreen","seek","bitrate"],u=t.eventsToTrack||s.eventsToTrack||l,d={};u.forEach(function(e,t,n){d[e]=!0});var c=t.percentsPlayedInterval||s.percentsPlayedInterval||20,p=t.eventLabel||s.eventLabel;t.debug=t.debug||!1;var h=[],f=0,m=!1,g={loadTime:0,loadTimeStart:(new Date).getTime(),firstPlay:!1,videoElementUsed:!1,unloaddatasent:!1,updateLoadTime:function(){this.loadTime=Math.abs((new Date).getTime()-this.loadTimeStart)},send:function(){this.loadtime<1e5&&r("Video","start",!0,this.loadTime)},reset:function(){this.loadTime=0,this.loadTimeStart=(new Date).getTime(),this.firstPlay=!1,p=t.eventLabel||s.eventLabel}},y={state:!1,bufferingTime:0,bufferingTimeStart:0,enterBuffering:function(){this.bufferingTimeStart=(new Date).getTime(),this.state=!0},send:function(){this.state&&(this.bufferingTime=Math.abs((new Date).getTime()-this.bufferingTimeStart),0!==Math.round(a.currentTime())&&r("Video","buffering",!0,this.bufferingTime),this.state=!1)},reset:function(){this.bufferingTime=0,this.state=!1}},v={videoBuffer:null,sumBitrate:0,sumPerceivedBandwidth:0,sumMeasuredBandwidth:0,downloadedChunks:0,update:function(){a.currentDownloadBitrate()&&(this.downloadedChunks+=1,this.sumBitrate+=a.currentDownloadBitrate(),this.videoBuffer&&(a.currentDownloadBitrate()>=8e6?r("DownloadBitrateMbps","8+",!1,a.currentDownloadBitrate()):a.currentDownloadBitrate()>=5e6?r("DownloadBitrateMbps","5-8",!1,a.currentDownloadBitrate()):a.currentDownloadBitrate()>=3e6?r("DownloadBitrateMbps","3-5",!1,a.currentDownloadBitrate()):a.currentDownloadBitrate()>=2e6?r("DownloadBitrateMbps","2-3",!1,a.currentDownloadBitrate()):a.currentDownloadBitrate()>=1e6?r("DownloadBitrateMbps","1-2",!1,a.currentDownloadBitrate()):a.currentDownloadBitrate()>=5e5?r("DownloadBitrateMbps","0.5-1",!1,a.currentDownloadBitrate()):a.currentDownloadBitrate()>=0&&r("DownloadBitrateMbps","0-0.5",!1,a.currentDownloadBitrate()),r("DownloadBitrate",a.currentDownloadBitrate(),!1,a.currentDownloadBitrate()),this.sumPerceivedBandwidth+=this.videoBuffer.perceivedBandwidth,this.sumMeasuredBandwidth+=this.videoBuffer.downloadCompleted.measuredBandwidth))},send:function(){this.downloadedChunks>0&&(r("Download","AverageBitrate",!1,Math.round(this.sumBitrate/this.downloadedChunks)),this.videoBuffer&&(r("Download","AveragePerceivedBandwidth",!1,Math.round(this.sumPerceivedBandwidth/this.downloadedChunks)),r("Download","AverageMeasuredBandwidth",!1,Math.round(this.sumMeasuredBandwidth/this.downloadedChunks))))},reset:function(){this.videoBuffer=null,this.sumBitrate=0,this.sumPerceivedBandwidth=0,this.sumMeasuredBandwidth=0,this.downloadedChunks=0}},_={totalSeconds:0,start:function(){var e=this;this.interval=setInterval(function(){e.totalSeconds+=1},1e3)},pause:function(){clearInterval(this.interval),delete this.interval},resume:function(){this.interval||this.start()},send:function(){var e=(this.totalSeconds/60).toFixed(2);r("playTimeMins",e,!1,e),r("playTimeSecs",this.totalSeconds,!1,this.totalSeconds)},reset:function(){this.totalSeconds=0}},b=function(){if(g.reset(),y.reset(),g.videoElementUsed&&d.playTime&&_.send(),_.reset(),f=0,!p){var e=a.currentSrc().split("//")[1];e.match(/.ism\/manifest/i)&&(e=e.split(/.ism\/manifest/i)[0]+".ism/manifest"),p=e,t.debug&&console.log("eventLabel set as: "+p)}d.loaded&&r("Video","loadedmetadata",!0),d.playerConfig&&(r("AmpVersion",a.getAmpVersion(),!1),r("PlaybackTech",a.currentTechName(),!1),r("MimeType",a.currentType(),!1),this.isLive()?r("isLive","Live",!1):r("isLive","VOD",!1),a.currentProtectionInfo()?r("Protection",a.currentProtectionInfo()[0].type,!1):r("Protection","Unencrypted",!1)),g.videoElementUsed=!0},S=function(){var t=Math.round(a.currentTime());if(!this.isLive()){var n=Math.round(a.duration()),i=Math.round(t/n*100);i%c==0&&i<=100&&(e.call(h,i)<0&&(0!==i&&(f+=c,f<=100&&r("PercentsPlayed",f,!0)),h.push(i)),0!=i&&(i!=c?r("PartsPlayed",i-c+1+"-"+i,!0):r("PartsPlayed","0-"+i,!0)))}d.bitrate&&!v.videoBuffer&&a.currentDownloadBitrate()&&v.update()},T=function(){g.updateLoadTime()},w=function(){var e;e=Math.round(a.currentTime()),r("Video","play",!0,e)},k=function(){m=!1,g.firstPlay||(d.start&&g.send(),g.firstPlay=!0),d.buffering&&y.send(),d.playTime&&(0==_.totalSeconds?_.start():_.resume())},E=function(){if(d.buffering&&y.send(),d.playTime&&_.pause(),d.pause){var e=Math.round(a.currentTime()),t=Math.round(a.duration());e===t||m||r("Video","pause",!1,e)}},C=function(){if(m=!0,d.buffering&&y.reset(),d.seek){var e=Math.round(a.currentTime());r("Video","seek",!1,e)}},P=function(){d.playTime&&_.pause(),d.end&&r("Video","ended",!0)},I=function(){y.enterBuffering()},M=function(){v.update()},A=function(){if(d.playTime&&_.pause(),d.error){var e;e=Math.round(a.currentTime());var t=a.error().code.toString(16);r("Video","error",!0,e),r("Error",t,!0,t),i(t,!0)}},R=function(){var e=Math.round(a.currentTime());("function"==typeof a.isFullscreen?a.isFullscreen():void 0)||("function"==typeof a.isFullScreen?a.isFullScreen():void 0)?r("Video","enter fullscreen",!1,e):r("Video","exit fullscreen",!1,e)};a.addEventListener("loadedmetadata",b),d.bitrate&&a.addEventListener("loadedmetadata",function(){v.send(),v.reset(),v.videoBuffer=a.videoBufferData(),v.videoBuffer&&v.videoBuffer.addEventListener("downloadcompleted",M)}),d.start&&a.addEventListener("canplaythrough",T),(d.percentsPlayed||d.bitrate)&&a.addEventListener("timeupdate",S),a.addEventListener("playing",k),(d.playTime||d.bitrate)&&(window.addEventListener("onbeforeunload",n,!1),window.addEventListener("pagehide",n,!1)),(d.error||d.playTime)&&a.addEventListener("error",A),(d.end||d.playTime)&&a.addEventListener("ended",P),d.play&&a.addEventListener("play",w),(d.pause||d.playTime||d.buffering)&&a.addEventListener("pause",E),d.buffering&&a.addEventListener("waiting",I),(d.buffering||d.seek)&&a.addEventListener("seeking",C),d.fullscreen&&a.addEventListener("fullscreenchange",R)})}.call(this),define("ampvideo",["jquery"],function(e){var t=function(e,t){var n=document.querySelector("body"),r=parseInt(n.getAttribute("data-amp-count")||0,10),i=e.getAttribute("id")||"";""===i&&(r+=1,n.setAttribute("data-amp-count",r),i="azuremediaplayer"+String(r),e.setAttribute("id",i));var o=e.getAttribute("data-src"),a=e.getAttribute("data-type"),s=e.getAttribute("data-poster"),l=e.hasAttribute("autoplay"),u=e.hasAttribute("controls"),d=e.hasAttribute("muted"),c={techOrder:["azureHtml5JS","html5FairPlayHLS","html5"],nativeControlsForTouch:!1,autoplay:l,controls:u,controlsList:"nodownload",muted:d,width:"100%",height:"100%",logo:{enabled:!1},hotKeys:{enableVolumeScroll:!1},poster:s,tabindex:0,plugins:{ga:{eventsToTrack:["loaded","playTime","percentsPlayed","start","end","play","pause","error","fullscreen","seek"],debug:!1}}},p=amp(i,c);return p.src([{src:o,type:a}]),p.ready(function(){var e=this.el_.querySelector("video");"video/mp4"===e.dataset.type&&(e.muted=!!e.hasAttribute("muted")),t&&this.play()}),p},n=function(e){var n=null;return n="VIDEO"===e.get(0).nodeName?t(e.get(0)):amp(e.attr("id"))};return{createPlayer:t,getPlayer:n}}),define("header",["jquery"],function(e){e(".js-language").hover(function(){e(this).addClass("is-open")},function(){e(this).removeClass("is-open")});var t=null,n=-130,r=12,i="",o=function(){e(".l-header").outerHeight()-e(".header-bottom").outerHeight(),window.scrollY;return null===t?void(t=document.body.getBoundingClientRect().top):void(t>document.body.getBoundingClientRect().top&&t-document.body.getBoundingClientRect().top<r||(t<document.body.getBoundingClientRect().top&&document.body.getBoundingClientRect()).top-t<r||document.body.getBoundingClientRect().top>n||"fixed"!==e(".header-wrapper").css("position")||(document.body.getBoundingClientRect().top>t&&"UP"!==i?(i="UP",e(".header-wrapper").removeClass("unpin")):document.body.getBoundingClientRect().top<t&&"DOWN"!==i&&(i="DOWN",e(".header-wrapper").addClass("unpin")),t=document.body.getBoundingClientRect().top))};e(window).on("scroll",function(){o()}),o()}),define("footer",["jquery","bootstrap","bootstrap-tooltip","bootstrap-popover","jquery-ui","waypoints"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){function t(){i.addClass("hidden"),e(".footer .joinus-email").addClass("hidden"),i.siblings(".success").removeClass("hidden")}function n(){i.addClass("hidden"),r.find(".fail").removeClass("hidden");setTimeout(function(){r.find("button").prop("disabled",!1)},3e3)}e('[data-toggle="popover"]').popover(),e(".dropdown-toggle").dropdown(),e(".footerNav").popover({content:e("#footerNavContent").html(),html:!0,trigger:"click"}),e("body").on("click",function(t){e(".footerNav").each(function(){e(this).is(t.target)||0!==e(this).has(t.target).length||0!==e(".popover").has(t.target).length||e(this).popover("hide")})}),window.footerOpenURL=function(t,n,r){if(r&&"_blank"===r){var i=window.open("","_blank");i.location.href=n}else window.location.href=n;e(".footerNav .footerNavName").html(t),e(".footerNav").popover("hide")};var r=e(".footer .joinus-email form"),i=e(".footer .loading"),o=r.find("input, select"),a=o.filter("input[type='checkbox']");a.on("click",function(t){var n=e(t.currentTarget);n.toggleClass("checked")});var s=e(".open-popup-link");s.on("mfpOpen",function(t){var n=e(this);if(n.has(".open-subscribe-form")){var r=e(n.attr("href")),i=e('.footer .subscribe input[type="email"]').val()||"";e('input[type="email"]',r).val(i)}}),r.find("button").on("click",function(a){a.preventDefault(),e(".footer .errMsg:not(.hidden)").addClass("hidden");var s=0;r.find('.option input[type="checkbox"].checked').length<=0&&(r.find(".option").parents(".row").next(".errMsg").removeClass("hidden"),s++);var l=/^([a-zA-Z0-9_\.\-!])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return l.test(e("#subscribe-email").val())||(e("#subscribe-email").parents(".row").next(".errMsg").removeClass("hidden"),s++),e("#subscribe-pics.checked").length<=0&&(e("#subscribe-pics").parent(".row").next(".errMsg").removeClass("hidden"),s++),!(s>0)&&(e(this).prop("disabled",!0),i.removeClass("hidden"),void e.ajax({url:r.attr("action"),type:"post",data:o.serialize(),success:function(e,n){t()},error:function(){n()}}))}),e(".back-to-top button").on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},500)}),e(".back-to-top").removeClass("hidden").fadeOut(0),e("body").waypoint({triggerOnce:!1,handler:function(t){"down"===t?e(".back-to-top").fadeIn(400):"up"===t&&(e(".back-to-top").fadeOut(400),e(".run-in-bg").removeClass("run-in-fg"))},offset:-150}),e(".wrapper").waypoint({triggerOnce:!1,handler:function(t){"down"===t?e(".back-to-top").addClass("anchor"):"up"===t&&e(".back-to-top").removeClass("anchor")},offset:"bottom-in-view"}),e(".page-bottom").waypoint({triggerOnce:!1,handler:function(t){"down"===t&&e(".run-in-bg").addClass("run-in-fg")},offset:"100%"}),e("body").waypoint({triggerOnce:!1,handler:function(t){"up"===t&&e(".run-in-bg").removeClass("run-in-fg")},offset:function(){return-e("body").height()+e(window).height()+e(".footer.fixed").outerHeight(!0)}})};var n=new t;return n.init(),n}),define("header-carousel",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){if(e(".header-carousel").length<=0)return!1;var t=e(".header-carousel"),r=t.find(".slick-carousel"),i=r.find(".item:not(.slick-cloned)").length-1,o=function(e){var t=r.find(".item:not(.slick-cloned):eq("+e+")"),n=t.prev(".item"),i=t.next(".item"),o=r.find(".slick-prev"),s=r.find(".slick-next");o.find("img").length?o.find("img").attr("src",a(n)):o.append('<img src="'+a(n)+'" alt="" />'),s.find("img").length?s.find("img").attr("src",a(i)):s.append('<img src="'+a(i)+'" alt="" />')},a=function(e){if(e.find(".background-size-polyfill").length)return e.find(".background-size-polyfill img").attr("src");var t=e.css("background-image")||"";return t=t.replace(/^url|["\(\)]/g,"")},s=window.paginationSpeed?1e3*window.paginationSpeed:1e4;r.on("init",function(e,t){r.find(".item:not(.slick-cloned):eq(0) video");i>0&&o(0)}),r.on("beforeChange",function(e,t,n,r){o(r)}),r.on("afterChange",function(n,i,o){var a=r.find(".item:not(.slick-cloned):eq("+o+")");if(a.hasClass("video"))try{}catch(s){}else t.find(".slick-carousel .item .video-wrapper").each(function(t,n){try{e(n).find("video")[0].pause(),e(n).find("video")[0].currentTime=0}catch(r){}e(n).addClass("hidden")})}),r.slick({autoPlay:!e("body").hasClass("edit-mode"),autoPlaySpeed:s,dots:!1,adaptiveHeight:!0,infinite:!0,responsive:[{breakpoint:767,settings:{dots:!0,arrows:!1}}]}),t.find(".item.video .buttons a").each(function(t,n){var r=e(n);r.on("click",function(e){e.preventDefault(),$v=r.parents(".video").find(".video-wrapper"),$v.removeClass("hidden");try{$v.find("video")[0].play()}catch(t){}})}),r.find(".item iframe").each(function(t,r){!n()&&Modernizr.canvas&&Modernizr.webgl?e(r).attr("src",e(r).data("src")):e(r).remove()})};var n=function(){var e=!1;return function(t){/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t)&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},r=new t;return r.init(),r}),define("header-cookies",["jquery","jquery.cookie"],function(e){function t(t){e(".search__results").css({marginTop:t})}if(!e.cookie("taikooweb-visited")){e.cookie("taikooweb-visited",!0);var n=e(".header-cookies").clone(),r=e(".header-cookies").clone();n.addClass("header-cookies--clone"),r.addClass("header-cookies--clone header-cookies--cloneWrapper"),e(".l-header").before(n),e(".header-wrapper").siblings(".wrapper").prepend(r),e(".header-cookies").slideDown(function(){t(e(".header-cookies").outerHeight())}),e(".header-cookies .cookies-close").on("click",function(){e(".header-cookies").slideUp(function(){e(this).remove()}),t(0)})}}),define("navigation",["jquery","bootstrap","responsive-toolkit","magnific"],function(e){function t(t){e(".js-navigation-label").text(e(t).text()),e(t).parents(".navigation").first().removeClass("is-mobileOpen").addClass("is-mobileSlideLeft"),u.hide(),e(t).parent().hasClass("js-level-1")?e(".js-level-2, .js-level-3").removeClass("is-desktopOpen").addClass("is-desktopClose"):e(t).parent().hasClass("js-level-2")&&e(".js-level-3").removeClass("is-desktopOpen").addClass("is-desktopClose"),e(".js-navigations").addClass("is-open"),e(".js-navigation-"+e(t).data("child")).removeClass("is-mobileSlideRight").addClass("is-mobileOpen is-desktopOpen")}function n(){s.removeClass("noscroll"),e(".l-header").removeClass("l-header--menu").find(".l-nav").removeClass("l-nav--isOpenMobile").end().find(".js-language, .logo").show().end().find(".header-back, .header-label").hide().end().find(".navigation").removeClass("is-mobileOpen").end().find(".js-level-2, .js-level-3").removeClass("is-mobileSlideLeft").addClass("is-mobileSlideRight"),e(".bt-mobile").removeClass("close"),e(".js-header-search").show(),e(".navigations").removeClass("is-open"),e(".js-level-2, .js-level-3").removeClass("is-desktopOpen").addClass("is-desktopClose")}function r(){n(),l.off(),a.width()<1099?l.on("click",function(e){e.preventDefault(),t(this)}):l.on("mouseover",function(e){e.preventDefault(),t(this)})}function i(){var e=navigator.userAgent||navigator.vendor||window.opera;return/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":"unknown"}function o(){var t=e(".icon-tkp-icons-web-socialbar-download"),n=t.data(i());t.length&&n&&t.attr("href",n)}var a=e(window),s=e("body"),l=e(".js-open-navigation");e(".js-navigation-tap").on("click",function(){e(this).parent().hasClass("navigation--expend")?e(".js-navigation-tap").parent().removeClass("navigation--expend"):(e(".js-navigation-tap").parent().removeClass("navigation--expend"),e(this).parent().addClass("navigation--expend"))}),e(".js-header-menu-close").on("click",function(){e(".l-nav").addClass("l-nav--isClosingMobile"),setTimeout(function(){e(".l-nav").removeClass("l-nav--isClosingMobile"),n()},500)}),e(".js-header-menu").on("click",function(){e(".l-header").hasClass("l-header--menu")?n():(e("body").addClass("noscroll"),e(".l-header").addClass("l-header--menu").find(".l-nav").addClass("l-nav--isOpenMobile").end().find(".js-language, .logo").hide().end().find(".header-back, .header-label").show().end().find(".js-level-1").removeClass("is-mobileSlideLeft"),e(".bt-mobile").removeClass("play").addClass("close"),e(".js-header-search").hide())}),e(".js-header-back").on("click",function(t){t.preventDefault();var n=e(".is-mobileOpen");if(n.is("[data-parent]")){var r=n.data("parent");n.addClass("is-mobileSlideRight").removeClass("is-mobileOpen"),e(".js-navigation-"+r).removeClass("is-mobileSlideLeft").addClass("is-mobileOpen"),e(".js-navigation-label").text(r.replace("_"," "))}else n.hasClass("js-navigation-main")?e(".js-header-menu").trigger("click"):(n.addClass("is-mobileSlideRight").removeClass("is-mobileOpen"),e(".js-navigation-main").addClass("is-mobileOpen").removeClass("is-mobileSlideLeft"),u.show(),e(".js-navigation-label").text("Menu"))});var u=e(".navigation-social, .navigation-copyright");a.resize(r).trigger("resize"),a.ready(function(){o()})}),define("search",["jquery"],function(e){e(".js-header-search, .js-search-close").on("click",function(t){t.preventDefault(),e(".header-wrapper .search").toggleClass("search--isOpen"),e(".search").hasClass("search--isOpen")&&setTimeout(function(){e(".search .search__input").focus()},500)}),1===e(".search__results").length&&e(".search").addClass("search--isOpen")}),define("standard-header",["jquery","viewport","slick-carousel"],function(e,t){var n=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};n.fn=n.prototype,n.fn.init=function(){function n(){e(".js-standard-header-image").each(function(){var n=t().width<415?e(this).data("mobile"):e(this).data("desktop");e(this).attr("src",n),e(this).parents(".slick").css("background-image","url("+n+")")})}if(e(".standard-header").length){var r=e(window);n(),e(".standard-header .slicks").each(function(){var t=e(this).hasClass("autoplay"),n=e(this).data("autoplay-speed"),r=e(this).data("slide-speed"),i=e(this).slick({arrows:!0,dots:!0,adaptiveHeight:!0,speed:r?r:800,autoplay:t,autoplaySpeed:n?n:3e3,useTransform:!0,lazyLoad:"ondemand",responsive:[{breakpoint:991,settings:{arrows:!1,dots:!0}}]});i.on("afterChange",function(t,n){var r=n.$slider,i=r.find(".slick-current"),o=i.hasClass("video");o?r.parent().children(".flag").addClass("deactive"):r.parent().children(".flag").removeClass("deactive"),i.siblings(".slick").each(function(){if(e(this).hasClass("video"))try{e(this).find("video").trigger("pause")}catch(t){console.log(t)}})}),e(this).find(".slick-slide.video").each(function(t,n){e(n).find("video")[0].onplay=function(){i.slick("slickPause")}}),e(this).find(".slick-arrow, .slick-dots button").on("click",function(e){i.slick("slickPause")})}),r.resize(n).trigger("resize")}};var r=new n;return r.init(),r}),define("sub-menu",["jquery","iscroll"],function(e,t){var n=t?t:IScroll;8==window.ie&&(Event=Event||window.Event,Event.prototype.stopPropagation=Event.prototype.stopPropagation||function(){this.cancelBubble=!0},Event.prototype.preventDefault=Event.prototype.preventDefault||function(){this.returnValue=!1},n.utils.addEvent=function(t,n,r,i){r instanceof Function?e(t).bind(n,r):(r.toEvent||(r.toEvent=function(e){return r.handleEvent(e.originalEvent)}),e(t).bind(n,r.toEvent))},n.utils.removeEvent=function(t,n,r,i){r instanceof Function?e(t).unbind(n,r):(r.toEvent||(r.toEvent=function(e){return r.handleEvent(e.originalEvent)}),e(t).unbind(n,r.toEvent))});var r=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};r.fn=r.prototype,r.fn.init=function(){if(e("#sub-menu-scroll").length<=0)return!1;var t=new n("#sub-menu-scroll",{scrollX:!0,scrollY:!1,mouseWheel:!0,click:!1,preventDefault:!1});t.on("scrollEnd",function(){o()});var r=10,i=function(){r=10,e("#sub-menu-scroll .sub-menu__width .sub-menu__btn").each(function(){r+=e(this).outerWidth(!0)}),e("#sub-menu-scroll .sub-menu__btns").width(r)};e(window).on("resize",function(){e(".sub-menu .sub-menu__next").removeClass("active"),e(".sub-menu .sub-menu__prev").removeClass("active"),i(),t.refresh(),o()}),i();var o=function(){e(".sub-menu .sub-menu__prev").removeClass("active"),e(".sub-menu .sub-menu__next").removeClass("active");var n=t.maxScrollX;n<0&&(0==t.x?e(".sub-menu .sub-menu__next").removeClass("active"):e(".sub-menu .sub-menu__next").addClass("active"),t.x==n?e(".sub-menu .sub-menu__prev").removeClass("active"):e(".sub-menu .sub-menu__prev").addClass("active"))};o()};var i=new r;return i.init(),i}),define("filter-dropdown",["jquery","selectBoxIt"],function(e,t){var n=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};n.fn=n.prototype,n.fn.init=function(){e(".filter-dropdown-select").selectBoxIt()};var r=new n;return r.init(),r}),define("full-width",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".js-full-width-slick").on("init",function(e,t){var n=t.$slider,r=n.closest(".full-width"),i=n.find(".slick-current");i.find("video").length?r.addClass("video"):r.removeClass("video")});var t=e(".js-full-width-slick").slick({dots:!0,adaptiveHeight:!0,lazyLoad:"ondemand"});t.on("afterChange",function(t,n){var r=n.$slider,i=r.closest(".full-width"),o=r.find(".slick-current").data("textid"),a=r.find(".slick-current");a.find("video").length?i.addClass("video"):i.removeClass("video"),i.find(".full-width__text-control.active").fadeOut(function(){e(this).removeClass("active"),e("#"+o).fadeIn(function(){e("#"+o).addClass("active")})})}),e(".js-full-width-video").each(function(){})};var n=new t;return n.init(),n}),define("half-width",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".js-half-width-slick").slick({dots:!1,arrows:!0,adaptiveHeight:!0,appendArrows:e(".js-half-width-arrows"),lazyLoad:"ondemand",responsive:[{breakpoint:991,settings:{arrows:!1,dots:!0}}]})};var n=new t;return n.init(),n}),define("three-column-content",["jquery","slick-carousel","waypoints"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".filter-dropdown-select").on("change",function(){"object"==typeof window.transitionWaypoint&&setTimeout(function(){Waypoint.refreshAll()},300)}),e(".js-three-column-slick").slick({slidesToShow:3,slidesToScroll:3,dots:!0,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}}]})};var n=new t;return n.init(),n}),define("four-column-content",["jquery"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){};var n=new t;return n.init(),n}),define("four-column-properites",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".js-four-column-slick").slick({slidesToShow:4,slidesToScroll:4,arrows:!1,dots:!0,lazyLoad:"ondemand",responsive:[{breakpoint:1170,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}}]})};var n=new t;return n.init(),n}),define("gallery",["jquery","slick-carousel","imagesloaded"],function(e){return!(e(".galleryFor, .galleryNav").length<2)&&(e(".galleryFor").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".galleryNav",lazyLoad:"ondemand"}),e(".galleryNav").slick({slidesToShow:5,slidesToScroll:1,asNavFor:".galleryFor",focusOnSelect:!0,lazyLoad:"ondemand",adaptiveHeight:!1,responsive:[{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,arrows:!1}},{breakpoint:991,settings:{slidesToShow:4,slidesToScroll:1,infinite:!0,arrows:!1}}]}),e(".galleryModal").on("shown.bs.modal",function(t){var n=e(t.relatedTarget),r=n.parent(".slick-slide").prevAll(".slick-slide").length,i=n.parents(".slick-list").find(".slick-slide"),o="";i.each(function(t,n){var r=e(n).find(".galleryFor__item__image"),i=r.data("large");void 0!=i&&""!=i||(i=r.data("lazy")),void 0!=i&&""!=i||(i=r.attr("src")),o+='<div class="galleryFull__item"><div class="galleryModal__image-wrap"><img class="galleryModal__image" src="'+i+'" /></div><div class="galleryModal__text">'+e(n).find(".galleryFor__item__text").html()+"</div></div>"}),e(this).find(".galleryModal__cell").html('<div class="galleryFull hidden">'+o+"</div>"),e(".galleryFull .galleryFull__item:eq(0)").imagesLoaded(function(){e(".galleryFull").removeClass("hidden").slick({slidesToShow:1,slidesToScroll:1,initialSlide:r,useTransform:!0,arrows:!0,autoPlay:!1,adaptiveHeight:!0,responsive:[{breakpoint:480,settings:{arrows:!1,dots:!0}}]})}),e("body").addClass("noscroll")}),e(".galleryModal").on("hide.bs.modal",function(t){e("body").removeClass("noscroll")}),e(".galleryFor, .galleryModal").on("beforeChange",function(){e(this).find("video").length&&e(this).find("video").each(function(){try{e(this)[0].pause()}catch(t){}})}),void e(".js-galleryFor, .js-galleryNav").on("click",function(e){e.preventDefault()}))}),define("shop-directory",["jquery","isotope","slick-carousel","scrollto"],function(e,t){function n(e,t){var n=location.pathname.split("/"),r=n[n.length-1];if("tenants"!==r&&e){null!==t&&(a.params[e]=t);var i="";a.params.GroupId||a.params.Building?(a.params.GroupId&&(""!==i&&(i+="&"),i+="GroupId="+encodeURIComponent(a.params.GroupId)),a.params.Building&&(""!==i&&(i+="&"),i+="Building="+encodeURIComponent(a.params.Building))):(""===a.params.category?i="category=*":a.params.category&&(i="category="+encodeURIComponent(a.params.category)),a.params.alphabet&&(""!==i&&(i+="&"),i+="alphabet="+encodeURIComponent(a.params.alphabet))),history.replaceState(null,null,document.location.pathname.replaceAll("?","")+"?"+i)}}function r(t){var n=i();if(n){if(n.GroupId&&(a.params.GroupId=n.GroupId),n.Building&&(a.params.Building=n.Building),n.category){var r=n.category;"*"===n.category&&(r=""),a.params.category=n.category,o(r)}if(n.alphabet){var s="#alphabet-"+n.alphabet.toUpperCase();a.params.alphabet=n.alphabet,e(s).length&&setTimeout(function(){if(e("a[href$='-"+n.alphabet.toUpperCase()+"']")[0].click(),t){var r=t.slick("slickGetOption","slidesToShow"),i=e(".shop-directory__alphabet-item.active").index()||0;t.slick("slickGoTo",i-Math.floor(r/2))}},500)}}}function i(){for(var e=window.location.search.substring(1),t=e.split("&"),n={},r=0;r<t.length;r++){var i=t[r].split("=");n[i[0]]=decodeURIComponent(i[1])}return n}function o(t){setTimeout(function(){e(".js-directory-isotope-filter").val(t.toLowerCase()).trigger("change")},500)}var a=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};a.params={},a.fn=a.prototype,a.fn.init=function(){e(".js-alphabet-letter").on("click",function(){var t=e(this).attr("href"),r=e(t).length?e(t).position().top:"+=0",i=e(".l-header").height()<100?e(".l-header").height():0;return e(window).scrollTo(r-i+"px",800),e(".shop-directory__alphabet-item").removeClass("active"),e(this).parent().addClass("active"),n("alphabet",t.split("-")[1]),!1});var t=e(".js-alphabet").slick({dots:!1,infinite:!1,speed:300,slidesToShow:27,arrows:!1,swipeToSlide:!0,responsive:[{breakpoint:979,settings:{slidesToShow:18,arrows:!0}},{breakpoint:768,settings:{slidesToShow:12,arrows:!0}},{breakpoint:479,settings:{slidesToShow:7,arrows:!0}},{breakpoint:320,settings:{slidesToShow:7,arrows:!0}}]}),i=t.slick("slickGetOption","slidesToShow"),o=e(".shop-directory__alphabet-item.active").index()||0;if(t.slick("slickGoTo",o-Math.floor(i/2)),0!==e(".js-directory-isotope").length){var a=e(".js-directory-isotope").isotope({itemSelector:".shop-directory__thumbnail",layoutMode:"fitRows"}),s=[],l=e(".js-directory-isotope img").length;e(".js-directory-isotope img").each(function(t,n){var r=new Image;r.onload=function(){s.push(n),s.length>=l&&(e(".js-directory-isotope").css("opacity",1),a.isotope("layout"))},r.src=e(this).attr("src")}),0!==e(".js-directory-isotope-filter").length&&(e(".js-directory-isotope-filter").on("change",function(){var t=e(this).val();""==t||"all"==t||null==t?(a.isotope({filter:""}),e(".shop-directory__letter").removeClass("empty")):(e(".shop-directory__letter").removeClass("empty"),e(".shop-directory__wrap").each(function(){var n=!1;e(this).find(".shop-directory__thumbnail").each(function(r,i){var o=e(i).data("category").split(" ");o.indexOf(t)>=0&&(n=!0)}),n||e(this).children(".shop-directory__letter").addClass("empty")}),a.isotope({filter:function(){var n=e(this).data("category").split(" ");return n.indexOf(t)>=0}})),n("category",t)}),r(t))}};var s=new a;return s.init(),s}),define("promo-carousel",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".promo-carousel .slick-carousel").slick({dots:!0,responsive:[{breakpoint:767,settings:{dots:!0,arrows:!1}}]})};var n=new t;return n.init(),n}),define("event-detail",["jquery"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".atcb-link").on("click",function(t){t.preventDefault(),e(this).toggleClass("active")})};var n=new t;return n.init(),n}),define("shop-detail",["jquery"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){};var n=new t;return n.init(),n}),define("rsvp",["jquery","selectBoxIt","icheck"],function(e,t){var n=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};n.fn=n.prototype,n.fn.init=function(){e(".rsvp__select select").selectBoxIt({showFirstOption:!1}),e(".rsvp input").iCheck({checkboxClass:"icheckbox_square",radioClass:"iradio_square",increaseArea:"20%"})};var r=new n;return r.init(),r}),define("play-landing",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".js-play-landing-slick").on("init",function(e,t){t.$slides.eq(1).addClass("ready")});var t=e(".js-play-landing-slick").slick({dots:!0,adaptiveHeight:!0,infinite:!1,slidesToShow:2,responsive:[{breakpoint:767,settings:{slidesToShow:1}}]});t.on("beforeChange",function(e,t,n){var r=t.$slides;r.removeClass("ready")}),t.on("afterChange",function(e,t,n){var r=t.$slides;r.removeClass("ready"),r.eq(n+1).addClass("ready")})};var n=new t;return n.init(),n}),define("one-third-width",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".js-third-width-slick").slick({dots:!1,arrows:!0,fade:!0,responsive:[{breakpoint:991,settings:{arrows:!1,dots:!0}}]})};var n=new t;return n.init(),n}),define("accordian",["jquery"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){e(".js-accordian-close").on("click",function(){var t=e(this).parent(),n=t.parent();t.slideUp(),n.removeClass("active");
}),e(".js-accordian-open").on("click",function(){var t=e(this).parent(),n=t.children(".accordian__content");return t.hasClass("active")?(n.slideUp(),t.removeClass("active"),!1):void(e(".accordian__group.active").length?e(".accordian__group.active .accordian__content").slideUp(function(){e(".accordian__group").removeClass("active"),t.addClass("active"),n.slideDown(),e("html, body").animate({scrollTop:t.offset().top-120},600)}):(t.addClass("active"),n.slideDown()))})};var n=new t;return n.init(),n}),define("leasing-enquiries",["jquery"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){if(0!==e(".icon-icon-share-brochure-1").length){var t=e(".icon-icon-share-brochure-1").data("shareurl"),n=e(".icon-icon-share-brochure-1").data("sharetitle"),r=0,i=setInterval(function(){r++,addthis&&(addthis.button(".icon-icon-share-brochure-1",{},{url:t,title:n}),e(".icon-icon-share-brochure-1").addClass("initialized"),r=0,clearInterval(i)),r>2&&(r=0,clearInterval(i))},1e3);e(".js-download-newsletter").on("click",function(e){e.preventDefault()})}};var n=new t;return n.init(),n}),define("take-a-closer-look",["jquery"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){var t=0,n=function(){t=0,e(".take-a-closer-look__grid-size").each(function(){e(this).height()>t&&(t=e(this).height())}),e(".take-a-closer-look__grid").height(t)};e(window).on("resize",function(){n()}),n()};var n=new t;return n.init(),n}),define("map",["jquery"],function(e){e(".mapModal").on("shown.bs.modal",function(t){var n=e(t.relatedTarget);e(this).find(".mapModal__image").attr("src",e(n[0]).find(".map__image img").data("origin")).end(),e("body").addClass("noscroll")}),e(".mapModal").on("hide.bs.modal",function(t){e("body").removeClass("noscroll")})}),define("home-carousel",["jquery","slick-carousel"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){var t=e(".home-carousel");e(".home-carousel .slicks").each(function(){function r(){return e(window).width()<768?"xs":"sm"}var i=e(this).hasClass("autoplay"),o=e(this).data("autoplay-speed"),a=e(this).data("slide-speed"),s=e(this).slick({arrows:!0,dots:!0,adaptiveHeight:!0,speed:a?a:800,autoplay:i,autoplaySpeed:o?o:3e3,pauseOnFocus:!1,pauseOnHover:!1,useTransform:!0});e(this).find(".slick").length<=1&&e(this).parents(".home-carousel").addClass("single"),s.on("beforeChange",function(e,t,n,r){var i=t.$slider;i.find(".slick .container .middle").addClass("inactive")}),s.on("afterChange",function(n,r,i){var o=r.$slider,a=o.find(".slick-current"),s=(a.hasClass("video"),o.find(".slick:not(.slick-cloned):eq("+i+")"));if(s.find(".container .middle").removeClass("inactive"),t.find(".slick-slide.video").each(function(t,n){try{e(n).find("video")[0].pause(),e(n).find("video")[0].currentTime=0}catch(r){}}),s.hasClass("video"))try{}catch(l){}}),t.find(".slick-slide.video").each(function(t,n){e(n).find("video")[0].onplay=function(){s.slick("slickPause")}}),t.find(".slick-arrow, .slick-dots button").on("click",function(e){s.slick("slickPause")});var l=r();e(window).resize(function(){"xs"==r()&&"sm"==l&&s.find(".slick").each(function(e,t){n(t,"xs")}),"sm"==r()&&"xs"==l&&s.find(".slick").each(function(e,t){n(t,"sm")}),l=r()}),s.find(".slick").each(function(e,t){n(t,l)})})};var n=function(t,n){var r=""!=e(t).data("src")&&void 0!=e(t).data("src")?e(t).data("src"):"",i=""!=e(t).data("src-mobile")&&void 0!=e(t).data("src-mobile")?e(t).data("src-mobile"):r;""!=r&&e(t).css("background-image","url("+("xs"==n?i:r)+")")},r=new t;return r.init(),r}),define("carousel-logo",["jquery","viewport","slick-carousel"],function(e,t){function n(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function r(){var n=e(".js-carousel-logo.slick-initialized").length;t().width<767?n&&e(".js-carousel-logo").slick("unslick"):n||e(".js-carousel-logo").slick({arrows:!0,dots:!0,lazyLoad:"ondemand"})}var i=e(window);e(".carousel-logo__more").on("click",function(t){t.preventDefault(),e(this).siblings(".js-carousel-logo").removeClass("is-hidden"),e(this).addClass("hide")}),e(".carousel-logo").each(function(){if(e(this).hasClass("is-random")){var t=e(this).find(".carousel-logo__item");t=n(t);var r=e(this).find(".carousel-logo__slide");r.empty();for(var i=0,o=0,a=t.length;o<a;o++)o%8===0&&0!==o&&i++,e(r[i]).append(t[o])}e(this).find(".carousel-logo__item").length>6&&e(this).hasClass("js-carousel-logo")&&e(this).siblings(".carousel-logo__more").removeClass("hide")}),i.resize(r).trigger("resize")}),define("carousel-simple",["jquery","viewport","slick-carousel"],function(e,t){e(".js-carousel-simple").slick({arrows:!1,dots:!0,lazyLoad:"ondemand"})}),define("carousel-responsive",["jquery","viewport","slick-carousel"],function(e,t){function n(){e(".js-carousel-responsive").addClass("hide"),t().width>992?e(".js-carousel-responsive.carousel-responsive-desktop").removeClass("hide"):t().width>680?e(".js-carousel-responsive.carousel-responsive-tablet").removeClass("hide"):e(".js-carousel-responsive.carousel-responsive-mobile").removeClass("hide")}var r=e(window);e(".js-carousel-responsive").slick({arrows:!1,dots:!0,infinite:!0,lazyLoad:"ondemand"}),r.resize(n).trigger("resize")}),define("gmap",["jquery","global"],function(e,t){var n,r,i,o,a,s,l=[],u=[],d=18,c=2,p="",h="",f="",m=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};m.fn=m.prototype,m.fn.init=function(){var t=e("#gmap");if(t.length){var t=e("#gmap"),n=t.data("lang"),r="//maps.googleapis.com/maps/api/js?key=AIzaSyAneJ-q4LlGvP5zHxve1urghjlQ6nryyxY&language="+n;if(window.drawMap=_,e.ajax({url:r,dataType:"jsonp",jsonp:"callback",success:function(e){t.data("geoloc",""),v()},error:function(){t.data("geoloc","CN");var e=t.parents(".gmap-all");t.parents(".gmap-all").addClass("fallback"),e.hasClass("alone")&&0===e.find(".replacement").length&&e.hide()},timeout:3e3}),e(".gmap-all__nav a").on("click",function(t){t.preventDefault();var n=!0,r=e(this),i=r.attr("href").substr(1);if(r.hasClass("js-level1"))if(p=i,r.hasClass("js-hassub"))r.hasClass("active")?(r.removeClass("active").siblings("a").removeClass("inactive"),r.siblings(".submenu").find(".js-level2, .js-level3").removeClass("inactive"),e(".gmap-all__nav a").removeClass("active"),e(".gmap-all__nav").find(".subsubmenu.in").collapse("hide"),p=h=f=""):r.addClass("active").siblings("a").addClass("inactive");else{if(r.hasClass("active"))return!1;r.addClass("active").siblings("a").removeClass("active")}if(r.hasClass("js-level2"))if(r.hasClass("js-sub-hassub"))r.parent(".panel").siblings("a").removeClass("active"),r.parents(".submenu").find(".subsubmenu a").removeClass("active"),r.parents(".submenu").find(".js-level2, .js-level3").removeClass("inactive"),r.hasClass("active")?(r.removeClass("active"),h=f=""):(r.parents(".submenu").find(".js-level2").not(r).addClass("inactive"),r.addClass("active").parent(".panel").siblings(".panel").find("> a").removeClass("active"),f="",h=i);else{if(r.hasClass("active"))return!1;f="",h=i,r.siblings("a").removeClass("active").parents(".submenu").find("a").removeClass("active"),r.addClass("active"),r.parents(".submenu").find(".subsubmenu.in").collapse("hide")}if(r.hasClass("js-level3"))if(r.hasClass("active")){if(!(e(window).width()<768))return!1;r.siblings("a").removeClass("inactive"),r.removeClass("active"),f=""}else f=i,r.addClass("active").removeClass("inactive").siblings("a").removeClass("active").addClass("inactive");a="",""!=p&&(a+=p),""!=h&&(a+="/"+h),""!=f&&(a+="/"+f),"/"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),n&&g()}),e(".gmap-all__nav a.active").length){var i=e(e(".gmap-all__nav a.active")[0]).attr("href").substr(1);p=i,a="/"+i}}};var g=function(){y();var t=[],r=new google.maps.LatLngBounds;e.each(u,function(e,i){w(a);i.QueryPath.indexOf(a)>-1&&""!=p?(l[e].setMap(n),t.push(l[e]),r.extend(l[e].getPosition())):l[e].setMap(null)}),t.length<=0||(google.maps.event.addListenerOnce(n,"bounds_changed",function(e){this.getZoom()>d&&this.setZoom(d)}),n.fitBounds(r))},y=function(){try{for(var e=0;e<u.length;e++)u[e].Box.close()}catch(t){}},v=function(){var t=e("#gmap");void 0!=t.data("minzoom")&&parseInt(t.data("minzoom"))>0&&(c=t.data("minzoom")),void 0!=t.data("maxzoom")&&parseInt(t.data("maxzoom"))>0&&(d=t.data("maxzoom"));void 0!=t.data("geoloc")&&"CN"==t.data("geoloc"),"//maps.googleapis.com";_()},_=function(){e.getScript("/files/taikooplace/js/infobox.js",b)},b=function(){var t=e("#gmap");s=t.data("zoom");var a=parseFloat(t.data("latlng").split(",")[0]),l=parseFloat(t.data("latlng").split(",")[1]);r=new google.maps.LatLng(a,l),i=new google.maps.LatLng(a,l),o=[{featureType:"road",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{saturation:-100}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],mapOptions={center:r,zoom:s,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1,styles:o,maxZoom:d,minZoom:c},n=new google.maps.Map(t[0],mapOptions);var u=(new google.maps.LatLngBounds(new google.maps.LatLng(22.2918826,114.2080431),new google.maps.LatLng(22.2823622,114.2207031)),google.maps.event.addListener(n,"tilesloaded",function(){google.maps.event.removeListener(u),S()}));n?t.addClass("hasMap"):t.addClass("noMap")},S=function(){function n(t){var n=e.grep(l,function(e,n){return e.itemName.toUpperCase()===t.toUpperCase()});return n.length>0&&(null!=n[0].getMap()&&google.maps.event.trigger(n[0],"click",{latLng:new google.maps.LatLng(0,0)}),!0)}var r=e("#gmap");window.POIs&&window.POIs.length?e.each(window.POIs,function(e,t){T(e,t)}):T(0,{Id:"",Title:r.data("title"),Longitude:r.data("latlng").split(",")[1],Latitude:r.data("latlng").split(",")[0],Url:null,GoogleDirectionUrl:r.data("googledirectionurl"),Path:""}),console.log("MARKERS"),console.log(l),console.log("INFOBOXES"),console.log(u),console.log("Filter Path: "+a);var i=t.getQueryStringValue("path").replace(/^\/|\/$/g,"").split("/");i.length>0&&""!=i[0]&&(e('.gmap-all__nav a[href="#'+i[0]+'"]').trigger("click"),i.length>1&&setTimeout(function(){n(i[1])||e('.gmap-all__nav a[href="#'+i[1]+'"]').trigger("click")},500),i.length>2&&setTimeout(function(){n(i[2])||e('.gmap-all__nav a[href="#'+i[2]+'"]').trigger("click")},1e3),i.length>3&&setTimeout(function(){n(i[3])},1500),e("html, body").animate({scrollTop:e(".gmap-all").offset().top-e(".l-header").height()},1e3))},T=function(e,t){var r,i=new google.maps.LatLng(t.Latitude,t.Longitude),o=new google.maps.MarkerImage("/files/taikooplace/images/map-marker.png",null,null,null,new google.maps.Size(20,30));r=new google.maps.Marker({position:i,map:n,icon:o,clickable:!0,animation:google.maps.Animation.DROP,itemName:t.ItemName});var s='<div class="gmap-ibox" id="'+t.Id+'" data-path="'+t.Path+'"><div class="content"><h4><a href="'+t.Url+'">'+t.Title+'</a></h4><a class="dirlink" href="'+t.GoogleDirectionUrl+'" target="_blank">'+window.getDirText+'</a></div><span class="arrow"></span></div>';null==t.Url&&(s='<div class="gmap-ibox" id="'+t.Id+'" data-path="'+t.Path+'"><div class="content"><h4>'+t.Title+'</h4><a class="dirlink" href="'+t.GoogleDirectionUrl+'" target="_blank">'+window.getDirText+'</a></div><span class="arrow"></span></div>');var d=new InfoBox({content:s,disableAutoPan:!1,maxWidth:246,pixelOffset:new google.maps.Size((-123),(-174)),zIndex:null,boxStyle:{width:"246px"},closeBoxMargin:"9px 9px 2px 2px",closeBoxURL:"/files/taikooplace/images/mapo-close.png",infoBoxClearance:new google.maps.Size(1,1)});u.push({Box:d,Path:w(t.Path),QueryPath:w(t.QueryPath),latlng:i}),google.maps.event.addListener(r,"click",function(){y(),d.open(n,this)}),""!=t.Path&&(void 0!==a&&t.Path.indexOf(a)>-1?r.setMap(n):r.setMap(null)),l.push(r)},w=function(e){if(void 0===e)return"";e=e.replace(/^\/|\/$/g,"");var t=/^(.*)([^\/])$/;return String(e).replace(t,"/$1$2/")},k=new m;return k.init(),k}),define("download-newsletter",["jquery","selectBoxIt"],function(e,t){var n=function(t){function n(){var t=i.find('[name="dnliveinhongkongsar"], [name="dbliveinhongkongsar"]');if(t.length){var n=i.find(".noliveinhongkongsartnc"),o=i.find(".directmarketingconsent"),a=i.find(".pics-error"),s=i.find(".newsletter__btn");t.length>0&&t.on("change",function(e){var t=i.find('[data-liveinhongkongsar="yes"]'),r=i.find('[data-liveinhongkongsar="no"]'),l=i.find('[data-liveinhongkongsar="always"]');l.removeClass("hidden"),o.prop("checked",!1),a.removeClass("hidden"),"yes"===this.value?(t.removeClass("hidden"),r.addClass("hidden"),n.prop("checked",!1),s.removeClass("disabled")):(t.addClass("hidden"),r.removeClass("hidden"),s.addClass("disabled"))}),o.length>0&&o.on("change",function(e){this.checked?a.addClass("hidden"):a.removeClass("hidden")}),n.length>0&&n.on("change",function(e){var t=i.find(".noliveinhongkongsartnc:checked");t.length===n.length?s.removeClass("disabled"):s.addClass("disabled")})}i.find(".newsletter__btn").on("click",function(e){e.preventDefault(),r()}),i.find("input.tel-input").on("focus keyup",function(){var t=e(this),n=t.val();""!==n?t.prev(".prefix").removeClass("hidden"):t.prev(".prefix").addClass("hidden")})}function r(){var n=e(t);if(!n.data("submitting")){n.data("submitting",!0);var r=n.data("email-error"),i=n.data("email-valid"),o=n.data("tel-error"),a=n.data("tel-valid"),s=n.data("company-error"),l=n.data("industry-error"),u=n.data("url"),d=!0,c=!0,p=!0,h=!0,f=!0,m=n.find(".email-input"),g=n.find(".tel-input"),y=n.find(".company-input"),v=n.find("select.industry-select"),_=n.find(".sflistid-input"),b=n.find('[name="dnliveinhongkongsar"]:checked, [name="dbliveinhongkongsar"]:checked'),S=n.find(".noliveinhongkongsartnc"),T=n.find(".noliveinhongkongsartnc:checked"),w=n.find(".directmarketingconsent:checked"),k=n.find(".newsletter__btn"),E="",C=/^[a-zA-Z][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$/,P=/^[456789][0-9]{7}$/,I="has-error",M=n.find(".email-error"),A=n.find(".tel-error"),R=n.find(".company-error"),j=n.find(".industry-error"),O=n.find(".captcha-error"),D=n.find(".collapse-error"),x=0;if(n.find("."+I).removeClass(I),M.html(""),A.html(""),R.html(""),j.html(""),O.html(""),D.html(""),m.length>0){var L=m.val();""===L?(m.parent().addClass(I),M.html(r),d=!1,c=!1,0===x&&m.focus(),x++):C.test(L)||(m.parent().addClass(I),M.html(i),d=!1,c=!1,0===x&&m.focus(),x++)}else m.parent().addClass(I),M.html(E),d=!1,0===x&&m.focus(),x++;if(g.length>0){var N=g.val();""===N?(g.parent().addClass(I),A.html(o),d=!1,p=!1,0===x&&g.focus(),x++):P.test(N)||(g.parent().addClass(I),A.html(a),d=!1,p=!1,0===x&&g.focus(),x++)}else g.parent().addClass(I),A.html(E);if(y.length>0){var B=e.trim(y.val());""===B&&(y.parent().addClass(I),R.html(s),d=!1,0===x&&y.focus(),x++)}else y.parent().addClass(I),R.html(s),d=!1,0===x&&y.focus(),x++;if(null===v.val()||""===v.val()){if(v.parent().addClass(I),j.html(l),d=!1,0===x){var F=v.parent().parent().attr("id");window.location.hash="",window.location.hash=F}x++}else var U=v.val();var z=!0;if(b.length?"no"===b.val()&&(z=!1,T.length<S.length&&(f=!1,k.addClass("disabled"))):(f=!1,k.addClass("disabled")),!d||!c||!p||!h||x>0||!f)return void n.removeData("submitting");n.find(".newsletter__btn").prop("disabled",!0);var H={type:"download-newsletter",email:L,tel:N,company:B,industry:U,isLiveInHongKong:z,agreeDirectMarketingConsent:!!w.length};if(z||(H.agreePrivacyPolicy=!0,H.agreeSensitivePersonalInfo=!0,H.agreeProvisionOfPIInsideResidence=!0,H.agreeProvisionOfPIOutsideResidence=!0),_.length>0){var V=e.trim(_.val());""!==V&&(H.sfListId=V)}var q=JSON.stringify(H);e.ajax({url:u,type:"POST",data:q,success:function(t){n.removeData("submitting"),"true"===t.status?(n.find(".js-download-link").attr("href",t.url),window.console&&n.find(".newsletter__before").slideUp("slow",function(){n.find(".newsletter__after").slideDown("slow")})):"false"===t.status&&(n.find(".newsletter__before").slideUp("slow",function(){n.find(".newsletter__after_error").slideDown("slow")}),console.log("An error ocurred, false"),console.log(t)),e(".header-wrapper").removeClass("unpin")},error:function(t){n.removeData("submitting"),window.console&&(n.find(".newsletter__before").slideUp("slow",function(){n.find(".newsletter__after_error").slideDown("slow")}),console.log("An error ocurred"),console.log(t)),e(".header-wrapper").removeClass("unpin")}})}}var i=e(t);i.length&&(i.find(".form-select").selectBoxIt({autoWidth:!1}),e(window).on("load",n))},r=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};r.fn=r.prototype,r.fn.init=function(){"#newsletter"===window.location.hash&&e(".open-subscribe-form").length>0&&e("#newsletter-popup.mfp-hide").length>0&&e(".open-subscribe-form").click(),n("#newsletter-popup2"),n("#brochure-popup")};var i=new r;return i.init(),i}),define("the-mag-detail",["jquery","viewport","slick-carousel","waypoints"],function(e,t){var n=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};n.fn=n.prototype,n.fn.init=function(){function n(){e(".hero .figure-img").trigger("window:resize")}1===e(".the-mag-detail").length&&(e(".the-mag-detail-carousel,.the-mag-detail-carousel-shadow-caption").length>=2&&(e(".the-mag-detail-carousel").each(function(){var t=e(this).find(".slicks"),n=e(this).nextAll(".the-mag-detail-carousel-shadow-caption").first(),r=t.hasClass("autoplay"),i=t.data("autoplay-speed"),o=t.data("slide-speed"),a=t.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,dots:!0,prevArrow:".slick-nav.prev",nextArrow:".slick-nav.next",speed:o?o:800,autoplay:r,autoplaySpeed:i?i:3e3,asNavFor:n,adaptiveHeight:!0,lazyLoad:"ondemand",useTransform:!0});n.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,autoplay:!1,dots:!1,asNavFor:t,adaptiveHeight:!0,useTransform:!0});t.find(".photo.itemVideo").each(function(t){e(this).find("video")[0].onplay=function(){a.slick("slickPause"),a.slick("slickSetOption","autoplay",!1)}}),t.find(".slick-arrow, .slick-dots button").on("click",function(e){a.slick("slickPause"),a.slick("slickSetOption","autoplay",!1)})}),e(".the-mag-detail-carousel,.the-mag-detail-carousel-shadow-caption").on("beforeChange",function(){e(this).find("video").length&&e(this).find("video").each(function(){try{e(this)[0].pause()}catch(t){}})}),e(".theMagGalleryModal").on("shown.bs.modal",function(t){var n=e(t.relatedTarget),r=n.parent(".slick-slide").prevAll(".slick-slide").length,i=n.parents(".slick-list").find(".slick-slide"),o=n.parents(".the-mag-detail-carousel").nextAll(".the-mag-detail-carousel-shadow-caption").first(),a=o.find(".slick-slide"),s="";i.each(function(t,n){var r=e(n).find(".photo img"),i=r.data("large");void 0!=i&&""!=i||(i=r.attr("src")),s+='<div class="theMagGalleryFull__item"><div class="theMagGalleryModal__cell-wrap"><div class="theMagGalleryModal__image-wrap"><img class="theMagGalleryModal__image" src="'+i+'" /></div></div><div class="theMagGalleryModal__text">'+a.eq(e(n).index()+1).find(".caption").html()+"</div></div>"}),e(this).find(".theMagGalleryModal__cell").html('<div class="theMagGalleryFull hidden">'+s+"</div>"),e(".theMagGalleryFull .theMagGalleryFull__item:eq(0)").imagesLoaded(function(){e(".theMagGalleryFull").removeClass("hidden").slick({slidesToShow:1,slidesToScroll:1,initialSlide:r,arrows:!0,autoPlay:!1,adaptiveHeight:!0,responsive:[{breakpoint:480,settings:{arrows:!1,dots:!0}}]})})}),e(".theMagGalleryModal").on("hide.bs.modal",function(t){e("body").removeClass("noscroll")}),e(".js-theMagGalleryFor, .js-theMagGalleryNav").on("click",function(e){e.preventDefault()})),e(".theMagGallerySingleModal").length&&e(".theMagGallerySingleModal").on("shown.bs.modal",function(t){var n=e(t.relatedTarget),r=n.find("img");r.length&&e(this).find(".theMagGalleryModal__image").attr("src",r.attr("src"));var i=n.find(".figure-caption");i.length&&e(this).find(".theMagGalleryModal__text").html(i.html()),e("body").addClass("noscroll")}).on("hide.bs.modal",function(t){e(this).find(".theMagGalleryModal__image").attr("src",null),e(this).find(".theMagGalleryModal__text").html(""),e("body").removeClass("noscroll")}),0===e(".the-mag-detail__floating__sns").length&&e(".the-mag-detail__content__sns").clone(!0).appendTo(e("body")).addClass("the-mag-detail__floating__sns").removeClass("the-mag-detail__content__sns"),e(".the-mag-detail__main-content").waypoint({triggerOnce:!1,handler:function(t){"down"==t?(e(".the-mag-detail__content__sns").addClass("sticky"),e(".the-mag-detail__floating__sns").addClass("sticky")):"up"==t&&(e(".the-mag-detail__content__sns").removeClass("sticky"),e(".the-mag-detail__floating__sns").removeClass("sticky"))},offset:function(){return e(".the-mag-detail__main-content").position().top}}),e(".the-mag-detail__related").waypoint({triggerOnce:!1,handler:function(t){"up"==t&&(e(".the-mag-detail__content__sns").addClass("sticky"),e(".the-mag-detail__floating__sns").addClass("sticky"))},offset:"80%"}),e(".the-mag-detail__related").waypoint({triggerOnce:!1,handler:function(t){"down"==t&&(e(".the-mag-detail__content__sns").removeClass("sticky"),e(".the-mag-detail__floating__sns").removeClass("sticky"))},offset:"90%"}),e(".hero .figure-img").each(function(){e(this).on("window:resize",function(){var n=e(this),r={m:n.data("lazy"),l:n.data("large")};t().width<960?n.attr("src",r.m):n.attr("src",r.l)})}),i.resize(n).trigger("resize"))};var r=new n,i=e(window);return r.init(),r}),define("the-mag-landing",["jquery","viewport","selectBoxIt","masonry","jquery.bridget","imagesloaded","global","waypoints","slick-carousel"],function(e,t,n,r,i){var o=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};o.fn=o.prototype,o.fn.init=function(){function n(t){m=!0,e(".loading-data").removeClass("hidden");var n=e(this).parent();n.hasClass("is-loading")||(n.addClass("is-loading"),v(t))}function r(){var t=0,n=e(".the-mag-filter__menu-wrapper"),r=n.width(),i=e(".slick-track",n),o=e("ul",n);return e("li",o).each(function(){t+=e(this).outerWidth()}),{menu:n,w:t,mw:r,x:parseFloat(i.css("left"))}}function i(t){var n=e(".the-mag-grid"),r=n.find(".the-mag-grid-item").removeClass("is-filtered"),i="*"===t?r:r.filter('[data-filter*="'+t+'"]');r.not(i).addClass("is-filtered is-invisible"),e('.the-mag-filter__menu a[data-filter="'+t+'"]').addClass("active").parent().siblings().find("a.active").removeClass("active");var o=i.not(".is-hidden").length,a=i.filter(".is-hidden").length;_(i),y(),o<h&&a>0&&v(h-o),Waypoint.refreshAll()}function o(){var n=e(".the-mag-grid"),r=null;t().width<768?(n.data("masonry")&&n.masonry("destroy"),n.data("init")||(r=n.data("num-item-displayed"),n.hasClass("js-cards-inited")||(r=n.data("num-init-displayed"),n.addClass("js-cards-inited")),v(r))):n.data("masonry")?setTimeout(function(e){e.masonry("layout")},250,n):(g(),r=n.data("num-item-displayed"),n.hasClass("js-cards-inited")||(r=n.data("num-init-displayed"),n.addClass("js-cards-inited")),v(r)),S.slick("slickGoTo",0),n.data("init",!0)}function a(){if(!f&&!m){var t=e(this).innerHeight()/8;e(this).scrollTop()+e(this).innerHeight()>=e(document).height()-t&&n(h)}}function s(){l(),u()}function l(){var t=d("category");if(t&&0!==t.trim().length&&"*"!==t){var n=e("[data-filter='"+t+"']");if(!(n.length<=0)){n.click();var i=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);if(!(i<992)){for(var o=e(".the-mag-filter__menu ul"),a=r(),s=n.parent().position().left+n.parent().width(),l=0;s>a.mw;)s-=e(".slick-slide",o).eq(l).width(),l++;if(l>0)var u=setInterval(function(){o.slick("slickCurrentSlide")!==l?o.slick("slickGoTo",l):clearInterval(u)},300)}}}}function u(){var t=e("#magfilter");if(!(t.length<=0)){var n=t.find("a");n.length>0&&n.on("click",function(e){var t=this.dataset.filter;t&&history.replaceState(null,null,document.location.pathname+"?category="+t)});var r=t.find(".filter-dropdown-select");r.length>0&&r.change(function(e){var t=this.value;history.replaceState(null,null,document.location.pathname+"?category="+t)})}}function d(e){var t,n,r=window.location.search.substring(1),i=r.split("&");for(n=0;n<i.length;n++)if(t=i[n].split("="),t[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}if(1===e(".the-mag-landing").length){var c=e(window),p=e(".the-mag-grid"),h=p.data("num-item-displayed")||5,f=(p.data("num-init-displayed")||5,!1),m=!1,g=function(){p.imagesLoaded().masonry({itemSelector:".the-mag-grid-item",columnWidth:".grid-sizer",isResizeBound:!0,isHorizontal:!0,isOriginLeft:!0,isOriginTop:!0,percentPosition:!0})},y=function(){var t=e(".the-mag-grid .the-mag-grid-item.is-hidden:not(.is-filtered)");f=!(t.length>0)},v=function(t){var n=e(".the-mag-grid").find(".the-mag-grid-item.is-hidden:not(.is-filtered):lt("+t+")");n.each(function(){b(e(this))}),_(n),y(),m=!1,e(".loading-data").addClass("hidden")},_=function(t){var n=e(".the-mag-grid");t.not(".is-hidden.is-invisible").length>0?e(".no-results").addClass("hidden"):e(".no-results").removeClass("hidden"),t.imagesLoaded().progress(function(t,r){var i=e(r.img).parents(".the-mag-grid-item");n.data("masonry")&&setTimeout(function(e){e.masonry("layout")},250,n),setTimeout(function(){i.removeClass("is-invisible")},250)})},b=function(e){e.removeClass("is-hidden");var t=e.find(".the-mag-grid-item__photo img");t.attr("src",t.data("src"))};e(".infinite-load .load-more").on("click",function(e){e.preventDefault(),n(h)}),e(".the-mag-filter__menu a").on("click",function(t){t.preventDefault();var n=e(this),r=n.data("filter");e(".the-mag-filter__select select").val(r).change()});var S=e(".the-mag-filter__menu ul").slick({arrows:!0,dots:!1,infinite:!1,variableWidth:!0,adaptiveHeight:!1,responsive:[{breakpoint:991,settings:{slidesToScroll:1}},{breakpoint:1201,settings:{slidesToScroll:1}}]});e(".the-mag-filter__menu ul").on("afterChange",function(t,n,i){var o=r();o.w+o.x<o.mw&&e(".slick-next",o.menu).addClass("slick-disabled"),o.x>=0&&e(".slick-prev",o.menu).addClass("slick-disabled")}).on("swipe",function(t,n,i){var o=r(),a=0;o.w+o.x<o.mw&&"left"===i&&(e(".slick-next",o.menu).addClass("slick-disabled"),a=n.$slider.slick("getCurrent")-1,setTimeout(function(){n.$slider.slick("slickGoTo",a,!1)},550))}).on("setPosition",function(t,n){var i=r(),o=0;i.x>0&&(e(".slick-prev",i.menu).addClass("slick-disabled"),setTimeout(function(){n.$slider.slick("slickGoTo",o,!1)},550))}),e(".the-mag-filter__select select").on("change",function(){var t=e(this),n=t.val();i(n)}),e(".slim-filter-dropdown-select").selectBoxIt({autoWidth:!0}),e(".share-trigger").on("click",function(t){t.preventDefault(),e(this).toggleClass("active")}),window.theMagLandingNavTimer=null,c.resize(o).trigger("resize").on("scroll",a),s()}};var a=new o;return a.init(),a}),define("download-app-banner",["jquery","waypoints","jquery.cookie"],function(e){var t=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};t.fn=t.prototype,t.fn.init=function(){var t=e(".download-app-banner");if(t.length){if(document.cookie.indexOf("taikooweb-social-popup-close")>=0)return void t.remove();var n=t.data("offset")||100,r=t.data("showTime")||400,i=t.data("delayTime")||3e3;e(document).height()-n<=e(window).height()?t.removeClass("hidden").fadeOut(0,function(){setTimeout(function(){t.fadeIn(r)},i)}):(e(document).height()-e(window).scrollTop()-e(window).height()<n&&(n=e(document).height()-e(window).scrollTop()-e(window).height()-1),t.removeClass("hidden").fadeOut(0),n<=0&&(n=1,e("body").css("border-bottom","solid 1px black")),e("body").waypoint({triggerOnce:!0,handler:function(e){"down"===e&&t.fadeIn(r)},offset:-e(window).scrollTop()-n})),e(".page-bottom").waypoint({triggerOnce:!1,handler:function(e){"down"===e&&t.length&&t.addClass("fly-up")},offset:"100%"}),e("body").waypoint({triggerOnce:!1,handler:function(e){"up"===e&&t.length&&t.removeClass("fly-up")},offset:function(){return-e("body").height()+e(window).height()+e(".footer.fixed").outerHeight(!0)}}),t.find(".close").on("click",function(e){e.preventDefault(),t.remove();var n=!!window.MSInputMethodContext&&!!document.documentMode;n?document.cookie="taikooweb-social-popup-close=true;path=/":document.cookie="taikooweb-social-popup-close=true;expires=0;path=/"})}};var n=new t;return setTimeout(function(){n.init()},1e3),n}),define("taxi-queue",["jquery"],function(e){function t(t,n,r,i,o){e.ajax({type:t,url:n,success:function(e){var t=e;(!t.taxiQueuesStatus||t.taxiQueuesStatus.length<1)&&(t.configuration&&t.configuration.unavailableNotice?i[0].innerHTML='<p class="text-center body-copy">'+t.configuration.unavailableNotice+"</p>":i[0].innerHTML='<p class="text-center body-copy">'+r+"</p>");var n="";t.taxiQueuesStatus.forEach(function(e){var t=o.toString();t=t.replace(/{itemBuildingImage}/g,e.buildingImage),t=t.replace(/{itemDisplayOrder}/g,e.displayOrder),t=t.replace(/{itemBuildingName}/g,e.buildingName),t=t.replace(/{itemTaxiIcon}/g,e.taxiIcon),t=t.replace(/{itemTaxies}/g,e.taxies),t=t.replace(/{itemPeopleIcon}/g,e.peopleIcon),t=t.replace(/{itemPeople}/g,e.people),t=t.replace(/{itemStatusIcon}/g,e.statusIcon),t=t.replace(/{itemStatus}/g,e.status),t=t.replace(/{itemServiceUnavailableText}/g,e.serviceUnavailableText),e.serviceAvailable?(t=t.replace(/{itemContentClass}/g,""),t=t.replace(/{itemErrorClass}/g,"hidden")):(t=t.replace(/{itemContentClass}/g,"hidden"),t=t.replace(/{itemErrorClass}/g,"")),t=e.displayCrowdCounting?t.replace(/{itemCrowdClass}/g,""):t.replace(/{itemCrowdClass}/g,"hidden"),t=e.displayQueueStatus?t.replace(/{itemInfoClass}/g,""):t.replace(/{itemInfoClass}/g," hidden"),t=t.replace(/data-src/g,"src"),n+=t}),i[0].innerHTML=n},error:function(){i[0].innerHTML='<p class="text-center body-copy">'+r+"</p>"},timeout:1e4})}var n=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};n.fn=n.prototype,n.fn.init=function(){var n=e(".taxi-queue");if(!(n.length<1)){var r=n.find(".taxi-queue__section__status"),i=n.find(".taxi-queue__section__status__items");if(!(r.length<1||i.length<1)){var o=r.find(".template");if(!(o.length<1)){var a=r.attr("data-fetch-url")||"",s=r.attr("data-fetch-type")||"GET",l=r.attr("data-fetch-error-msg")||"Can't connect to server.",u=parseInt(r.attr("data-refesh-time"))||180;if(a.length<=0)return void(i[0].innerHTML='<p class="text-center body-copy">The configuration is wrong!!!</p>');t(s,a,l,i,o[0].innerHTML);setInterval(function(){t(s,a,l,i,o[0].innerHTML)},1e3*u)}}}};var r=new n;return r.init(),r}),define("global",["jquery","vanilla-lazyload","ampvideo","bootstrap","jquery-ui","magnific","waypoints"],function(e,t,n){var r=function(t){this.defaults={},this.options=e.extend(this.defaults,t)};r.fn=r.prototype,r.fn.init=function(){r.fn.isMobile=i,r.fn.getQueryStringValue=o};var i=function(){var e=!1;return function(t){/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t)&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},o=function(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))};e("input[type='checkbox']").on("click",function(t){e(this).toggleClass("checked")}),e("input[type='radio']").on("click",function(t){var n=e(this).attr("name");e(this).siblings("input[type='radio'][name='"+n+"']").removeClass("checked").end().addClass("checked")});var a=e(".itemVideo");a.each(function(t,r){e(r).one("click",function(t){t.preventDefault();var r=e(this);r.find(".itemVideo__poster").addClass("hidden"),r.removeClass("is-poster");var i=r.find(".azuremediaplayer"),o=i.length;if(o)i.removeClass("hidden"),n.createPlayer(i[0],!0);else{$v=r.find("video"),$v.removeClass("hidden");try{$v[0].play()}catch(a){}}})}),e(".open-popup-link").magnificPopup({type:"inline",midClick:!0}),window.transitionWaypoint=e(".transition").waypoint({triggerOnce:!0,handler:function(t){e(this.element).addClass("active")},offset:"100%"}),e(document).ready(function(){
e("video").bind("contextmenu",function(){return!1})}),setTimeout(function(){new t({class_loaded:"lz-loaded",class_loading:"lz-loading"})},100);var s=new r;return s.init(),s}),define("viewport",[],function(){var e=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}};return e}),define("listing-masonry",["jquery","imagesloaded"],function(e){if(!e(".masonry").length)return!1;var t=(e(window),e(".masonryTabsContent")),n=e(".masonry").data("num-item-displayed"),r=function(){return e(".js-masonry-slick").length?t.length?t.find(".tab-pane.active .js-masonry-slick"):e(".js-masonry-slick"):e(".js-masonry-stack").length?t.find(".tab-pane.active").length?t.find(".tab-pane.active .js-masonry-stack"):e(".js-masonry-stack"):void 0},i=function(){var t=r(),i=t.find(".masonry__item.is-hideNum:not(.is-hideFilter,.is-hideLocation):lt("+n+")");i.each(function(){o(e(this))}),a(i),s()},o=function(e){e.removeClass("is-hideNum");var t=e.find(".masonry__item__image");t.attr("src",t.data("lazy")),t.parents(".masonry__item__imageWrapper").css("background-image","url('"+t.data("lazy")+"')")},a=function(t){var n=r();t.imagesLoaded().progress(function(t,r){var i=e(r.img).parents(".masonry__item");n.find(".masonry__items").data("masonry")&&i.parents(".masonry__items").masonry("layout"),setTimeout(function(){i.removeClass("is-invisible")},1e3)})},s=function(){var t=r(),n=e(".js-masonry-loadMore");t.find(".masonry__item.is-hideNum:not(.is-hideFilter,.is-hideLocation)").length>0?n.removeClass("hide"):n.addClass("hide")};return i(),e(".js-masonry-loadMore").on("click",function(e){e.preventDefault();var t=r();t.find(".masonry__item.is-hideNum").first();i()}),{getContainer:r,displayItems:i,displayLoadMoreButton:s,lazyload:o,lazyloadTransition:a}}),define("listing-masonry--filter",["jquery","viewport","masonry","jquery.bridget","listing-masonry","imagesloaded","global"],function(e,t,n,r,i){function o(){var t=e(".masonryFilters");t.length&&(a.width()<1196?t.data("masonry")?t.masonry("layout"):t.masonry({itemSelector:".masonryFilter"}):t.data("masonry")&&t.masonry("destroy"))}if(!e(".js-masonryTabFilter").length)return!1;var a=e(window),s={},l=e(".masonryTabsContent"),u=e(".js-masonry-stack").data("num-item-displayed"),d=function(){location.href.split("?")[1]&&(e.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);if(t)return t[1]||0},e.urlParam("qFilter")&&(s.qFilter=e.urlParam("qFilter")))},c=function(t){if(""!==e.trim(e(".tab-pane#"+t).html()))return!1;var n=l.find(".tab-pane#all .masonryWrapper").clone(),r=n.find(".masonry__item").filter(".masonry__item[data-status='"+t+"']");r.each(function(){e(this).addClass("is-hideNum is-invisible")}),n.find(".masonry__items").html(r),e(".tab-pane#"+t).html(n)},p=function(){var t=i.getContainer(),n=t.find(".masonry__item");e(".js-masonry-filter").addClass("checked"),e(".js-masonry-filter-location")[0].selectedIndex=0,e(".js-masonry-filter-location").selectmenu("refresh"),n.removeClass("is-hideLocation is-hideFilter"),n.addClass("is-hideNum");for(var r=0;r<u;r++)e(n[r]).removeClass("is-hideNum");i.displayLoadMoreButton()},h=function(){var t=i.getContainer();e(".masonryNoResult");0==t.find(".masonry__item:not(.is-hideNum, .is-hideFilter ,.is-hideLocation)").length?(e(".masonryNoResult").removeClass("hide"),e(".masonry__items").removeAttr("style")):e(".masonryNoResult").addClass("hide")},f=function(t){e(".js-masonry-filter").each(function(){e(this).prop("checked",!1),e(this).removeClass("checked")}),e("#"+t).prop("checked",!0).addClass("checked"),m()},m=function(){var t=[],n=[],r=[],o=i.getContainer(),a=o.find(".masonry__item"),s=e(".js-masonry-filter.checked");s.each(function(){t.push(this.id)}),a.each(function(){"-1"==e.inArray(e(this).attr("data-sector"),t)?n.push(this):r.push(this)});for(var l=0;l<u;l++)i.lazyload(e(r[l]));i.lazyloadTransition(a),a.removeClass("is-hideFilter"),e(n).addClass("is-hideFilter is-invisible"),o.find(".masonry__items").data("masonry")&&o.find(".masonry__items").masonry("layout"),i.displayLoadMoreButton(),h()};a.resize(o).trigger("resize"),e(".js-masonryTabFilter").on("click",function(){p(),c(e(this).data("status"))}),e(".masonryFilters").find(".js-masonry-filter").on("click",function(t){var n=e(".js-masonry-filter.checked");return 0==n.length?(e(this).addClass("checked"),!1):void m()}),e(".js-masonry-filter-location").on("selectmenuselect",function(t,n){var r=n.item.value,o=i.getContainer(),a=o.find(".masonry__item"),s=[],l=[];a.removeClass("is-hideLocation"),"all"!==r?a.each(function(){e(this).attr("data-country")!==r&&e(this).attr("data-city")!==r?l.push(this):s.push(this)}):s=o.find(".masonry__item:not(.is-hideFilter,.is-hideLocation)"),e(l).addClass("is-hideLocation is-invisible"),a.addClass("is-hideNum");for(var d=0;d<u;d++)i.lazyload(e(s[d]));i.lazyloadTransition(a),o.find(".masonry__items").data("masonry")&&o.find(".masonry__items").masonry("layout"),i.displayLoadMoreButton(),h()}),e(".js-masonry-filter-location").one("selectmenuopen",function(t,n){var r=e(e(".js-masonry-filter-location").selectmenu("menuWidget")[0]);r.find("li:first-child").html("All"),r.find("li:first-child").off(),e(".js-masonry-filter-location").on("selectmenuselect",function(t,n){"all"==n.item.value&&e(".ui-selectmenu-text").html("All")})});i.getContainer();d(),e.isEmptyObject(s)||f(s.qFilter)}),define("listing-masonry--slick",["jquery","viewport","masonry","jquery.bridget","listing-masonry","imagesloaded","slick-carousel"],function(e,t,n,r,i){function o(){var e=(i.getContainer(),s.find(".js-masonryTab"));e.off("shown.bs.tab.switchDisplay"),t().width<481?(d(),e.length&&e.on("shown.bs.tab.switchDisplay",function(e){i.displayItems(),d()})):(u(),e.length&&e.on("shown.bs.tab.switchDisplay",function(e){i.displayItems(),u()}))}if(!e(".js-masonry-slick").length)return!1;var a=e(window),s=e(".js-tabsArrow"),l=function(){var e,t=i.getContainer();return e=t.hasClass("is-slickLayout")?"slick":"masonry"},u=function(){var e=i.getContainer();e.find(".slick-initialized").length&&e.find(".masonry__items").slick("unslick"),"slick"==l()&&(e.find(".masonry__items").prepend(e.find(".masonry__item--fullWidth").removeClass("masonry__item--fullWidth")),e.removeClass("is-slickLayout")),e.find(".masonry__items").data("masonry")?e.find(".masonry__items").masonry("layout"):e.find(".masonry__items").imagesLoaded(function(){e.find(".masonry__items").masonry({itemSelector:".masonry__item",columnWidth:280,gutter:26,isFitWidth:!0,transitionDuration:0,stamp:".masonry__stamp"})})},d=function(){var e=i.getContainer();e.find(".masonry__items").data("masonry")&&e.find(".masonry__items").masonry("destroy"),e.find(".slick-initialized").length&&e.find(".masonry__items").slick("unslick"),"masonry"==l()&&e.prepend(e.find(".masonry__item:first-child").addClass("masonry__item--fullWidth")),e.addClass("is-slickLayout"),e.find(".masonry__items").slick({lazyLoad:"ondemand",arrows:!1,slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0})};a.resize(o).trigger("resize")}),define("listing-masonry--stack",["jquery","viewport","masonry","jquery.bridget","listing-masonry","imagesloaded","global"],function(e,t,n,r,i){function o(){var n=(i.getContainer(),e(".js-masonryTab"));n.off("shown.bs.tab.switchDisplay"),t().width<481?(d(),n.length&&n.on("shown.bs.tab.switchDisplay",function(e){i.displayItems(),d()})):(u(),n.length&&n.on("shown.bs.tab.switchDisplay",function(e){i.displayItems(),u()}))}if(!e(".js-masonry-stack").length)return!1;var a=e(window),s=(e(".masonryTabsContent"),e(".js-masonry-stack").data("num-item-displayed")),l=(e(".masonry__items"),e(".default-button")),u=function(){var e=i.getContainer();e.removeClass("is-stacked"),e.find(".masonry__items").data("masonry")?e.find(".masonry__items").masonry("layout"):e.find(".masonry__items").imagesLoaded(function(){e.find(".masonry__items").masonry({itemSelector:".masonry__item",columnWidth:280,gutter:26,isFitWidth:!0,transitionDuration:0,stamp:".masonry__stamp"})})},d=function(){var e=i.getContainer();e.find(".masonry__items").data("masonry")&&e.find(".masonry__items").masonry("destroy"),e.addClass("is-stacked")},c=function(t){var n=i.getContainer();n.find(".masonry__item").addClass("is-hideNum"),t=".masonry__item"+t;var r=".masonry__item:not("+t+")";n.find(r).addClass("is-hideFilter is-invisible"),t+=".is-hideNum",e(t).removeClass("is-hideFilter");var o=e(t).slice(0,parseInt(s));o.each(function(){i.lazyload(e(this))}),i.lazyloadTransition(o),i.displayLoadMoreButton()},p=function(){var t="";return e(".filter-dropdown-select").each(function(){e(this).hasClass("selectboxit")||""===e(this).find("option:selected").val()||(t+="."+e(this).find("option:selected").val())}),e(".sub-menu__btn.active").length&&(t+="."+e(".sub-menu__btn.active").data("filter")),t};l.length&&(l.addClass("active"),c(p())),e(".sub-menu__btn").each(function(t){e(this).on("click",function(t){t.preventDefault(),e(".sub-menu__btn.active").removeClass("active"),e(this).addClass("active"),c(p())})}),e(".filter-dropdown-select").each(function(t){e(this).change(function(){c(p()),h()})});var h=function(){var t=i.getContainer();e(".masonryNoResult");0==t.find(".masonry__item:not(.is-hideNum, .is-hideFilter ,.is-hideLocation)").length?(e(".masonryNoResult").removeClass("hide"),e(".masonry__items").removeAttr("style")):e(".masonryNoResult").addClass("hide")};a.resize(o).trigger("resize")});